"use strict";(self.webpackChunksynergine=self.webpackChunksynergine||[]).push([[1588,3064],{1588:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Reviews});var a=i(4967),l=i(1721),s=i(3064),r=i(9755),n=i(6885);class Reviews extends a.default{_init(){return this.$list=r('[data-js="reviews-list"]'),!!this.$list.length}_bind(){let e=this._getHashParams(),t=this._nullSafe((()=>e.edit_review));return t&&s.default.call(t),this._bindTo(r(n),"review:created",(()=>{n.location.reload()})),this._bindTo(r(n),"review:updated",((e,t)=>{let i=this._nullSafe((()=>t.response.notification.data.review)),a=this._nullSafe((()=>t.$modal)),s=this.$list.find(`[data-js-id="${i.id}"]`).find("td");s.length&&(s.eq(1).attr("title",i.text),s.eq(1).text(i.short_text),s.eq(2).text(i.type),s.eq(3).text(i.published?"Да":"Нет"),s.eq(4).text(i.spam?"Да":"Нет"),s.eq(5).text(i.date)),a&&a.length&&a.close(null,(()=>{let e=this._route("admin:review:edit",{review:i.id});new l.default({route:e.uri})}))})),!0}}},3064:(e,t,i)=>{i.r(t),i.d(t,{default:()=>AjaxLinks});var a=i(4967),l=i(1721),s=i(7249),r=i(9755);class AjaxLinks extends a.default{_init(){return this.ajax_links='[data-js="ajax-link"]',!0}_bind(){return this._liveBindTo(this.ajax_links,"click",(e=>{e.preventDefault();let t=r(e.currentTarget);t.prop("disabled",!0);let i=t.attr("href")?t.attr("href"):t.data("js-href"),a=new s.default;return new l.default({route:i,callback:()=>{t.prop("disabled",!1),a.remove()}}),!1})),!0}static call(e,t=null){return!!r.trim(e)&&(new l.default({route:e,callback:()=>{r.isFunction(t)&&t()}}),!0)}}}}]);