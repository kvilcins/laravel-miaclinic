/*! For license information please see 91830ae3f25d2493f2fb.js.LICENSE.txt */
(self.webpackChunksynergine=self.webpackChunksynergine||[]).push([[5765,5477,6322,8449,5668,4773,9989,7391,1588,58,1611,8588,5903,9700,8668,3633,9198,9116,1838,767,3064,683,2637,3166,7249,7757,5962,7864,5392,6417,2440,5938,9875,9649,2756,9718,4466,5200,1418,9516,4584,1377,1720,9279,4558,2405,3184,8796,7729,4319,858,5175,1474],{5477:(t,e,n)=>{"use strict";n.r(e);var r=n(4967),i=n(2756),a=n(6885);function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _toPropertyKey(t){var e=function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function _callSuper(t,e,n){return e=_getPrototypeOf(e),function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var o=function(t){function ContextAdmin(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,ContextAdmin),_callSuper(this,ContextAdmin,arguments)}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(ContextAdmin,t),function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(ContextAdmin,[{key:"_init",value:function _init(){return!0}},{key:"_bind",value:function _bind(){return!0}}]),ContextAdmin}(r.default);a.Admin=new i.default,a.ContextAdmin=new o},1109:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var r=n(4967),i=n(4419),a=(n(7729),n(9755)),o=n(6885);function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _toPropertyKey(t){var e=function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function _callSuper(t,e,n){return e=_getPrototypeOf(e),function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var s=function(t){function Modal(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Modal),_callSuper(this,Modal,arguments)}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(Modal,t),function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(Modal,[{key:"_init",value:function _init(){return this.$target=this.options.$target,this.trigger=this.options.trigger||null,this.modal_bg=".mfp-wrap",this.modal_popup='[data-js="modal"]',!!this.$target.length}},{key:"_bind",value:function _bind(){var t=this;if(a.magnificPopup.open({tClose:"Закрыть (Esc)",tLoading:"Загрузка… (%curr% из %total%)",mainClass:"mfp-fade mfp_modal",removalDelay:10,autoFocusLast:!1,closeOnBgClick:!1,items:{src:this.$target,type:"inline"},callbacks:{beforeOpen:function beforeOpen(){var t=a(this.st.items.src[0]);this.st.mainClass=t.attr("data-effect"),a("html").css("overflow","hidden")},open:function open(){setTimeout((function(){var e=a(".modal");e.find("form").length&&new i.default({$block:e}),t.trigger&&a(o).trigger(t.trigger,e),a(o).trigger("modal:opened")}),200),t._triggerVanillaEvent(o,"pimg")},afterClose:function afterClose(){t.$target.remove(),a("html").removeAttr("style")}}}),this._liveBindTo(this.modal_bg,"click",(function(t){var e=t.target,n=a(e).hasClass("mfp-arrow");a.magnificPopup&&!n&&a.magnificPopup.close()})),this._liveBindTo(this.modal_popup,"click",(function(t){t.stopPropagation()})),a(o).width()<=767){var e=a(this.modal_popup)[0].getBoundingClientRect();this._bindTo(a(this.modal_popup).closest(".mfp-wrap"),"scroll",(function(){a(t.modal_popup).find(".mfp-close").addClass("fixed").css({right:e.x})}))}}}]),Modal}(r.default)},5175:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});n(7693);var r=n(6885),i=n(4771);function ChartInternal(t){var e=this;e.d3=r.d3?r.d3:n(7693),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function Chart(t){this.internal=new ChartInternal(this),this.internal.loadConfig(t),this.internal.beforeInit(t),this.internal.init(),this.internal.afterInit(t),function bindThis(t,e,n){Object.keys(t).forEach((function(r){e[r]=t[r].bind(n),Object.keys(t[r]).length>0&&bindThis(t[r],e[r],n)}))}(Chart.prototype,this,this)}var asHalfPixel=function(t){return Math.ceil(t)+.5},ceil10=function(t){return 10*Math.ceil(t/10)},diffDomain=function(t){return t[1]-t[0]},getOption=function(t,e,n){return isDefined(t[e])?t[e]:n},getPathBox=function(t){var e=getBBox(t),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:e.width,height:e.height}},getBBox=function(t){try{return t.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},isArray=function(t){return Array.isArray(t)},isDefined=function(t){return void 0!==t},isEmpty=function(t){return null==t||isString(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},isFunction=function(t){return"function"==typeof t},isNumber=function(t){return"number"==typeof t},isString=function(t){return"string"==typeof t},isUndefined=function(t){return void 0===t},isValue=function(t){return t||0===t},notEmpty=function(t){return!isEmpty(t)},sanitise=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},isIE=function(t){const e=function(t){void 0===t&&(t=r.navigator.userAgent);let e=t.indexOf("MSIE ");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e)),10):(e=t.indexOf("Trident/"),e>0&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10)))}();return void 0===t?!!e:t===e};function AxisInternal(t,e){var n=this;n.component=t,n.params=e||{},n.d3=t.d3,n.scale=n.d3.scaleLinear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}AxisInternal.prototype.axisX=function(t,e,n){t.attr("transform",(function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"}))},AxisInternal.prototype.axisY=function(t,e){t.attr("transform",(function(t){return"translate(0,"+Math.ceil(e(t))+")"}))},AxisInternal.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},AxisInternal.prototype.generateTicks=function(t){var e,n,r=[];if(t.ticks)return t.ticks.apply(t,this.tickArguments);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r},AxisInternal.prototype.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},AxisInternal.prototype.textFormatted=function(t){var e=this.tickFormat?this.tickFormat(t):t;return void 0!==e?e:""},AxisInternal.prototype.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},AxisInternal.prototype.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text((function(t){return e.textFormatted(t)})).each((function(t){var r=getBBox(this),i=e.textFormatted(t),a=r.height,o=i?r.width/i.length:void 0;a&&o&&(n.h=a,n.w=o)})).text(""),e.tickTextCharSize=n,n},AxisInternal.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},AxisInternal.prototype.tspanData=function(t,e,n){var r=this,i=r.params.tickMultiline?r.splitTickText(t,n):[].concat(r.textFormatted(t));return r.params.tickMultiline&&r.params.tickMultilineMax>0&&(i=r.ellipsify(i,r.params.tickMultilineMax)),i.map((function(t){return{index:e,splitted:t,length:i.length}}))},AxisInternal.prototype.splitTickText=function(t,e){var n,r,i,a=this,o=a.textFormatted(t),s=a.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(o))return o;return(!s||s<=0)&&(s=a.isVertical()?95:a.params.isCategory?Math.ceil(e(1)-e(0))-12:110),function split(t,e){r=void 0;for(var o=1;o<e.length;o++)if(" "===e.charAt(o)&&(r=o),n=e.substr(0,o+1),i=a.tickTextCharSize.w*n.length,s<i)return split(t.concat(e.substr(0,r||o)),e.slice(r?r+1:o));return t.concat(e)}([],o+"")},AxisInternal.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),r=3,i=e-1;i>=0;i--){var a=n[i].length;if(n[i]=n[i].substr(0,a-r).padEnd(a,"."),(r-=a)<=0)break}return n},AxisInternal.prototype.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},AxisInternal.prototype.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},AxisInternal.prototype.textY=function(){var t=this.tickTextRotate;return t?11.5-t/15*2.5*(t>0?1:-1):this.tickLength},AxisInternal.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},AxisInternal.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},AxisInternal.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},AxisInternal.prototype.tspanDy=function(t,e){var n=this,r=n.tickTextCharSize.h;return 0===e&&(r=n.isVertical()?-((t.length-1)*(n.tickTextCharSize.h/2)-3):".71em"),r},AxisInternal.prototype.generateAxis=function(){var t=this,e=t.d3,n=t.params;function axis(r,i){var a;return r.each((function(){var r,o,s,l=axis.g=e.select(this),c=this.__chart__||t.scale,u=this.__chart__=t.copyScale(),p=t.tickValues?t.tickValues:t.generateTicks(u),m=l.selectAll(".tick").data(p,u),_=m.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),v=m.exit().remove(),b=m.merge(_);n.isCategory?(t.tickOffset=Math.ceil((u(1)-u(0))/2),o=t.tickCentered?0:t.tickOffset,s=t.tickCentered?t.tickOffset:0):t.tickOffset=o=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(l.select(".tick"));var S=b.select("line").merge(_.append("line")),w=b.select("text").merge(_.append("text")),T=b.selectAll("text").selectAll("tspan").data((function(e,n){return t.tspanData(e,n,u)})),C=T.enter().append("tspan").merge(T).text((function(t){return t.splitted}));T.exit().remove();var A=l.selectAll(".domain").data([0]),P=A.enter().append("path").merge(A).attr("class","domain");switch(t.orient){case"bottom":r=t.axisX,S.attr("x1",o).attr("x2",o).attr("y2",(function(e,n){return t.lineY2(e,n)})),w.attr("x",0).attr("y",(function(e,n){return t.textY(e,n)})).attr("transform",(function(e,n){return t.textTransform(e,n)})).style("text-anchor",(function(e,n){return t.textTextAnchor(e,n)})),C.attr("x",0).attr("dy",(function(e,n){return t.tspanDy(e,n)})).attr("dx",(function(e,n){return t.tspanDx(e,n)})),P.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":r=t.axisX,S.attr("x1",o).attr("x2",o).attr("y2",(function(e,n){return-1*t.lineY2(e,n)})),w.attr("x",0).attr("y",(function(e,r){return-1*t.textY(e,r)-(n.isCategory?2:t.tickLength-2)})).attr("transform",(function(e,n){return t.textTransform(e,n)})).style("text-anchor",(function(e,n){return t.textTextAnchor(e,n)})),C.attr("x",0).attr("dy",(function(e,n){return t.tspanDy(e,n)})).attr("dx",(function(e,n){return t.tspanDx(e,n)})),P.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":r=t.axisY,S.attr("x2",-t.innerTickSize).attr("y1",s).attr("y2",s),w.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),C.attr("x",-t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),P.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":r=t.axisY,S.attr("x2",t.innerTickSize).attr("y1",s).attr("y2",s),w.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),C.attr("x",t.tickLength).attr("dy",(function(e,n){return t.tspanDy(e,n)})),P.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(u.rangeBand){var M=u,I=M.rangeBand()/2;c=u=function(t){return M(t)+I}}else c.rangeBand?c=u:v.call(r,u,t.tickOffset);_.call(r,c,t.tickOffset),a=(i?b.transition(i):b).style("opacity",1).call(r,u,t.tickOffset)})),a}return axis.scale=function(e){return arguments.length?(t.scale=e,axis):t.scale},axis.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",axis):t.orient},axis.tickFormat=function(e){return arguments.length?(t.tickFormat=e,axis):t.tickFormat},axis.tickCentered=function(e){return arguments.length?(t.tickCentered=e,axis):t.tickCentered},axis.tickOffset=function(){return t.tickOffset},axis.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(axis.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/axis.g.selectAll("line").size())===1/0?0:e},axis.ticks=function(){return arguments.length?(t.tickArguments=arguments,axis):t.tickArguments},axis.tickCulling=function(e){return arguments.length?(t.tickCulling=e,axis):t.tickCulling},axis.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return axis},axis};var a={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};class Axis{constructor(t){this.owner=t,this.d3=t.d3,this.internal=AxisInternal}}Axis.prototype.init=function init(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",a.axis+" "+a.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",a.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",a.axis+" "+a.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",a.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",a.axis+" "+a.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",a.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},Axis.prototype.getXAxis=function getXAxis(t,e,n,r,i,a,o){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:i,tickMultiline:l.axis_x_tick_multiline,tickMultilineMax:l.axis_x_tick_multiline?Number(l.axis_x_tick_multilineMax):0,tickWidth:l.axis_x_tick_width,tickTextRotate:o?0:l.axis_x_tick_rotate,withoutTransition:a},u=new this.internal(this,c).axis.scale(t).orient(e);return s.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map((function(t){return s.parseDate(t)}))),u.tickFormat(n).tickValues(r),s.isCategorized()&&(u.tickCentered(l.axis_x_tick_centered),isEmpty(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),u},Axis.prototype.updateXAxisTickValues=function updateXAxisTickValues(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},Axis.prototype.getYAxis=function getYAxis(t,e,n,r,i,a,o){const s=this.owner,l=s.config;let c=l[`axis_${t}_tick_format`];!c&&s.isAxisNormalized(t)&&(c=t=>`${t}%`);const u=new this.internal(this,{withOuterTick:i,withoutTransition:a,tickTextRotate:o?0:l.axis_y_tick_rotate}).axis.scale(e).orient(n);return c&&u.tickFormat(c),s.isTimeSeriesY()?u.ticks(l.axis_y_tick_time_type,l.axis_y_tick_time_interval):u.tickValues(r),u},Axis.prototype.getId=function getId(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},Axis.prototype.getXAxisTickFormat=function getXAxisTickFormat(){var t=this.owner,e=t.config;let n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return e.axis_x_tick_format&&(isFunction(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),isFunction(n)?function(e){return n.call(t,e)}:n},Axis.prototype.getTickValues=function getTickValues(t,e){return t||(e?e.tickValues():void 0)},Axis.prototype.getXAxisTickValues=function getXAxisTickValues(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},Axis.prototype.getYAxisTickValues=function getYAxisTickValues(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},Axis.prototype.getY2AxisTickValues=function getY2AxisTickValues(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},Axis.prototype.getLabelOptionByAxisId=function getLabelOptionByAxisId(t){var e,n=this.owner.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},Axis.prototype.getLabelText=function getLabelText(t){var e=this.getLabelOptionByAxisId(t);return isString(e)?e:e?e.text:null},Axis.prototype.setLabelText=function setLabelText(t,e){var n=this.owner.config,r=this.getLabelOptionByAxisId(t);isString(r)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):r&&(r.text=e)},Axis.prototype.getLabelPosition=function getLabelPosition(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},Axis.prototype.getXAxisLabelPosition=function getXAxisLabelPosition(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},Axis.prototype.getYAxisLabelPosition=function getYAxisLabelPosition(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getY2AxisLabelPosition=function getY2AxisLabelPosition(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},Axis.prototype.getLabelPositionById=function getLabelPositionById(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},Axis.prototype.textForXAxisLabel=function textForXAxisLabel(){return this.getLabelText("x")},Axis.prototype.textForYAxisLabel=function textForYAxisLabel(){return this.getLabelText("y")},Axis.prototype.textForY2AxisLabel=function textForY2AxisLabel(){return this.getLabelText("y2")},Axis.prototype.xForAxisLabel=function xForAxisLabel(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},Axis.prototype.dxForAxisLabel=function dxForAxisLabel(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},Axis.prototype.textAnchorForAxisLabel=function textAnchorForAxisLabel(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},Axis.prototype.xForXAxisLabel=function xForXAxisLabel(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.xForYAxisLabel=function xForYAxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.xForY2AxisLabel=function xForY2AxisLabel(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dxForXAxisLabel=function dxForXAxisLabel(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.dxForYAxisLabel=function dxForYAxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.dxForY2AxisLabel=function dxForY2AxisLabel(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.dyForXAxisLabel=function dyForXAxisLabel(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},Axis.prototype.dyForYAxisLabel=function dyForYAxisLabel(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},Axis.prototype.dyForY2AxisLabel=function dyForY2AxisLabel(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},Axis.prototype.textAnchorForXAxisLabel=function textAnchorForXAxisLabel(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},Axis.prototype.textAnchorForYAxisLabel=function textAnchorForYAxisLabel(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},Axis.prototype.textAnchorForY2AxisLabel=function textAnchorForY2AxisLabel(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},Axis.prototype.getMaxTickWidth=function getMaxTickWidth(t,e){var n,r,i,a,o=this.owner,s=0;return e&&o.currentMaxTickWidths[t]||(o.svg&&(n=o.filterTargetsToShow(o.data.targets),"y"===t?(r=o.y.copy().domain(o.getYDomain(n,"y")),i=this.getYAxis(t,r,o.yOrient,o.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=o.y2.copy().domain(o.getYDomain(n,"y2")),i=this.getYAxis(t,r,o.y2Orient,o.y2AxisTickValues,!1,!0,!0)):(r=o.x.copy().domain(o.getXDomain(n)),i=this.getXAxis(r,o.xOrient,o.xAxisTickFormat,o.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),(a=o.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(i).each((function(){o.d3.select(this).selectAll("text").each((function(){var t=getBBox(this);s<t.width&&(s=t.width)})),a.remove()}))),o.currentMaxTickWidths[t]=s<=0?o.currentMaxTickWidths[t]:s),o.currentMaxTickWidths[t]},Axis.prototype.updateLabels=function updateLabels(t){var e=this.owner,n=e.main.select("."+a.axisX+" ."+a.axisXLabel),r=e.main.select("."+a.axisY+" ."+a.axisYLabel),i=e.main.select("."+a.axisY2+" ."+a.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},Axis.prototype.getPadding=function getPadding(t,e,n,r){var i="number"==typeof t?t:t[e];return isValue(i)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(i,r):n},Axis.prototype.convertPixelsToAxisPadding=function convertPixelsToAxisPadding(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},Axis.prototype.generateTickValues=function generateTickValues(t,e,n){var r,i,a,o,s,l,c,u=t;if(e)if(1===(r=isFunction(e)?e():e))u=[t[0]];else if(2===r)u=[t[0],t[t.length-1]];else if(r>2){for(o=r-2,i=t[0],s=((a=t[t.length-1])-i)/(o+1),u=[i],l=0;l<o;l++)c=+i+s*(l+1),u.push(n?new Date(c):c);u.push(a)}return n||(u=u.sort((function(t,e){return t-e}))),u},Axis.prototype.generateTransitions=function generateTransitions(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},Axis.prototype.redraw=function redraw(t,e){var n=this.owner,r=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,r),n.axes.y.style("opacity",e?0:1).call(n.yAxis,r),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,r),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,r)};var o={version:"0.7.18",chart:{fn:Chart.prototype,internal:{fn:ChartInternal.prototype,axis:{fn:Axis.prototype,internal:{fn:AxisInternal.prototype}}}},generate:function(t){return new Chart(t)}};function c3LogScale(t,e,n){var r=[.01,10];function scale(t){return n(e(t))}return e||(e=t.scaleLinear()).range(r),n||((n=t.scaleLog()).domain(r),n.nice()),scale.domain=function(t){return arguments.length?(e.domain(t),scale):e.domain()},scale.range=function(t){return arguments.length?(n.range(t),scale):n.range()},scale.ticks=function(t){return function logspace(t,e,n){var r,i,a,o;if(arguments.length<3)n=10;else if(0===n)return[];o=(e-t)/(i=n-1),a=t,(r=new Array(n))[0]=Math.pow(10,a);for(var s=1;s<i;s++)a+=o,r[s]=Math.pow(10,a);return r[i]=Math.pow(10,e),r}(-2,1,t||10).map((function(t){return e.invert(t)}))},scale.copy=function(){return c3LogScale(t,e.copy(),n.copy())},scale}function powerOfTen(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}ChartInternal.prototype.beforeInit=function(){},ChartInternal.prototype.afterInit=function(){},ChartInternal.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},ChartInternal.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},ChartInternal.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},ChartInternal.prototype.initWithData=function(t){var e,n,r=this,o=r.d3,s=r.config,l=!0;r.axis=new Axis(r),s.bindto?"function"==typeof s.bindto.node?r.selectChart=s.bindto:r.selectChart=o.select(s.bindto):r.selectChart=o.selectAll([]),r.selectChart.empty()&&(r.selectChart=o.select(i.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),l=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),s.data_filter&&(r.data.targets=r.data.targets.filter(s.data_filter)),s.data_hide&&r.addHiddenTargetIds(!0===s.data_hide?r.mapToIds(r.data.targets):s.data_hide),s.legend_hide&&r.addHiddenLegendIds(!0===s.legend_hide?r.mapToIds(r.data.targets):s.legend_hide),r.isStanfordGraphType()&&r.initStanfordData(),r.updateSizes(),r.updateScales(),r.x.domain(o.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",(function(){return s.onmouseover.call(r)})).on("mouseleave",(function(){return s.onmouseout.call(r)})),r.config.svg_classname&&r.svg.attr("class",r.config.svg_classname),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initPie&&r.initPie(),r.initDragZoom&&r.initDragZoom(),s.subchart_show&&r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),r.initZoom&&r.initZoom(),r.isStanfordGraphType()&&r.drawColorScale(),s.subchart_show&&r.initSubchartBrush&&r.initSubchartBrush(),n.append("text").attr("class",a.text+" "+a.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",a.chart),s.grid_lines_front&&r.initGridLines(),r.initStanfordElements(),r.initEventRect(),r.initChartElements(),r.axis.init(),r.updateTargets(r.data.targets),s.axis_x_selection&&r.brush.selectionAsValue(r.getDefaultSelection()),l&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.bindWindowFocus(),r.api.element=r.selectChart.node()},ChartInternal.prototype.smoothLines=function(t,e){var n=this;"grid"===e&&t.each((function(){var t=n.d3.select(this),e=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),a=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(a)})}))},ChartInternal.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,a=t.hasArcType(),o=e.axis_rotated||a?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!a?e.subchart_size_height+o:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:s+(a?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:a?0:t.getCurrentPaddingRight(),bottom:o+s+i+t.getCurrentPaddingBottom(),left:a?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-s-i,right:NaN,bottom:o+i,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&a&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},ChartInternal.prototype.updateTargets=function(t){var e=this,n=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),n.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},ChartInternal.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+a.target).filter((function(e){return t.isTargetToShow(e.id)})).transition().duration(t.config.transition_duration).style("opacity",1)},ChartInternal.prototype.redraw=function(t,e){var n,r,i,o,s,l,c,u,p,m,_,v,b,S,w,T,C,A,P,M,I,E,O,D,L,R,N,F,G,V,Y,z=this,$=z.main,H=z.d3,B=z.config,W=z.getShapeIndices(z.isAreaType),U=z.getShapeIndices(z.isBarType),q=z.getShapeIndices(z.isLineType),X=z.hasArcType(),Z=z.filterTargetsToShow(z.data.targets),Q=z.xv.bind(z);if(n=getOption(t=t||{},"withY",!0),r=getOption(t,"withSubchart",!0),i=getOption(t,"withTransition",!0),l=getOption(t,"withTransform",!1),c=getOption(t,"withUpdateXDomain",!1),u=getOption(t,"withUpdateOrgXDomain",!1),p=getOption(t,"withTrimXDomain",!0),b=getOption(t,"withUpdateXAxis",c),m=getOption(t,"withLegend",!1),_=getOption(t,"withEventRect",!0),v=getOption(t,"withDimension",!0),o=getOption(t,"withTransitionForExit",i),s=getOption(t,"withTransitionForAxis",i),P=i?B.transition_duration:0,M=o?P:0,I=s?P:0,e=e||z.axis.generateTransitions(I),m&&B.legend_show?z.updateLegend(z.mapToIds(z.data.targets),t,e):v&&z.updateDimension(!0),z.isCategorized()&&0===Z.length&&z.x.domain([0,z.axes.x.selectAll(".tick").size()]),Z.length?(z.updateXDomain(Z,c,u,p),B.axis_x_tick_values||(R=z.axis.updateXAxisTickValues(Z))):(z.xAxis.tickValues([]),z.subXAxis.tickValues([])),B.zoom_rescale&&!t.flow&&(G=z.x.orgDomain()),z.y.domain(z.getYDomain(Z,"y",G)),z.y2.domain(z.getYDomain(Z,"y2",G)),!B.axis_y_tick_values&&B.axis_y_tick_count&&z.yAxis.tickValues(z.axis.generateTickValues(z.y.domain(),B.axis_y_tick_count)),!B.axis_y2_tick_values&&B.axis_y2_tick_count&&z.y2Axis.tickValues(z.axis.generateTickValues(z.y2.domain(),B.axis_y2_tick_count)),z.axis.redraw(I,X),z.axis.updateLabels(i),(c||b)&&Z.length)if(B.axis_x_tick_culling&&R){for(N=1;N<R.length;N++)if(R.length/N<B.axis_x_tick_culling_max){F=N;break}z.svg.selectAll("."+a.axisX+" .tick text").each((function(t){var e=R.indexOf(t);e>=0&&H.select(this).style("display",e%F?"none":"block")}))}else z.svg.selectAll("."+a.axisX+" .tick text").style("display","block");S=z.generateDrawArea?z.generateDrawArea(W,!1):void 0,w=z.generateDrawBar?z.generateDrawBar(U):void 0,T=z.generateDrawLine?z.generateDrawLine(q,!1):void 0,C=z.generateXYForText(W,U,q,!0),A=z.generateXYForText(W,U,q,!1),z.updateCircleY(),V=(z.config.axis_rotated?z.circleY:z.circleX).bind(z),Y=(z.config.axis_rotated?z.circleX:z.circleY).bind(z),n&&(z.subY.domain(z.getYDomain(Z,"y")),z.subY2.domain(z.getYDomain(Z,"y2"))),z.updateXgridFocus(),$.select("text."+a.text+"."+a.empty).attr("x",z.width/2).attr("y",z.height/2).text(B.data_empty_label_text).transition().style("opacity",Z.length?0:1),_&&z.redrawEventRect(),z.updateGrid(P),z.updateStanfordElements(P),z.updateRegion(P),z.updateBar(M),z.updateLine(M),z.updateArea(M),z.updateCircle(V,Y),z.hasDataLabel()&&z.updateText(C,A,M),z.redrawTitle&&z.redrawTitle(),z.redrawArc&&z.redrawArc(P,M,l),B.subchart_show&&z.redrawSubchart&&z.redrawSubchart(r,e,P,M,W,U,q),z.isStanfordGraphType()&&z.drawColorScale(),$.selectAll("."+a.selectedCircles).filter(z.isBarType.bind(z)).selectAll("circle").remove(),t.flow&&(D=z.generateFlow({targets:Z,flow:t.flow,duration:t.flow.duration,drawBar:w,drawLine:T,drawArea:S,cx:V,cy:Y,xv:Q,xForText:C,yForText:A})),P&&z.isTabVisible()?(L=H.transition().duration(P),E=[],[z.redrawBar(w,!0,L),z.redrawLine(T,!0,L),z.redrawArea(S,!0,L),z.redrawCircle(V,Y,!0,L),z.redrawText(C,A,t.flow,!0,L),z.redrawRegion(!0,L),z.redrawGrid(!0,L)].forEach((function(t){t.forEach((function(t){E.push(t)}))})),O=z.generateWait(),E.forEach((function(t){O.add(t)})),O((function(){D&&D(),B.onrendered&&B.onrendered.call(z)}))):(z.redrawBar(w),z.redrawLine(T),z.redrawArea(S),z.redrawCircle(V,Y),z.redrawText(C,A,t.flow),z.redrawRegion(),z.redrawGrid(),D&&D(),B.onrendered&&B.onrendered.call(z)),z.mapToIds(z.data.targets).forEach((function(t){z.withoutFadeIn[t]=!0}))},ChartInternal.prototype.updateAndRedraw=function(t){var e,n=this,r=n.config;(t=t||{}).withTransition=getOption(t,"withTransition",!0),t.withTransform=getOption(t,"withTransform",!1),t.withLegend=getOption(t,"withLegend",!1),t.withUpdateXDomain=getOption(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=getOption(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=getOption(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},ChartInternal.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},ChartInternal.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},ChartInternal.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},ChartInternal.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||notEmpty(t.data_xs))},ChartInternal.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},ChartInternal.prototype.getTranslate=function(t){var e,n,r=this,i=r.config;return"main"===t?(e=asHalfPixel(r.margin.left),n=asHalfPixel(r.margin.top)):"context"===t?(e=asHalfPixel(r.margin2.left),n=asHalfPixel(r.margin2.top)):"legend"===t?(e=r.margin3.left,n=r.margin3.top):"x"===t?(e=0,n=i.axis_rotated?0:r.height):"y"===t?(e=0,n=i.axis_rotated?r.height:0):"y2"===t?(e=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===t?(e=0,n=i.axis_rotated?0:r.height2):"arc"===t&&(e=r.arcWidth/2,n=r.arcHeight/2-(r.hasType("gauge")?6:0)),"translate("+e+","+n+")"},ChartInternal.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},ChartInternal.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},ChartInternal.prototype.opacityForCircle=function(t){var e=(isFunction(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return isValue(t.value)?this.isScatterType(t)?.5:e:0},ChartInternal.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},ChartInternal.prototype.xx=function(t){return t?this.x(t.x):null},ChartInternal.prototype.xvCustom=function(t,e){var n=this,r=e?t[e]:t.value;return n.isTimeSeries()?r=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(r=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(r))},ChartInternal.prototype.yvCustom=function(t,e){var n=t.axis&&"y2"===t.axis?this.y2:this.y,r=e?t[e]:t.value;return Math.ceil(n(r))},ChartInternal.prototype.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},ChartInternal.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(t.value))},ChartInternal.prototype.subxx=function(t){return t?this.subX(t.x):null},ChartInternal.prototype.transformMain=function(t,e){var n,r,i,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+a.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+a.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=o.main.select("."+a.axisY2),t&&(i=i.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),i.attr("transform",o.getTranslate("y2")),o.main.select("."+a.chartArcs).attr("transform",o.getTranslate("arc"))},ChartInternal.prototype.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},ChartInternal.prototype.updateSvgSize=function(){var t=this,e=t.svg.select(`.${a.brush} .overlay`);t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},ChartInternal.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},ChartInternal.prototype.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver((function(i){i.forEach((function(i){"childList"===i.type&&i.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=r.setInterval((function(){t.node().parentNode&&(r.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))}),10))}))}))).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):r.console.error("MutationObserver not defined.")},ChartInternal.prototype.bindResize=function(){var t=this,e=t.config;if(t.resizeFunction=t.generateResize(),t.resizeFunction.add((function(){e.onresize.call(t)})),e.resize_auto&&t.resizeFunction.add((function(){void 0!==t.resizeTimeout&&r.clearTimeout(t.resizeTimeout),t.resizeTimeout=r.setTimeout((function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()}),100)})),t.resizeFunction.add((function(){e.onresized.call(t)})),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},r.attachEvent)r.attachEvent("onresize",t.resizeIfElementDisplayed);else if(r.addEventListener)r.addEventListener("resize",t.resizeIfElementDisplayed,!1);else{var n=r.onresize;n?n.add&&n.remove||(n=t.generateResize()).add(r.onresize):n=t.generateResize(),n.add(t.resizeFunction),r.onresize=function(){t.api.element.offsetParent&&n()}}},ChartInternal.prototype.bindWindowFocus=function(){this.windowFocusHandler||(this.windowFocusHandler=()=>{this.redraw()},r.addEventListener("focus",this.windowFocusHandler))},ChartInternal.prototype.unbindWindowFocus=function(){r.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},ChartInternal.prototype.generateResize=function(){var t=[];function callResizeFunctions(){t.forEach((function(t){t()}))}return callResizeFunctions.add=function(e){t.push(e)},callResizeFunctions.remove=function(e){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}},callResizeFunctions},ChartInternal.prototype.endall=function(t,e){var n=0;t.each((function(){++n})).on("end",(function(){--n||e.apply(this,arguments)}))},ChartInternal.prototype.generateWait=function(){var t=this,e=[],f=function(n){var r=setInterval((function(){if(t.isTabVisible()){var i=0;e.forEach((function(t){if(t.empty())i+=1;else try{t.transition()}catch(t){i+=1}})),i===e.length&&(clearInterval(r),n&&n())}}),50)};return f.add=function(t){e.push(t)},f},ChartInternal.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"==typeof t?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||r.console.error("Failed to parse x '"+t+"' to Date object"),e},ChartInternal.prototype.isTabVisible=function(){return!i.hidden},ChartInternal.prototype.getPathBox=getPathBox,ChartInternal.prototype.CLASS=a,"SVGPathSeg"in r||(r.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},r.SVGPathSeg.prototype.classname="SVGPathSeg",r.SVGPathSeg.PATHSEG_UNKNOWN=0,r.SVGPathSeg.PATHSEG_CLOSEPATH=1,r.SVGPathSeg.PATHSEG_MOVETO_ABS=2,r.SVGPathSeg.PATHSEG_MOVETO_REL=3,r.SVGPathSeg.PATHSEG_LINETO_ABS=4,r.SVGPathSeg.PATHSEG_LINETO_REL=5,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,r.SVGPathSeg.PATHSEG_ARC_ABS=10,r.SVGPathSeg.PATHSEG_ARC_REL=11,r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,r.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},r.SVGPathSegClosePath=function(t){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},r.SVGPathSegClosePath.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},r.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},r.SVGPathSegClosePath.prototype.clone=function(){return new r.SVGPathSegClosePath(void 0)},r.SVGPathSegMovetoAbs=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},r.SVGPathSegMovetoAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},r.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegMovetoAbs.prototype.clone=function(){return new r.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegMovetoRel=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},r.SVGPathSegMovetoRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},r.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegMovetoRel.prototype.clone=function(){return new r.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoAbs=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},r.SVGPathSegLinetoAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},r.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegLinetoAbs.prototype.clone=function(){return new r.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoRel=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},r.SVGPathSegLinetoRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},r.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegLinetoRel.prototype.clone=function(){return new r.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoCubicAbs=function(t,e,n,i,a,o,s){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=i,this._y1=a,this._x2=o,this._y2=s},r.SVGPathSegCurvetoCubicAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},r.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},r.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new r.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoCubicRel=function(t,e,n,i,a,o,s){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=i,this._y1=a,this._x2=o,this._y2=s},r.SVGPathSegCurvetoCubicRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},r.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},r.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new r.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,i,a){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=i,this._y1=a},r.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},r.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},r.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new r.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(r.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoQuadraticRel=function(t,e,n,i,a){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=i,this._y1=a},r.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},r.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},r.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new r.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(r.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegArcAbs=function(t,e,n,i,a,o,s,l){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=i,this._r2=a,this._angle=o,this._largeArcFlag=s,this._sweepFlag=l},r.SVGPathSegArcAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},r.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},r.SVGPathSegArcAbs.prototype.clone=function(){return new r.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(r.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegArcRel=function(t,e,n,i,a,o,s,l){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=i,this._r2=a,this._angle=o,this._largeArcFlag=s,this._sweepFlag=l},r.SVGPathSegArcRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},r.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},r.SVGPathSegArcRel.prototype.clone=function(){return new r.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(r.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoHorizontalAbs=function(t,e){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},r.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},r.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},r.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new r.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(r.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoHorizontalRel=function(t,e){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},r.SVGPathSegLinetoHorizontalRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},r.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},r.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new r.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(r.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoVerticalAbs=function(t,e){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},r.SVGPathSegLinetoVerticalAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},r.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},r.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new r.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(r.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegLinetoVerticalRel=function(t,e){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},r.SVGPathSegLinetoVerticalRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},r.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},r.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new r.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(r.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i,a){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=i,this._y2=a},r.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},r.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},r.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new r.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i,a){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=i,this._y2=a},r.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},r.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},r.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new r.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new r.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){r.SVGPathSeg.call(this,r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},r.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(r.SVGPathSeg.prototype),r.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},r.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},r.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new r.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(r.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(r.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),r.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new r.SVGPathSegClosePath(void 0)},r.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new r.SVGPathSegMovetoAbs(void 0,t,e)},r.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new r.SVGPathSegMovetoRel(void 0,t,e)},r.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new r.SVGPathSegLinetoAbs(void 0,t,e)},r.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new r.SVGPathSegLinetoRel(void 0,t,e)},r.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,i,a,o){return new r.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,i,a,o)},r.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,i,a,o){return new r.SVGPathSegCurvetoCubicRel(void 0,t,e,n,i,a,o)},r.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,i){return new r.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,i)},r.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,i){return new r.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,i)},r.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,i,a,o,s){return new r.SVGPathSegArcAbs(void 0,t,e,n,i,a,o,s)},r.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,i,a,o,s){return new r.SVGPathSegArcRel(void 0,t,e,n,i,a,o,s)},r.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new r.SVGPathSegLinetoHorizontalAbs(void 0,t)},r.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new r.SVGPathSegLinetoHorizontalRel(void 0,t)},r.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new r.SVGPathSegLinetoVerticalAbs(void 0,t)},r.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new r.SVGPathSegLinetoVerticalRel(void 0,t)},r.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,i){return new r.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,i)},r.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,i){return new r.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,i)},r.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new r.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},r.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new r.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in r.SVGPathElement.prototype||(r.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=i.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in r||(r.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},r.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(r.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(r.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new r.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(r.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(r.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(r.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),r.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},r.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},r.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",r.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},r.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},r.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},r.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},r.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},r.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},r.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},r.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},r.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},r.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},r.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach((function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},r.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,Builder=function(){this.pathSegList=[]};Builder.prototype.appendSegment=function(t){this.pathSegList.push(t)};var Source=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=r.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};Source.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},Source.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},Source.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},Source.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},Source.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},Source.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return r.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return r.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return r.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return r.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return r.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return r.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return r.SVGPathSeg.PATHSEG_ARC_REL;case"H":return r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return r.SVGPathSeg.PATHSEG_UNKNOWN}},Source.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=r.SVGPathSeg.PATHSEG_CLOSEPATH?e==r.SVGPathSeg.PATHSEG_MOVETO_ABS?r.SVGPathSeg.PATHSEG_LINETO_ABS:e==r.SVGPathSeg.PATHSEG_MOVETO_REL?r.SVGPathSeg.PATHSEG_LINETO_REL:e:r.SVGPathSeg.PATHSEG_UNKNOWN},Source.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==r.SVGPathSeg.PATHSEG_MOVETO_ABS||t==r.SVGPathSeg.PATHSEG_MOVETO_REL},Source.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,i=1,a=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,i=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,c=1;l>=s;)e+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=o&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,a=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=e+r;if(u*=i,t&&(u*=Math.pow(10,a*t)),o!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},Source.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},Source.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==r.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==r.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==r.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case r.SVGPathSeg.PATHSEG_MOVETO_REL:return new r.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_MOVETO_ABS:return new r.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_REL:return new r.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_ABS:return new r.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new r.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new r.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new r.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case r.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new r.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case r.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new r.SVGPathSegClosePath(e);case r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new r.SVGPathSegCurvetoCubicRel(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegCurvetoCubicAbs(e,i.x,i.y,i.x1,i.y1,i.x2,i.y2);case r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegCurvetoCubicSmoothRel(e,i.x,i.y,i.x2,i.y2);case r.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return i={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegCurvetoCubicSmoothAbs(e,i.x,i.y,i.x2,i.y2);case r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegCurvetoQuadraticRel(e,i.x,i.y,i.x1,i.y1);case r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegCurvetoQuadraticAbs(e,i.x,i.y,i.x1,i.y1);case r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new r.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new r.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case r.SVGPathSeg.PATHSEG_ARC_REL:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegArcRel(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);case r.SVGPathSeg.PATHSEG_ARC_ABS:return i={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new r.SVGPathSegArcAbs(e,i.x,i.y,i.x1,i.y1,i.arcAngle,i.arcLarge,i.arcSweep);default:throw"Unknown path seg type."}};var n=new Builder,i=new Source(t);if(!i.initialCommandIsMoveTo())return[];for(;i.hasMoreData();){var a=i.parseSegment();if(!a)return[];n.appendSegment(a)}return n.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function padEnd(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function assign(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])}return n},writable:!0,configurable:!0}),Chart.prototype.axis=function(){},Chart.prototype.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach((function(n){e.axis.setLabelText(n,t[n])})),e.axis.updateLabels())},Chart.prototype.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"==typeof t?(isValue(t.x)&&(n.axis_x_max=t.x),isValue(t.y)&&(n.axis_y_max=t.y),isValue(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Chart.prototype.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"==typeof t?(isValue(t.x)&&(n.axis_x_min=t.x),isValue(t.y)&&(n.axis_y_min=t.y),isValue(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},Chart.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};isDefined(t.max)&&this.axis.max(t.max),isDefined(t.min)&&this.axis.min(t.min)},Chart.prototype.axis.types=function(t){const e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};isDefined(t.y)&&(e.config.axis_y_type=t.y),isDefined(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},Chart.prototype.category=function(t,e){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},Chart.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},Chart.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},Chart.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},Chart.prototype.destroy=function(){var t=this.internal;if(r.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&r.clearTimeout(t.resizeTimeout),r.detachEvent)r.detachEvent("onresize",t.resizeIfElementDisplayed);else if(r.removeEventListener)r.removeEventListener("resize",t.resizeIfElementDisplayed);else{var e=r.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.unbindWindowFocus(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach((function(e){t[e]=null})),null},Chart.prototype.color=function(t){return this.internal.color(t)},Chart.prototype.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter((function(e){return[].concat(t).indexOf(e.id)>=0}))},Chart.prototype.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},Chart.prototype.data.values=function(t,e=!0){let n=null;if(t){const r=this.data(t);r&&isArray(r)&&(n=r.reduce(((t,n)=>{const r=n.values.map((t=>t.value));return e?t=t.concat(r):t.push(r),t}),[]))}return n},Chart.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},Chart.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},Chart.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},Chart.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},Chart.prototype.donut=function(){},Chart.prototype.donut.padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},Chart.prototype.flow=function(t){var e,n,r,i,a,o,s,l=this.internal,c=[],u=l.getMaxDataCount(),p=0,m=0;if(t.json)n=l.convertJsonToData(t.json,t.keys);else if(t.rows)n=l.convertRowsToData(t.rows);else{if(!t.columns)return;n=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(n,!0),l.data.targets.forEach((function(t){var n,r,i=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(i=!0,t.values[t.values.length-1]&&(m=t.values[t.values.length-1].index+1),p=e[n].values.length,r=0;r<p;r++)e[n].values[r].index=m+r,l.isTimeSeries()||(e[n].values[r].x=m+r);t.values=t.values.concat(e[n].values),e.splice(n,1);break}i||c.push(t.id)})),l.data.targets.forEach((function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(m=t.values[t.values.length-1].index+1,n=0;n<p;n++)t.values.push({id:t.id,index:m+n,x:l.isTimeSeries()?l.getOtherTargetX(m+n):m+n,value:null})})),l.data.targets.length&&e.forEach((function(t){var e,n=[];for(e=l.data.targets[0].values[0].index;e<m;e++)n.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach((function(t){t.index+=m,l.isTimeSeries()||(t.x+=m)})),t.values=n.concat(t.values)})),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),a=(i=l.data.targets[0]).values[0],isDefined(t.to)?(p=0,s=l.isTimeSeries()?l.parseDate(t.to):t.to,i.values.forEach((function(t){t.x<s&&p++}))):isDefined(t.length)&&(p=t.length),u?1===u&&l.isTimeSeries()&&(o=(i.values[i.values.length-1].x-a.x)/2,r=[new Date(+a.x-o),new Date(+a.x+o)],l.updateXDomain(null,!0,!0,!1,r)):(o=l.isTimeSeries()?i.values.length>1?i.values[i.values.length-1].x-a.x:a.x-l.getXDomain(l.data.targets)[0]:1,r=[a.x-o,a.x],l.updateXDomain(null,!0,!0,!1,r)),l.updateTargets(l.data.targets),l.redraw({flow:{index:a.index,length:p,duration:isValue(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:u},withLegend:!0,withTransition:u>1,withTrimXDomain:!1,withUpdateXAxis:!0})},ChartInternal.prototype.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var i,o,s,l,c,u,p,m,_,v,b,S=t.targets,w=t.flow,T=t.drawBar,C=t.drawLine,A=t.drawArea,P=t.cx,M=t.cy,I=t.xv,E=t.xForText,O=t.yForText,D=t.duration,L=w.index,R=w.length,N=e.getValueOnIndex(e.data.targets[0].values,L),F=e.getValueOnIndex(e.data.targets[0].values,L+R),G=e.x.domain(),V=w.duration||D,Y=w.done||function(){},z=e.generateWait();e.flowing=!0,e.data.targets.forEach((function(t){t.values.splice(0,R)})),s=e.updateXDomain(S,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l=e.xgrid||r.selectAll([]),c=e.xgridLines||r.selectAll([]),u=e.mainRegion||r.selectAll([]),p=e.mainText||r.selectAll([]),m=e.mainBar||r.selectAll([]),_=e.mainLine||r.selectAll([]),v=e.mainArea||r.selectAll([]),b=e.mainCircle||r.selectAll([]),w.orgDataCount?i=1===w.orgDataCount||(N&&N.x)===(F&&F.x)||e.isTimeSeries()?e.x(G[0])-e.x(s[0]):e.x(N.x)-e.x(F.x):1!==e.data.targets[0].values.length?i=e.x(G[0])-e.x(s[0]):e.isTimeSeries()?(N=e.getValueOnIndex(e.data.targets[0].values,0),F=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),i=e.x(N.x)-e.x(F.x)):i=diffDomain(s)/2,o="translate("+i+",0) scale("+diffDomain(G)/diffDomain(s)+",1)",e.hideXGridFocus();var $=r.transition().ease(r.easeLinear).duration(V);z.add(e.xAxis(e.axes.x,$)),z.add(m.transition($).attr("transform",o)),z.add(_.transition($).attr("transform",o)),z.add(v.transition($).attr("transform",o)),z.add(b.transition($).attr("transform",o)),z.add(p.transition($).attr("transform",o)),z.add(u.filter(e.isRegionOnX).transition($).attr("transform",o)),z.add(l.transition($).attr("transform",o)),z.add(c.transition($).attr("transform",o)),z((function(){var t,r=[],i=[];if(R){for(t=0;t<R;t++)r.push("."+a.shape+"-"+(L+t)),i.push("."+a.text+"-"+(L+t));e.svg.selectAll("."+a.shapes).selectAll(r).remove(),e.svg.selectAll("."+a.texts).selectAll(i).remove(),e.svg.select("."+a.xgrid).remove()}l.attr("transform",null).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),c.attr("transform",null),c.select("line").attr("x1",n.axis_rotated?0:I).attr("x2",n.axis_rotated?e.width:I),c.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",I),m.attr("transform",null).attr("d",T),_.attr("transform",null).attr("d",C),v.attr("transform",null).attr("d",A),b.attr("transform",null).attr("cx",P).attr("cy",M),p.attr("transform",null).attr("x",E).attr("y",O).style("fill-opacity",e.opacityForText.bind(e)),u.attr("transform",null),u.filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),Y(),e.flowing=!1}))}},Chart.prototype.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(a.focused,!0).classed(a.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(e){return t.indexOf(e)<0}))},Chart.prototype.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(a.focused,!1).classed(a.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter((function(e){return t.indexOf(e)<0})),e.defocusedTargetIds=t},Chart.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(a.focused,!1).classed(a.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter((function(){return e.d3.select(this).classed(a.legendItemFocused)})).classed(a.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},Chart.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},Chart.prototype.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},Chart.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},Chart.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},Chart.prototype.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},Chart.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},Chart.prototype.groups=function(t){var e=this.internal,n=e.config;return isUndefined(t)||(n.data_groups=t,e.redraw()),n.data_groups},Chart.prototype.legend=function(){},Chart.prototype.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},Chart.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},Chart.prototype.load=function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&Chart.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){n.data_classes[e]=t.classes[e]})),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){n.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){n.data_colors[e]=t.colors[e]})),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),(function(){e.loadFromArgs(t)})):e.loadFromArgs(t)},Chart.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()}))},Chart.prototype.pie=function(){},Chart.prototype.pie.padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},Chart.prototype.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},Chart.prototype.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},Chart.prototype.regions.remove=function(t){var e,n,r,i=this.internal,o=i.config;return e=getOption(t=t||{},"duration",o.transition_duration),n=getOption(t,"classes",[a.region]),r=i.main.select("."+a.regions).selectAll(n.map((function(t){return"."+t}))),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){n.indexOf(t)>=0&&(e=!0)})),!e)})),o.regions},Chart.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+a.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+a.shape).filter((function(){return n.select(this).classed(a.SELECTED)})).nodes().map((function(t){var e=t.__data__;return e.data?e.data:e}))},Chart.prototype.select=function(t,e,n){var r=this.internal,i=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+a.shapes).selectAll("."+a.shape).each((function(s,l){var c=i.select(this),u=s.data?s.data.id:s.id,p=r.getToggle(this,s).bind(r),m=o.data_selection_grouped||!t||t.indexOf(u)>=0,_=!e||e.indexOf(l)>=0,v=c.classed(a.SELECTED);c.classed(a.line)||c.classed(a.area)||(m&&_?o.data_selection_isselectable(s)&&!v&&p(!0,c.classed(a.SELECTED,!0),s,l):isDefined(n)&&n&&v&&p(!1,c.classed(a.SELECTED,!1),s,l))}))},Chart.prototype.unselect=function(t,e){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+a.shapes).selectAll("."+a.shape).each((function(o,s){var l=r.select(this),c=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),p=i.data_selection_grouped||!t||t.indexOf(c)>=0,m=!e||e.indexOf(s)>=0,_=l.classed(a.SELECTED);l.classed(a.line)||l.classed(a.area)||p&&m&&i.data_selection_isselectable(o)&&_&&u(!1,l.classed(a.SELECTED,!1),o,s)}))},Chart.prototype.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("display",isIE()?"block":"initial","important").style("opacity",1,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",1)})),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Chart.prototype.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",0),n.style("display","none")})),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},Chart.prototype.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach((function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)}))},Chart.prototype.subchart=function(){},Chart.prototype.subchart.isShown=function(){return this.internal.config.subchart_show},Chart.prototype.subchart.show=function(){const t=this.internal;t.config.subchart_show||(t.config.subchart_show=!0,t.initSubchart(),t.updateDimension(),t.initSubchartBrush(),t.updateTargetsForSubchart(t.getTargets()),t.mapToIds(t.data.targets).forEach((function(e){t.withoutFadeIn[e]=!1})),t.updateAndRedraw(),t.showTargets())},Chart.prototype.subchart.hide=function(){const t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},Chart.prototype.tooltip=function(){},Chart.prototype.tooltip.show=function(t){var e,n,r=this.internal,i={};t.mouse?i=t.mouse:(t.data?n=t.data:void 0!==t.x&&(e=t.id?r.data.targets.filter((function(e){return e.id===t.id})):r.data.targets,n=r.filterByX(e,t.x).slice(0,1)[0]),i=n?r.getMousePosition(n):null),r.dispatchEvent("mousemove",i),r.config.tooltip_onshow.call(r,n)},Chart.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},Chart.prototype.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},ChartInternal.prototype.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),a=n||{withTransitionForAxis:i};a.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(a)},Chart.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},Chart.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},Chart.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map((function(t){return e.parseDate(t)}))),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()},Chart.prototype.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},Chart.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},Chart.prototype.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=r.max([e.orgXDomain[1],t])},Chart.prototype.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=r.min([e.orgXDomain[0],t])},Chart.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};isDefined(t.max)&&this.domain.max(t.max),isDefined(t.min)&&this.domain.min(t.min)},ChartInternal.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value((function(t){return t.values.reduce((function(t,e){return t+e.value}),0)}));let n=t.getOrderFunction();if(n&&(t.isOrderAsc()||t.isOrderDesc())){let t=n;n=(e,n)=>-1*t(e,n)}t.pie.sort(n||null)},ChartInternal.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,r=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(r<=t.radius-t.innerRadius?t.radius-t.innerRadius:r<=t.radius?r:t.radius)},ChartInternal.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},ChartInternal.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},ChartInternal.prototype.updateAngle=function(t){var e,n,r,i,a=this,o=a.config,s=!1,l=0;return o?(a.pie(a.filterTargetsToShow(a.data.targets)).forEach((function(e){s||e.data.id!==t.data.id||(s=!0,(t=e).index=l),l++})),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),a.isGaugeType(t.data)&&(e=o.gauge_min,n=o.gauge_max,r=Math.PI*(o.gauge_fullCircle?2:1)/(n-e),i=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=o.gauge_startingAngle,t.endAngle=t.startAngle+r*i),s?t:null):null},ChartInternal.prototype.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,r=t.d3.arc().outerRadius((function(r){return e?t.radius-n*r.index:t.radius})).innerRadius((function(r){return e?t.radius-n*(r.index+1):t.innerRadius})),newArc=function(e,n){var i;return n?r(e):(i=t.updateAngle(e))?r(i):"M 0 0"};return newArc.centroid=r.centroid,newArc},ChartInternal.prototype.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),r=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,i=Math.min(e.radiusExpanded*t-e.radius,.8*r-100*(1-t)),a=e.d3.arc().outerRadius((function(a){return n?e.radius-r*a.index+i:e.radiusExpanded*t})).innerRadius((function(t){return n?e.radius-r*(t.index+1):e.innerRadius}));return function(t){var n=e.updateAngle(t);return n?a(n):"M 0 0"}},ChartInternal.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},ChartInternal.prototype.transformForArcLabel=function(t){var e,n,r,i,a,o=this,s=o.config,l=o.updateAngle(t),c="",u=o.hasType("gauge");if(l&&!u)e=this.svgArc.centroid(l),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),c="translate("+n*(a=o.hasType("donut")&&s.donut_label_ratio?isFunction(s.donut_label_ratio)?s.donut_label_ratio(t,o.radius,i):s.donut_label_ratio:o.hasType("pie")&&s.pie_label_ratio?isFunction(s.pie_label_ratio)?s.pie_label_ratio(t,o.radius,i):s.pie_label_ratio:o.radius&&i?(36/o.radius>.375?1.175-36/o.radius:.8)*o.radius/i:0)+","+r*a+")";else if(l&&u&&o.filterTargetsToShow(o.data.targets).length>1){var p=Math.sin(l.endAngle-Math.PI/2);c="translate("+(n=Math.cos(l.endAngle-Math.PI/2)*(o.radiusExpanded+25))+","+(r=p*(o.radiusExpanded+15-Math.abs(10*p))+3)+")"}return c},ChartInternal.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},ChartInternal.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},ChartInternal.prototype.textForArcLabel=function(t){var e,n,r,i,a,o=this;return o.shouldShowArcLabel()?(n=(e=o.updateAngle(t))?e.value:null,r=o.getRatio("arc",e),i=t.data.id,o.hasType("gauge")||o.meetsArcLabelThreshold(r)?(a=o.getArcLabelFormat())?a(n,r,i):o.defaultArcValueFormat(n,r):""):""},ChartInternal.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},ChartInternal.prototype.expandArc=function(t){var e,n=this;n.transiting?e=r.setInterval((function(){n.transiting||(r.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))}),10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+a.chartArc)).each((function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each((function(t){n.isDonutType(t.data)}))})))},ChartInternal.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+a.chartArc)).selectAll("path").transition().duration((function(t){return e.expandDuration(t.data.id)})).attr("d",e.svgArc),e.svg.selectAll("."+a.arc))},ChartInternal.prototype.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},ChartInternal.prototype.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},ChartInternal.prototype.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},ChartInternal.prototype.meetsArcLabelThreshold=function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},ChartInternal.prototype.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},ChartInternal.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},ChartInternal.prototype.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},ChartInternal.prototype.updateTargetsForArc=function(t){var e,n=this,r=n.main,i=n.classChartArc.bind(n),o=n.classArcs.bind(n),s=n.classFocus.bind(n);(e=r.select("."+a.chartArcs).selectAll("."+a.chartArc).data(n.pie(t)).attr("class",(function(t){return i(t)+s(t.data)})).enter().append("g").attr("class",i)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},ChartInternal.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+a.chart).append("g").attr("class",a.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",a.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},ChartInternal.prototype.redrawArc=function(t,e,n){var r,i,o,s,l=this,c=l.d3,u=l.config,p=l.main,m=l.hasType("gauge");if(i=(r=p.selectAll("."+a.arcs).selectAll("."+a.arc).data(l.arcData.bind(l))).enter().append("path").attr("class",l.classArc.bind(l)).style("fill",(function(t){return l.color(t.data)})).style("cursor",(function(t){return u.interaction_enabled&&u.data_selection_isselectable(t)?"pointer":null})).each((function(t){l.isGaugeType(t.data)&&(t.startAngle=t.endAngle=u.gauge_startingAngle),this._current=t})).merge(r),m&&(s=(o=p.selectAll("."+a.arcs).selectAll("."+a.arcLabelLine).data(l.arcData.bind(l))).enter().append("rect").attr("class",(function(t){return a.arcLabelLine+" "+a.target+" "+a.target+"-"+t.data.id})).merge(o),1===l.filterTargetsToShow(l.data.targets).length?s.style("display","none"):s.style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data)})).style("display",u.gauge_labelLine_show?"":"none").each((function(t){var e=0,n=0,r=0,i="";if(l.hiddenTargetIds.indexOf(t.data.id)<0){var a=l.updateAngle(t),o=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(a.index+1),s=a.endAngle-Math.PI/2,u=l.radius-o,p=s-(0===u?0:1/u);e=l.radiusExpanded-l.radius+o,n=Math.cos(p)*u,r=Math.sin(p)*u,i="rotate("+180*s/Math.PI+", "+n+", "+r+")"}c.select(this).attr("x",n).attr("y",r).attr("width",e).attr("height",2).attr("transform",i).style("stroke-dasharray","0, "+(e+2)+", 0")}))),i.attr("transform",(function(t){return!l.isGaugeType(t.data)&&n?"scale(0)":""})).on("mouseover",u.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.expandArc(e.data.id),l.api.focus(e.data.id),l.toggleFocusLegend(e.data.id,!0),l.config.data_onmouseover(n,this))}:null).on("mousemove",u.interaction_enabled?function(t){var e,n=l.updateAngle(t);n&&(e=[l.convertToArcData(n)],l.showTooltip(e,this))}:null).on("mouseout",u.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.unexpandArc(e.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(n,this))}:null).on("click",u.interaction_enabled?function(t,e){var n,r=l.updateAngle(t);r&&(n=l.convertToArcData(r),l.toggleShape&&l.toggleShape(this,n,e),l.config.data_onclick.call(l.api,n,this))}:null).each((function(){l.transiting=!0})).transition().duration(t).attrTween("d",(function(t){var e,n=l.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=c.interpolate(this._current,n),this._current=e(0),function(n){if(null===l.config)return"M 0 0";var r=e(n);return r.data=t.data,l.getArc(r,!0)}):function(){return"M 0 0"}})).attr("transform",n?"scale(1)":"").style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data.id)})).call(l.endall,(function(){l.transiting=!1})),r.exit().transition().duration(e).style("opacity",0).remove(),p.selectAll("."+a.chartArc).select("text").style("opacity",0).attr("class",(function(t){return l.isGaugeType(t.data)?a.gaugeValue:""})).text(l.textForArcLabel.bind(l)).attr("transform",l.transformForArcLabel.bind(l)).style("font-size",(function(t){return l.isGaugeType(t.data)&&1===l.filterTargetsToShow(l.data.targets).length?Math.round(l.radius/5)+"px":""})).transition().duration(t).style("opacity",(function(t){return l.isTargetToShow(t.data.id)&&l.isArcType(t.data)?1:0})),p.select("."+a.chartArcsTitle).style("opacity",l.hasType("donut")||m?1:0),m){let t=0;const e=l.arcs.select("g."+a.chartArcsBackground).selectAll("path."+a.chartArcsBackground).data(l.data.targets);e.enter().append("path").attr("class",((t,e)=>a.chartArcsBackground+" "+a.chartArcsBackground+"-"+e)).merge(e).attr("d",(e=>{if(l.hiddenTargetIds.indexOf(e.id)>=0)return"M 0 0";var n={data:[{value:u.gauge_max}],startAngle:u.gauge_startingAngle,endAngle:-1*u.gauge_startingAngle*(u.gauge_fullCircle?Math.PI:1),index:t++};return l.getArc(n,!0,!0)})),e.exit().remove(),l.arcs.select("."+a.chartArcsGaugeUnit).attr("dy",".75em").text(u.gauge_label_show?u.gauge_units:""),l.arcs.select("."+a.chartArcsGaugeMin).attr("dx",-1*(l.innerRadius+(l.radius-l.innerRadius)/(u.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(u.gauge_label_show?l.textForGaugeMinMax(u.gauge_min,!1):""),l.arcs.select("."+a.chartArcsGaugeMax).attr("dx",l.innerRadius+(l.radius-l.innerRadius)/(u.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(u.gauge_label_show?l.textForGaugeMinMax(u.gauge_max,!0):"")}},ChartInternal.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",a.chartArcsBackground),t.append("text").attr("class",a.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",a.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",a.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},ChartInternal.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},ChartInternal.prototype.addToCache=function(t,e){this.cache[`$${t}`]=e},ChartInternal.prototype.getFromCache=function(t){return this.cache[`$${t}`]},ChartInternal.prototype.resetCache=function(){Object.keys(this.cache).filter((t=>/^\$/.test(t))).forEach((t=>{delete this.cache[t]}))},ChartInternal.prototype.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},ChartInternal.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},ChartInternal.prototype.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n},ChartInternal.prototype.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},ChartInternal.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},ChartInternal.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},ChartInternal.prototype.classText=function(t){return this.generateClass(a.text,t.index)},ChartInternal.prototype.classTexts=function(t){return this.generateClass(a.texts,t.id)},ChartInternal.prototype.classShape=function(t){return this.generateClass(a.shape,t.index)},ChartInternal.prototype.classShapes=function(t){return this.generateClass(a.shapes,t.id)},ChartInternal.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(a.line,t.id)},ChartInternal.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(a.lines,t.id)},ChartInternal.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(a.circle,t.index)},ChartInternal.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(a.circles,t.id)},ChartInternal.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(a.bar,t.index)},ChartInternal.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(a.bars,t.id)},ChartInternal.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(a.arc,t.data.id)},ChartInternal.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(a.arcs,t.data.id)},ChartInternal.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(a.area,t.id)},ChartInternal.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(a.areas,t.id)},ChartInternal.prototype.classRegion=function(t,e){return this.generateClass(a.region,e)+" "+("class"in t?t.class:"")},ChartInternal.prototype.classEvent=function(t){return this.generateClass(a.eventRect,t.index)},ChartInternal.prototype.classTarget=function(t){var e=this.config.data_classes[t],n="";return e&&(n=" "+a.target+"-"+e),this.generateClass(a.target,t)+n},ChartInternal.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},ChartInternal.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?a.focused:"")},ChartInternal.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?a.defocused:"")},ChartInternal.prototype.classChartText=function(t){return a.chartText+this.classTarget(t.id)},ChartInternal.prototype.classChartLine=function(t){return a.chartLine+this.classTarget(t.id)},ChartInternal.prototype.classChartBar=function(t){return a.chartBar+this.classTarget(t.id)},ChartInternal.prototype.classChartArc=function(t){return a.chartArc+this.classTarget(t.data.id)},ChartInternal.prototype.getTargetSelectorSuffix=function(t){const e=this.generateTargetClass(t);return r.CSS&&r.CSS.escape?r.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},ChartInternal.prototype.selectorTarget=function(t,e){return(e||"")+"."+a.target+this.getTargetSelectorSuffix(t)},ChartInternal.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map((function(t){return n.selectorTarget(t,e)})):null},ChartInternal.prototype.selectorLegend=function(t){return"."+a.legendItem+this.getTargetSelectorSuffix(t)},ChartInternal.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map((function(t){return e.selectorLegend(t)})):null},ChartInternal.prototype.getClipPath=function(t){return"url("+(isIE(9)?"":i.URL.split("#")[0])+"#"+t+")"},ChartInternal.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},ChartInternal.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},ChartInternal.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},ChartInternal.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},ChartInternal.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},ChartInternal.prototype.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},ChartInternal.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},ChartInternal.prototype.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},ChartInternal.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},ChartInternal.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},ChartInternal.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},ChartInternal.prototype.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},ChartInternal.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},ChartInternal.prototype.generateColor=function(){var t=this.config,e=this.d3,n=t.data_colors,r=notEmpty(t.color_pattern)?t.color_pattern:e.schemeCategory10,i=t.data_color,a=[];return function(t){var e,o=t.id||t.data&&t.data.id||t;return n[o]instanceof Function?e=n[o](t):n[o]?e=n[o]:(a.indexOf(o)<0&&a.push(o),e=r[a.indexOf(o)%r.length],n[o]=e),i instanceof Function?i(e,t):e}},ChartInternal.prototype.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,r="value"===n.unit,i=n.values&&n.values.length?n.values:[],a=n.max||100;return notEmpty(n)&&notEmpty(e)?function(t){var n,o=e[e.length-1];for(n=0;n<i.length;n++)if((r?t:100*t/a)<i[n]){o=e[n];break}return o}:null},ChartInternal.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach((function(e){t[e]=this.additionalConfig[e]}),this),t},ChartInternal.prototype.additionalConfig={},ChartInternal.prototype.loadConfig=function(t){var e,n,r,i=this.config;function find(){var t=n.shift();return t&&e&&"object"==typeof e&&t in e?(e=e[t],find()):t?void 0:e}Object.keys(i).forEach((function(a){e=t,n=a.split("_"),r=find(),isDefined(r)&&(i[a]=r)}))},ChartInternal.prototype.convertUrlToData=function(t,e,n,r,i){var a,o,s=this,l=e||"csv";"json"===l?(a=s.d3.json,o=s.convertJsonToData):"tsv"===l?(a=s.d3.tsv,o=s.convertXsvToData):(a=s.d3.csv,o=s.convertXsvToData),a(t,n).then((function(t){i.call(s,o.call(s,t,r))})).catch((function(t){throw t}))},ChartInternal.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce(((t,e)=>Object.assign(t,{[e]:null})),{})]}:{keys:e,rows:[].concat(t)}},ChartInternal.prototype.convertJsonToData=function(t,e){var n,r,i=this,a=[];return e?(e.x?(n=e.value.concat(e.x),i.config.data_x=e.x):n=e.value,a.push(n),t.forEach((function(t){var e=[];n.forEach((function(n){var r=i.findValueInJson(t,n);isUndefined(r)&&(r=null),e.push(r)})),a.push(e)})),r=i.convertRowsToData(a)):(Object.keys(t).forEach((function(e){a.push([e].concat(t[e]))})),r=i.convertColumnsToData(a)),r},ChartInternal.prototype.findValueInJson=function(t,e){if(e in t)return t[e];for(var n=(e=(e=e.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<n.length;++r){var i=n[r];if(!(i in t))return;t=t[i]}return t},ChartInternal.prototype.convertRowsToData=t=>{const e=[],n=t[0];for(let r=1;r<t.length;r++){const i={};for(let e=0;e<t[r].length;e++){if(isUndefined(t[r][e]))throw new Error("Source data is missing a component at ("+r+","+e+")!");i[n[e]]=t[r][e]}e.push(i)}return{keys:n,rows:e}},ChartInternal.prototype.convertColumnsToData=t=>{const e=[],n=[];for(let r=0;r<t.length;r++){const i=t[r][0];for(let n=1;n<t[r].length;n++){if(isUndefined(e[n-1])&&(e[n-1]={}),isUndefined(t[r][n]))throw new Error("Source data is missing a component at ("+r+","+n+")!");e[n-1][i]=t[r][n]}n.push(i)}return{keys:n,rows:e}},ChartInternal.prototype.convertDataToTargets=function(t,e){var n,r,i,a,o,s=this,l=s.config;if(isArray(t)?a=Object.keys(t[0]):(a=t.keys,t=t.rows),i=a.filter(s.isX,s),s.isStanfordGraphType()){if(o=a.filter(s.isEpochs,s),r=a.filter(s.isNotXAndNotEpochs,s),1!==i.length||1!==o.length||1!==r.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else r=a.filter(s.isNotX,s);return r.forEach((function(n){var r=s.getXKey(n);s.isCustomX()||s.isTimeSeries()?i.indexOf(r)>=0?s.data.xs[n]=(e&&s.data.xs[n]?s.data.xs[n]:[]).concat(t.map((function(t){return t[r]})).filter(isValue).map((function(t,e){return s.generateTargetX(t,n,e)}))):l.data_x?s.data.xs[n]=s.getOtherTargetXs():notEmpty(l.data_xs)&&(s.data.xs[n]=s.getXValuesOfXKey(r,s.data.targets)):s.data.xs[n]=t.map((function(t,e){return e}))})),r.forEach((function(t){if(!s.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')})),(n=r.map((function(e,n){var r=l.data_idConverter(e);return{id:r,id_org:e,values:t.map((function(t,i){var a,c,u=t[s.getXKey(e)],p=null===t[e]||isNaN(t[e])?null:+t[e];return s.isCustomX()&&s.isCategorized()&&!isUndefined(u)?(0===n&&0===i&&(l.axis_x_categories=[]),-1===(a=l.axis_x_categories.indexOf(u))&&(a=l.axis_x_categories.length,l.axis_x_categories.push(u))):a=s.generateTargetX(u,e,i),(isUndefined(t[e])||s.data.xs[e].length<=i)&&(a=void 0),c={x:a,value:p,id:r},s.isStanfordGraphType()&&(c.epochs=t[o]),c})).filter((function(t){return isDefined(t.x)}))}}))).forEach((function(t){var e;l.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),e=0,t.values.forEach((function(t){t.index=e++})),s.data.xs[t.id].sort((function(t,e){return t-e}))})),s.hasNegativeValue=s.hasNegativeValueInTargets(n),s.hasPositiveValue=s.hasPositiveValueInTargets(n),l.data_type&&s.setTargetType(s.mapToIds(n).filter((function(t){return!(t in l.data_types)})),l.data_type),n.forEach((function(t){s.addCache(t.id_org,t)})),n},ChartInternal.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},ChartInternal.prototype.isX=function(t){var e,n,r,i=this.config;return i.data_x&&t===i.data_x||notEmpty(i.data_xs)&&(e=i.data_xs,n=t,r=!1,Object.keys(e).forEach((function(t){e[t]===n&&(r=!0)})),r)},ChartInternal.prototype.isNotX=function(t){return!this.isX(t)},ChartInternal.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},ChartInternal.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},ChartInternal.prototype.isAxisNormalized=function(t){const e=this;return!!e.isStackNormalized()&&e.data.targets.filter((n=>e.axis.getId(n.id)===t)).some((t=>e.isTargetNormalized(t.id)))},ChartInternal.prototype.isTargetNormalized=function(t){return this.isStackNormalized()&&this.config.data_groups.some((e=>e.includes(t)))},ChartInternal.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:notEmpty(e.data_xs)?e.data_xs[t]:null},ChartInternal.prototype.getTotalPerIndex=function(t){const e=this;if(!e.isStackNormalized())return null;const n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];const r={y:[],y2:[]};return e.data.targets.filter((t=>e.isTargetNormalized(t.id))).filter((t=>e.isTargetToShow(t.id))).forEach((t=>{const n=r[e.axis.getId(t.id)];t.values.forEach(((t,e)=>{n[e]||(n[e]=0),n[e]+=isNumber(t.value)?t.value:0}))})),e.addToCache("getTotalPerIndex",r),r[t]},ChartInternal.prototype.getTotalDataSum=function(){const t=this,e=t.getFromCache("getTotalDataSum");if(void 0!==e)return e;const n=(r=t.data.targets.filter((e=>t.isTargetToShow(e.id))).map((t=>t.values)),Array.isArray(r)?[].concat(...r):[]).map((t=>t.value)).reduce(((t,e)=>t+e),0);var r;return t.addToCache("getTotalDataSum",n),n},ChartInternal.prototype.getXValuesOfXKey=function(t,e){var n,r=this;return(e&&notEmpty(e)?r.mapToIds(e):[]).forEach((function(e){r.getXKey(e)===t&&(n=r.data.xs[e])})),n},ChartInternal.prototype.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&isValue(n.data.xs[t][e])?n.data.xs[t][e]:e},ChartInternal.prototype.getOtherTargetXs=function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},ChartInternal.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},ChartInternal.prototype.addXs=function(t){var e=this;Object.keys(t).forEach((function(n){e.config.data_xs[n]=t[n]}))},ChartInternal.prototype.addName=function(t){var e;return t&&(e=this.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},ChartInternal.prototype.getValueOnIndex=function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},ChartInternal.prototype.updateTargetX=function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(r,i){r.x=n.generateTargetX(e[i],t.id,i)})),n.data.xs[t.id]=e}))},ChartInternal.prototype.updateTargetXs=function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},ChartInternal.prototype.generateTargetX=function(t,e,n){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?isValue(t)?+t:r.getXValue(e,n):n},ChartInternal.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},ChartInternal.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,(function(t){return t.values.length}))},ChartInternal.prototype.mapToIds=function(t){return t.map((function(t){return t.id}))},ChartInternal.prototype.mapToTargetIds=function(t){return t?[].concat(t):this.mapToIds(this.data.targets)},ChartInternal.prototype.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},ChartInternal.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},ChartInternal.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},ChartInternal.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)},ChartInternal.prototype.filterTargetsToShow=function(t){var e=this;return t.filter((function(t){return e.isTargetToShow(t.id)}))},ChartInternal.prototype.getTargets=function(){return this.data.targets},ChartInternal.prototype.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map((function(t){return t.values.map((function(t){return+t.x}))})))).values();return(n=e.isTimeSeries()?n.map((function(t){return new Date(+t)})):n.map((function(t){return+t}))).sort((function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}))},ChartInternal.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenTargetIds.indexOf(t[e])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[e]));this.resetCache()},ChartInternal.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter((function(e){return t.indexOf(e)<0})),this.resetCache()},ChartInternal.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var e=0;e<t.length;e++)this.hiddenLegendIds.indexOf(t[e])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[e]))},ChartInternal.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter((function(e){return t.indexOf(e)<0}))},ChartInternal.prototype.getValuesAsIdKeyed=function(t){var e={};return t.forEach((function(t){e[t.id]=[],t.values.forEach((function(n){e[t.id].push(n.value)}))})),e},ChartInternal.prototype.checkValueInTargets=function(t,e){var n,r,i,a=Object.keys(t);for(n=0;n<a.length;n++)for(i=t[a[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},ChartInternal.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},ChartInternal.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},ChartInternal.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},ChartInternal.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},ChartInternal.prototype.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),r=t.isOrderDesc();if(n||r){var reducer=function(t,e){return t+Math.abs(e.value)};return function(t,e){var r=t.values.reduce(reducer,0),i=e.values.reduce(reducer,0);return n?i-r:r-i}}if(isFunction(e.data_order))return e.data_order;if(isArray(e.data_order)){var i=e.data_order;return function(t,e){return i.indexOf(t.id)-i.indexOf(e.id)}}},ChartInternal.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},ChartInternal.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map((t=>t.values.filter((t=>t.index===e)))))},ChartInternal.prototype.filterByX=function(t,e){return this.d3.merge(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},ChartInternal.prototype.filterRemoveNull=function(t){return t.filter((function(t){return isValue(t.value)}))},ChartInternal.prototype.filterByXDomain=function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},ChartInternal.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!notEmpty(t.data_labels))},ChartInternal.prototype.getDataLabelLength=function(t,e,n){var r=this,i=[0,0];return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return r.dataLabelFormat(t.id)(t)})).each((function(t,e){i[e]=1.3*getBBox(this)[n]})).remove(),i},ChartInternal.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},ChartInternal.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},ChartInternal.prototype.findClosestFromTargets=function(t,e){const n=this,r=t.map((t=>n.findClosest(t.values,e,n.config.tooltip_horizontal?n.horizontalDistance.bind(n):n.dist.bind(n),n.config.point_sensitivity))).filter((t=>t));return 0===r.length?void 0:1===r.length?r[0]:n.findClosest(r,e,n.dist.bind(n))},ChartInternal.prototype.findClosestFromTargetsByX=function(t,e){let n,r;return t.forEach((t=>{t.values.forEach((t=>{let i=Math.abs(e-t.x);(void 0===r||i<r)&&(n=t,r=i)}))})),n},ChartInternal.prototype.findClosest=function(t,e,n,r=1/0){const i=this;let o;return t.filter((t=>t&&i.isBarType(t.id))).forEach((function(t){if(!o){const n=i.main.select("."+a.bars+i.getTargetSelectorSuffix(t.id)+" ."+a.bar+"-"+t.index).node();i.isWithinBar(e,n)&&(o=t)}})),t.filter((t=>t&&!i.isBarType(t.id))).forEach((t=>{let i=n(t,e);i<r&&(r=i,o=t)})),o},ChartInternal.prototype.dist=function(t,e){var n=this,r=n.config,i=r.axis_rotated?1:0,a=r.axis_rotated?0:1,o=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[i],2)+Math.pow(o-e[a],2))},ChartInternal.prototype.horizontalDistance=function(t,e){var n=this.config.axis_rotated?1:0,r=this.x(t.x);return Math.abs(r-e[n])},ChartInternal.prototype.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},ChartInternal.prototype.getRatio=function(t,e,n=!1){const r=this,i=r.api;let a=0;if(e&&i.data.shown.call(i).length)if(a=e.ratio||e.value,"arc"===t)if(r.hasType("gauge"))a=(e.endAngle-e.startAngle)/(Math.PI*(r.config.gauge_fullCircle?2:1));else{const t=r.getTotalDataSum();a=e.value/t}else if("index"===t){const t=r.getTotalPerIndex(r.axis.getId(e.id));e.ratio=isNumber(e.value)&&t&&t[e.index]>0?e.value/t[e.index]:0,a=e.ratio}return n&&a?100*a:a},ChartInternal.prototype.updateDataAttributes=function(t,e){var n=this.config["data_"+t];return void 0===e||(Object.keys(e).forEach((function(t){n[t]=e[t]})),this.redraw({withLegend:!0})),n},ChartInternal.prototype.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach((function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)})),n.data.targets.forEach((function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}})),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},ChartInternal.prototype.loadFromArgs=function(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,(function(n){e.load(e.convertDataToTargets(n),t)})):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},ChartInternal.prototype.unload=function(t,e){var n=this;n.resetCache(),e||(e=function(){}),(t=t.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==t.length?(n.svg.selectAll(t.map((function(t){return n.selectorTarget(t)}))).transition().style("opacity",0).remove().call(n.endall,e),t.forEach((function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+a.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))}))):e()},ChartInternal.prototype.getYDomainMin=function(t){var e,n,r,i,a,o,s=this,l=s.config,c=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(o=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter((function(t){return c.indexOf(t)>=0})),0!==i.length)for(r=i[0],o&&u[r]&&u[r].forEach((function(t,e){u[r][e]=t<0?t:0})),n=1;n<i.length;n++)a=i[n],u[a]&&u[a].forEach((function(t,e){s.axis.getId(a)!==s.axis.getId(r)||!u[r]||o&&+t>0||(u[r][e]+=+t)}));return s.d3.min(Object.keys(u).map((function(t){return s.d3.min(u[t])})))},ChartInternal.prototype.getYDomainMax=function(t){var e,n,r,i,a,o,s=this,l=s.config,c=s.mapToIds(t),u=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(o=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter((function(t){return c.indexOf(t)>=0})),0!==i.length)for(r=i[0],o&&u[r]&&u[r].forEach((function(t,e){u[r][e]=t>0?t:0})),n=1;n<i.length;n++)a=i[n],u[a]&&u[a].forEach((function(t,e){s.axis.getId(a)!==s.axis.getId(r)||!u[r]||o&&+t<0||(u[r][e]+=+t)}));return s.d3.max(Object.keys(u).map((function(t){return s.d3.max(u[t])})))},ChartInternal.prototype.getYDomain=function(t,e,n){var r=this,i=r.config;if(r.isAxisNormalized(e))return[0,100];var a,o,s,l,c,u,p,m,_,v,b=t.filter((function(t){return r.axis.getId(t.id)===e})),S=n?r.filterByXDomain(b,n):b,w="y2"===e?i.axis_y2_min:i.axis_y_min,T="y2"===e?i.axis_y2_max:i.axis_y_max,C=r.getYDomainMin(S),A=r.getYDomainMax(S),P="y2"===e?i.axis_y2_center:i.axis_y_center,M=r.hasType("bar",S)&&i.bar_zerobased||r.hasType("area",S)&&i.area_zerobased,I="y2"===e?i.axis_y2_inverted:i.axis_y_inverted,E=r.hasDataLabel()&&i.axis_rotated,O=r.hasDataLabel()&&!i.axis_rotated;if(C=isValue(w)?w:isValue(T)?C<T?C:T-10:C,A=isValue(T)?T:isValue(w)?w<A?A:w+10:A,0===S.length)return"y2"===e?r.y2.domain():r.y.domain();if(isNaN(C)&&(C=0),isNaN(A)&&(A=C),C===A&&(C<0?A=0:C=0),_=C>=0&&A>=0,v=C<=0&&A<=0,(isValue(w)&&_||isValue(T)&&v)&&(M=!1),M&&(_&&(C=0),v&&(A=0)),s=l=.1*(o=Math.abs(A-C)),void 0!==P&&(A=P+(c=Math.max(Math.abs(C),Math.abs(A))),C=P-c),E)u=r.getDataLabelLength(C,A,"width"),p=diffDomain(r.y.range()),s+=o*((m=[u[0]/p,u[1]/p])[1]/(1-m[0]-m[1])),l+=o*(m[0]/(1-m[0]-m[1]));else if(O){u=r.getDataLabelLength(C,A,"height");const t=r.getY(i[`axis_${e}_type`],[0,i.axis_rotated?r.width:r.height],[0,o]);s+=t(u[1]),l+=t(u[0])}return"y"===e&&notEmpty(i.axis_y_padding)&&(s=r.axis.getPadding(i.axis_y_padding,"top",s,o),l=r.axis.getPadding(i.axis_y_padding,"bottom",l,o)),"y2"===e&&notEmpty(i.axis_y2_padding)&&(s=r.axis.getPadding(i.axis_y2_padding,"top",s,o),l=r.axis.getPadding(i.axis_y2_padding,"bottom",l,o)),M&&(_&&(l=C),v&&(s=-A)),a=[C-l,A+s],I?a.reverse():a},ChartInternal.prototype.getXDomainMin=function(t){var e=this,n=e.config;return isDefined(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,(function(t){return e.d3.min(t.values,(function(t){return t.x}))}))},ChartInternal.prototype.getXDomainMax=function(t){var e=this,n=e.config;return isDefined(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,(function(t){return e.d3.max(t.values,(function(t){return t.x}))}))},ChartInternal.prototype.getXDomainPadding=function(t){var e,n,r,i,a=this,o=a.config,s=t[1]-t[0];return n=a.isCategorized()?0:a.hasType("bar")?(e=a.getMaxDataCount())>1?s/(e-1)/2:.5:.01*s,"object"==typeof o.axis_x_padding&&notEmpty(o.axis_x_padding)?(r=isValue(o.axis_x_padding.left)?o.axis_x_padding.left:n,i=isValue(o.axis_x_padding.right)?o.axis_x_padding.right:n):r=i="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:r,right:i}},ChartInternal.prototype.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],a=e.getXDomainPadding(n),o=0,s=0;return r-i!=0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(o=e.isTimeSeries()?new Date(r.getTime()-a.left):r-a.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+a.right):i+a.right),[o,s]},ChartInternal.prototype.updateXDomain=function(t,e,n,r,i){var a=this,o=a.config;return n&&(a.x.domain(i||a.d3.extent(a.getXDomain(t))),a.orgXDomain=a.x.domain(),o.zoom_enabled&&a.zoom.update(),a.subX.domain(a.x.domain()),a.brush&&a.brush.updateScale(a.subX)),e&&a.x.domain(i||(!a.brush||a.brush.empty()?a.orgXDomain:a.brush.selectionAsValue())),r&&a.x.domain(a.trimXDomain(a.x.orgDomain())),a.x.domain()},ChartInternal.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},ChartInternal.prototype.drag=function(t){var e,n,r,i,o,s,l,c,u=this,p=u.config,m=u.main,_=u.d3;u.hasArcType()||p.data_selection_enabled&&p.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],i=t[1],o=Math.min(e,r),s=Math.max(e,r),l=p.data_selection_grouped?u.margin.top:Math.min(n,i),c=p.data_selection_grouped?u.height:Math.max(n,i),m.select("."+a.dragarea).attr("x",o).attr("y",l).attr("width",s-o).attr("height",c-l),m.selectAll("."+a.shapes).selectAll("."+a.shape).each((function(t,e){if(p.data_selection_isselectable(t)){var n,r,i,m,v,b,S=_.select(this),w=S.classed(a.SELECTED),T=S.classed(a.INCLUDED),C=!1;if(S.classed(a.circle))n=1*S.attr("cx"),r=1*S.attr("cy"),v=u.togglePoint,C=o<n&&n<s&&l<r&&r<c;else{if(!S.classed(a.bar))return;n=(b=getPathBox(this)).x,r=b.y,i=b.width,m=b.height,v=u.togglePath,C=!(s<n||n+i<o||c<r||r+m<l)}C^T&&(S.classed(a.INCLUDED,!T),S.classed(a.SELECTED,!w),v.call(u,!w,S,t,e))}})))},ChartInternal.prototype.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+a.chart).append("rect").attr("class",a.dragarea).style("opacity",.1),e.dragging=!0)},ChartInternal.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+a.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+a.shape).classed(a.INCLUDED,!1),t.dragging=!1)},ChartInternal.prototype.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,i,a){return("y2"===e.axis.getId(a)?r:n).call(e,t,i)}},ChartInternal.prototype.yFormat=function(t){var e=this.config;return(e.axis_y_tick_format?e.axis_y_tick_format:this.defaultValueFormat)(t)},ChartInternal.prototype.y2Format=function(t){var e=this.config;return(e.axis_y2_tick_format?e.axis_y2_tick_format:this.defaultValueFormat)(t)},ChartInternal.prototype.defaultValueFormat=function(t){return isValue(t)?+t:""},ChartInternal.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},ChartInternal.prototype.dataLabelFormat=function(t){var e=this.config.data_labels,defaultFormat=function(t){return isValue(t)?+t:""};return"function"==typeof e.format?e.format:"object"==typeof e.format?e.format[t]?!0===e.format[t]?defaultFormat:e.format[t]:function(){return""}:defaultFormat},ChartInternal.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",a.grid),e.grid_x_show&&t.grid.append("g").attr("class",a.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",a.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",a.xgridFocus).append("line").attr("class",a.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},ChartInternal.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",a.grid+" "+a.gridLines),t.gridLines.append("g").attr("class",a.xgridLines),t.gridLines.append("g").attr("class",a.ygridLines),t.xgridLines=e.selectAll([])},ChartInternal.prototype.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var s=e.main.select("."+a.xgrids).selectAll("."+a.xgrid).data(i),l=s.enter().append("line").attr("class",a.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=l.merge(s),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),s.exit().remove()},ChartInternal.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),r=t.main.select("."+a.ygrids).selectAll("."+a.ygrid).data(n),i=r.enter().append("line").attr("class",a.ygrid);t.ygrid=i.merge(r),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),r.exit().remove(),t.smoothLines(t.ygrid,"grid")},ChartInternal.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},ChartInternal.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},ChartInternal.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},ChartInternal.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},ChartInternal.prototype.updateGrid=function(t){var e,n,r,i,o=this,s=o.main,l=o.config,c=o.xv.bind(o),u=o.yv.bind(o),p=o.xGridTextX.bind(o),m=o.yGridTextX.bind(o);o.grid.style("visibility",o.hasArcType()?"hidden":"visible"),s.select("line."+a.xgridFocus).style("visibility","hidden"),l.grid_x_show&&o.updateXGrid(),(n=(e=s.select("."+a.xgridLines).selectAll("."+a.xgridLine).data(l.grid_x_lines)).enter().append("g").attr("class",(function(t){return a.xgridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",l.axis_rotated?0:c).attr("x2",l.axis_rotated?o.width:c).attr("y1",l.axis_rotated?c:0).attr("y2",l.axis_rotated?c:o.height).style("opacity",0),n.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",l.axis_rotated?"":"rotate(-90)").attr("x",l.axis_rotated?m:p).attr("y",c).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),l.grid_y_show&&o.updateYGrid(),(i=(r=s.select("."+a.ygridLines).selectAll("."+a.ygridLine).data(l.grid_y_lines)).enter().append("g").attr("class",(function(t){return a.ygridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",l.axis_rotated?u:0).attr("x2",l.axis_rotated?u:o.width).attr("y1",l.axis_rotated?0:u).attr("y2",l.axis_rotated?o.height:u).style("opacity",0),i.append("text").attr("text-anchor",o.gridTextAnchor).attr("transform",l.axis_rotated?"rotate(-90)":"").attr("x",l.axis_rotated?p:m).attr("y",u).attr("dx",o.gridTextDx).attr("dy",-5).style("opacity",0),o.ygridLines=i.merge(r),o.ygridLines.select("line").transition().duration(t).attr("x1",l.axis_rotated?u:0).attr("x2",l.axis_rotated?u:o.width).attr("y1",l.axis_rotated?0:u).attr("y2",l.axis_rotated?o.height:u).style("opacity",1),o.ygridLines.select("text").transition().duration(t).attr("x",l.axis_rotated?o.xGridTextX.bind(o):o.yGridTextX.bind(o)).attr("y",u).text((function(t){return t.text})).style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},ChartInternal.prototype.redrawGrid=function(t,e){var n=this,r=n.config,i=n.xv.bind(n),a=n.xgridLines.select("line"),o=n.xgridLines.select("text");return[(t?a.transition(e):a).attr("x1",r.axis_rotated?0:i).attr("x2",r.axis_rotated?n.width:i).attr("y1",r.axis_rotated?i:0).attr("y2",r.axis_rotated?i:n.height).style("opacity",1),(t?o.transition(e):o).attr("x",r.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",i).text((function(t){return t.text})).style("opacity",1)]},ChartInternal.prototype.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter((function(t){return t&&isValue(t.value)})),i=e.main.selectAll("line."+a.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("stanford")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(i,"grid")))},ChartInternal.prototype.hideXGridFocus=function(){this.main.select("line."+a.xgridFocus).style("visibility","hidden")},ChartInternal.prototype.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+a.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},ChartInternal.prototype.generateGridData=function(t,e){var n,r,i,o,s=[],l=this.main.select("."+a.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=this.getXDomain())[0].getFullYear(),i=n[1].getFullYear(),o=r;o<=i;o++)s.push(new Date(o+"-01-01 00:00:00"));else(s=e.ticks(10)).length>l&&(s=s.filter((function(t){return(""+t).indexOf(".")<0})));return s},ChartInternal.prototype.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach((function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(n=!0)})),n}:function(){return!0}},ChartInternal.prototype.removeGridLines=function(t,e){var n=this,r=n.config,i=n.getGridFilterToRemove(t),toShow=function(t){return!i(t)},o=e?a.xgridLines:a.ygridLines,s=e?a.xgridLine:a.ygridLine;n.main.select("."+o).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(toShow):r.grid_y_lines=r.grid_y_lines.filter(toShow)},ChartInternal.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+a.chart).append("g").attr("class",a.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+a.eventRects).append("rect").attr("class",a.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},ChartInternal.prototype.redrawEventRect=function(){const t=this,e=t.d3,n=t.config;function mouseout(){t.svg.select("."+a.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}const isHoveringDataPoint=(e,r)=>r&&(t.isBarType(r.id)||t.dist(r,e)<n.point_sensitivity),withName=e=>e?t.addName(Object.assign({},e)):null;t.main.select("."+a.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null),t.eventRect.attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).on("mouseout",n.interaction_enabled?function(){n&&(t.hasArcType()||(t.mouseover&&(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),mouseout()))}:null).on("mousemove",n.interaction_enabled?function(){if(t.dragging)return;const r=t.getTargetsToShow();if(t.hasArcType(r))return;const i=e.mouse(this),o=withName(t.findClosestFromTargets(r,i)),s=isHoveringDataPoint(i,o);!t.mouseover||o&&o.id===t.mouseover.id&&o.index===t.mouseover.index||(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),o&&!t.mouseover&&(n.data_onmouseover.call(t.api,o),t.mouseover=o),t.svg.select("."+a.eventRect).style("cursor",s?"pointer":null);let l;if(!n.tooltip_grouped||t.hasType("stanford",r))o&&(l=[o]);else{let e;if(o)e=o;else{const a=n.axis_rotated?i[1]:i[0];e=t.findClosestFromTargetsByX(r,t.x.invert(a))}e&&(l=t.filterByX(r,e.x))}if(!l||0===l.length)return mouseout();l=l.map(withName),t.showTooltip(l,this),n.point_focus_expand_enabled&&(t.unexpandCircles(),l.forEach((function(e){t.expandCircles(e.index,e.id,!1)}))),t.unexpandBars(),l.forEach((function(e){t.expandBars(e.index,e.id,!1)})),t.showXGridFocus(l)}:null).on("click",n.interaction_enabled?function(){const r=t.getTargetsToShow();if(t.hasArcType(r))return;const i=e.mouse(this),o=withName(t.findClosestFromTargets(r,i));if(!isHoveringDataPoint(i,o))return;let s;if(s=!n.data_selection_grouped||t.isStanfordType(o)?[o]:t.filterByX(r,o.x),s.forEach((function(e){t.main.selectAll("."+a.shapes+t.getTargetSelectorSuffix(e.id)).selectAll("."+a.shape+"-"+e.index).each((function(){(n.data_selection_grouped||t.isWithinShape(this,e))&&t.toggleShape(this,e,e.index)}))})),o){const e=t.main.selectAll("."+a.shapes+t.getTargetSelectorSuffix(o.id)).select("."+a.shape+"-"+o.index);n.data_onclick.call(t.api,o,e.node())}}:null).call(n.interaction_enabled&&n.data_selection_draggable&&t.drag?e.drag().on("drag",(function(){t.drag(e.mouse(this))})).on("start",(function(){t.dragstart(e.mouse(this))})).on("end",(function(){t.dragend()})):function(){})},ChartInternal.prototype.getMousePosition=function(t){return[this.x(t.x),this.getYScale(t.id)(t.value)]},ChartInternal.prototype.dispatchEvent=function(t,e){var n="."+a.eventRect,o=this.main.select(n).node(),s=o.getBoundingClientRect(),l=s.left+(e?e[0]:0),c=s.top+(e?e[1]:0),u=i.createEvent("MouseEvents");u.initMouseEvent(t,!0,!0,r,0,l,c,l,c,!1,!1,!1,!1,0,null),o.dispatchEvent(u)},ChartInternal.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},ChartInternal.prototype.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},ChartInternal.prototype.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},ChartInternal.prototype.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},ChartInternal.prototype.updateLegendStep=function(t){this.legendStep=t},ChartInternal.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},ChartInternal.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},ChartInternal.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},ChartInternal.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},ChartInternal.prototype.opacityForLegend=function(t){return t.classed(a.legendItemHidden)?null:1},ChartInternal.prototype.opacityForUnfocusedLegend=function(t){return t.classed(a.legendItemHidden)?null:.3},ChartInternal.prototype.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+a.legendItem).filter((function(e){return t.indexOf(e)>=0})).classed(a.legendItemFocused,e).transition().duration(100).style("opacity",(function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))}))},ChartInternal.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+a.legendItem).classed(a.legendItemFocused,!1).transition().duration(100).style("opacity",(function(){return t.opacityForLegend(e.select(this))}))},ChartInternal.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",(function(){return e.opacityForLegend(e.d3.select(this))}))},ChartInternal.prototype.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&isEmpty(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},ChartInternal.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},ChartInternal.prototype.updateLegend=function(t,e,n){var r,i,o,s,l,c,u,p,m,_,v,b,S,w,T,C,A=this,P=A.config,M=0,I=0,E=P.legend_item_tile_width+5,O=0,D={},L={},R={},N=[0],F={},G=0;function updatePositions(e,n,r){var i,o,s=0===r,l=r===t.length-1,c=function getTextBox(t,e){return A.legendItemTextBox[e]||(A.legendItemTextBox[e]=A.getTextRect(t.textContent,a.legendItem,t)),A.legendItemTextBox[e]}(e,n),u=c.width+E+(!l||A.isLegendRight||A.isLegendInset?10:0)+P.legend_padding,p=c.height+4,m=A.isLegendRight||A.isLegendInset?p:u,_=A.isLegendRight||A.isLegendInset?A.getLegendHeight():A.getLegendWidth();function updateValues(t,e){e||(i=(_-O-m)/2)<10&&(i=(_-m)/2,O=0,G++),F[t]=G,N[G]=A.isLegendInset?10:i,D[t]=O,O+=m}s&&(O=0,G=0,M=0,I=0),!P.legend_show||A.isLegendToShow(n)?(L[n]=u,R[n]=p,(!M||u>=M)&&(M=u),(!I||p>=I)&&(I=p),o=A.isLegendRight||A.isLegendInset?I:M,P.legend_equally?(Object.keys(L).forEach((function(t){L[t]=M})),Object.keys(R).forEach((function(t){R[t]=I})),(i=(_-o*t.length)/2)<10?(O=0,G=0,t.forEach((function(t){updateValues(t)}))):updateValues(n,!0)):updateValues(n)):L[n]=R[n]=F[n]=D[n]=0}t=t.filter((function(t){return!isDefined(P.data_names[t])||null!==P.data_names[t]})),v=getOption(e=e||{},"withTransition",!0),b=getOption(e,"withTransitionForTransform",!0),A.isLegendInset&&(G=P.legend_inset_step?P.legend_inset_step:t.length,A.updateLegendStep(G)),A.isLegendRight?(r=function(t){return M*F[t]},s=function(t){return N[F[t]]+D[t]}):A.isLegendInset?(r=function(t){return M*F[t]+10},s=function(t){return N[F[t]]+D[t]}):(r=function(t){return N[F[t]]+D[t]},s=function(t){return I*F[t]}),i=function(t,e){return r(t,e)+4+P.legend_item_tile_width},l=function(t,e){return s(t,e)+9},o=function(t,e){return r(t,e)},c=function(t,e){return s(t,e)-5},u=function(t,e){return r(t,e)-2},p=function(t,e){return r(t,e)-2+P.legend_item_tile_width},m=function(t,e){return s(t,e)+4},(_=A.legend.selectAll("."+a.legendItem).data(t).enter().append("g").attr("class",(function(t){return A.generateClass(a.legendItem,t)})).style("visibility",(function(t){return A.isLegendToShow(t)?"visible":"hidden"})).style("cursor",(function(){return P.interaction_enabled?"pointer":"auto"})).on("click",P.interaction_enabled?function(t){P.legend_item_onclick?P.legend_item_onclick.call(A,t):A.d3.event.altKey?(A.api.hide(),A.api.show(t)):(A.api.toggle(t),A.isTargetToShow(t)?A.api.focus(t):A.api.revert())}:null).on("mouseover",P.interaction_enabled?function(t){P.legend_item_onmouseover?P.legend_item_onmouseover.call(A,t):(A.d3.select(this).classed(a.legendItemFocused,!0),!A.transiting&&A.isTargetToShow(t)&&A.api.focus(t))}:null).on("mouseout",P.interaction_enabled?function(t){P.legend_item_onmouseout?P.legend_item_onmouseout.call(A,t):(A.d3.select(this).classed(a.legendItemFocused,!1),A.api.revert())}:null)).append("text").text((function(t){return isDefined(P.data_names[t])?P.data_names[t]:t})).each((function(t,e){updatePositions(this,t,e)})).style("pointer-events","none").attr("x",A.isLegendRight||A.isLegendInset?i:-200).attr("y",A.isLegendRight||A.isLegendInset?-200:l),_.append("rect").attr("class",a.legendItemEvent).style("fill-opacity",0).attr("x",A.isLegendRight||A.isLegendInset?o:-200).attr("y",A.isLegendRight||A.isLegendInset?-200:c),_.append("line").attr("class",a.legendItemTile).style("stroke",A.color).style("pointer-events","none").attr("x1",A.isLegendRight||A.isLegendInset?u:-200).attr("y1",A.isLegendRight||A.isLegendInset?-200:m).attr("x2",A.isLegendRight||A.isLegendInset?p:-200).attr("y2",A.isLegendRight||A.isLegendInset?-200:m).attr("stroke-width",P.legend_item_tile_height),C=A.legend.select("."+a.legendBackground+" rect"),A.isLegendInset&&M>0&&0===C.size()&&(C=A.legend.insert("g","."+a.legendItem).attr("class",a.legendBackground).append("rect")),S=A.legend.selectAll("text").data(t).text((function(t){return isDefined(P.data_names[t])?P.data_names[t]:t})).each((function(t,e){updatePositions(this,t,e)})),(v?S.transition():S).attr("x",i).attr("y",l),w=A.legend.selectAll("rect."+a.legendItemEvent).data(t),(v?w.transition():w).attr("width",(function(t){return L[t]})).attr("height",(function(t){return R[t]})).attr("x",o).attr("y",c),T=A.legend.selectAll("line."+a.legendItemTile).data(t),(v?T.transition():T).style("stroke",A.levelColor?function(t){return A.levelColor(A.cache[t].values.reduce((function(t,e){return t+e.value}),0))}:A.color).attr("x1",u).attr("y1",m).attr("x2",p).attr("y2",m),C&&(v?C.transition():C).attr("height",A.getLegendHeight()-12).attr("width",M*(G+1)+10),A.legend.selectAll("."+a.legendItem).classed(a.legendItemHidden,(function(t){return!A.isTargetToShow(t)})),A.updateLegendItemWidth(M),A.updateLegendItemHeight(I),A.updateLegendStep(G),A.updateSizes(),A.updateScales(),A.updateSvgSize(),A.transformAll(b,n),A.legendHasRendered=!0},ChartInternal.prototype.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",a.regions)},ChartInternal.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var r=e.main.select("."+a.regions).selectAll("."+a.region).data(n.regions),i=r.enter().append("g");i.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",(function(t){return isValue(t.opacity)?t.opacity:.1})),i.append("text").text(e.labelRegion.bind(e)),e.mainRegion=i.merge(r).attr("class",e.classRegion.bind(e)),r.exit().transition().duration(t).style("opacity",0).remove()},ChartInternal.prototype.redrawRegion=function(t,e){var n=this,r=n.mainRegion,i=n.mainRegion.selectAll("text");return[(t?r.transition(e):r).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",(function(t){return isValue(t.opacity)?t.opacity:.1})),(t?i.transition(e):i).attr("x",n.labelOffsetX.bind(n)).attr("y",n.labelOffsetY.bind(n)).attr("transform",n.labelTransform.bind(n)).attr("style","text-anchor: left;")]},ChartInternal.prototype.regionX=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?r(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},ChartInternal.prototype.regionY=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?r(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},ChartInternal.prototype.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),a="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?a(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<i?0:e-i},ChartInternal.prototype.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),a="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?a(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<i?0:e-i},ChartInternal.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},ChartInternal.prototype.labelRegion=function(t){return"label"in t?t.label:""},ChartInternal.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},ChartInternal.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+n:this.regionX(t)+e},ChartInternal.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+n},ChartInternal.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},ChartInternal.prototype.getX=function(t,e,n,r){var i,a=this,o=a.getScale(t,e,a.isTimeSeries()),s=n?o.domain(n):o;for(i in a.isCategorized()?(r=r||function(){return 0},o=function(t,e){var n=s(t)+r(t);return e?n:Math.ceil(n)}):o=function(t,e){var n=s(t);return e?n:Math.ceil(n)},s)o[i]=s[i];return o.orgDomain=function(){return s.domain()},a.isCategorized()&&(o.domain=function(t){return arguments.length?(s.domain(t),o):[(t=this.orgDomain())[0],t[1]+1]}),o},ChartInternal.prototype.getY=function(t,e,n){let r;if("timeseries"===t||"time"===t)r=this.d3.scaleTime();else if("log"===t)r=c3LogScale(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error(`Invalid Y axis type: "${t}"`);r=this.d3.scaleLinear()}return e&&r.domain(e),n&&r.range(n),r},ChartInternal.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},ChartInternal.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},ChartInternal.prototype.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),(function(){return t.xAxis.tickOffset()})),t.y=t.getY(e.axis_y_type,n?e.axis_y_default:t.y.domain(),[t.yMin,t.yMax]),t.y2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.y2.domain(),[t.yMin,t.yMax]),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,(function(e){return e%1?0:t.subXAxis.tickOffset()})),t.subY=t.getY(e.axis_y_type,n?e.axis_y_default:t.subY.domain(),[t.subYMin,t.subYMax]),t.subY2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.subY2.domain(),[t.subYMin,t.subYMax]),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis("y",t.y,t.yOrient,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis("y2",t.y2,t.y2Orient,t.y2AxisTickValues,e.axis_y2_tick_outer),n||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},ChartInternal.prototype.selectPoint=function(t,e,n){var r=this,i=r.config,o=(i.axis_rotated?r.circleY:r.circleX).bind(r),s=(i.axis_rotated?r.circleX:r.circleY).bind(r),l=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+a.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+a.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",(function(){return r.generateClass(a.selectedCircle,n)})).attr("cx",o).attr("cy",s).attr("stroke",(function(){return r.color(e)})).attr("r",(function(t){return 1.4*r.pointSelectR(t)})).transition().duration(100).attr("r",l)},ChartInternal.prototype.unselectPoint=function(t,e,n){var r=this;r.config.data_onunselected.call(r.api,e,t.node()),r.main.select("."+a.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+a.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},ChartInternal.prototype.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},ChartInternal.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.d3.rgb(n.color(e)).brighter(.75)}))},ChartInternal.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.color(e)}))},ChartInternal.prototype.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},ChartInternal.prototype.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},ChartInternal.prototype.toggleShape=function(t,e,n){var r=this,i=r.d3,o=r.config,s=i.select(t),l=s.classed(a.SELECTED),c=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+a.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+a.shape).each((function(t,e){var n=i.select(this);n.classed(a.SELECTED)&&c(!1,n.classed(a.SELECTED,!1),t,e)})),s.classed(a.SELECTED,!l),c(!l,s,e,n))},ChartInternal.prototype.initBar=function(){this.main.select("."+a.chart).append("g").attr("class",a.chartBars)},ChartInternal.prototype.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),i=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+a.chartBars).selectAll("."+a.chartBar).data(t).attr("class",(function(t){return r(t)+o(t)})).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",i).style("cursor",(function(t){return n.data_selection_isselectable(t)?"pointer":null}))},ChartInternal.prototype.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),color=function(t){return e.color(t.id)},o=e.main.selectAll("."+a.bars).selectAll("."+a.bar).data(n),s=o.enter().append("path").attr("class",r).style("stroke",color).style("fill",color);e.mainBar=s.merge(o).style("opacity",i),o.exit().transition().duration(t).style("opacity",0)},ChartInternal.prototype.redrawBar=function(t,e,n){const r=this;return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",(t=>r.isTargetToShow(t.id)?1:0))]},ChartInternal.prototype.getBarW=function(t,e){var n=this.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},ChartInternal.prototype.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+a.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+a.bar+(isValue(t)?"-"+t:""))},ChartInternal.prototype.expandBars=function(t,e,n){n&&this.unexpandBars(),this.getBars(t,e).classed(a.EXPANDED,!0)},ChartInternal.prototype.unexpandBars=function(t){this.getBars(t).classed(a.EXPANDED,!1)},ChartInternal.prototype.generateDrawBar=function(t,e){var n=this.config,r=this.generateGetBarPoints(t,e);return function(t,e){var i=r(t,e),a=n.axis_rotated?1:0,o=n.axis_rotated?0:1;return"M "+i[0][a]+","+i[0][o]+" L"+i[1][a]+","+i[1][o]+" L"+i[2][a]+","+i[2][o]+" L"+i[3][a]+","+i[3][o]+" z"}},ChartInternal.prototype.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,i=t.__max__+1,a=n.getBarW(r,i),o=n.getShapeX(a,i,t,!!e),s=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),c=a*(n.config.bar_space/2),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),i=l(t,e)||r,p=o(t),m=s(t);return n.config.axis_rotated&&(0<t.value&&m<r||t.value<0&&r<m)&&(m=r),[[p+c,i],[p+c,m-=r-i],[p+a-c,m],[p+a-c,i]]}},ChartInternal.prototype.isWithinBar=function(t,e){return function(t,e,n=0){const r=e.x-n,i=e.x+e.width+n,a=e.y+e.height+n,o=e.y-n;return r<t[0]&&t[0]<i&&o<t[1]&&t[1]<a}(t,getBBox(e),2)},ChartInternal.prototype.getShapeIndices=function(t){var e,n,r=this,i=r.config,a={},o=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach((function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in a){a[t.id]=a[i.data_groups[e][n]];break}isUndefined(a[t.id])&&(a[t.id]=o++)})),a.__max__=o-1,a},ChartInternal.prototype.getShapeX=function(t,e,n,r){var i=r?this.subX:this.x;return function(r){var a=r.id in n?n[r.id]:0;return r.x||0===r.x?i(r.x)-t*(e/2-a):0}},ChartInternal.prototype.getShapeY=function(t){const e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(e.isTargetNormalized(n.id)?e.getRatio("index",n,!0):n.value)}},ChartInternal.prototype.getShapeOffset=function(t,e,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),a=i.map((function(t){return t.id}));return function(t,o){var s=n?r.getSubYScale(t.id):r.getYScale(t.id),l=s(0),c=l;return i.forEach((function(n){const i=r.isStepType(t)?r.convertValuesToStep(n.values):n.values,u=r.isTargetNormalized(t.id),p=i.map((t=>u?r.getRatio("index",t,!0):t.value));n.id!==t.id&&e[n.id]===e[t.id]&&a.indexOf(n.id)<a.indexOf(t.id)&&((isUndefined(i[o])||+i[o].x!=+t.x)&&(o=-1,i.forEach((function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(o=n)}))),o in i&&i[o].value*t.value>=0&&(c+=s(p[o])-l))})),c}},ChartInternal.prototype.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!i.classed(a.bar)||r.isWithinBar(r.d3.mouse(t),t)):n=!1,n},ChartInternal.prototype.getInterpolate=function(t){var e=this,n=e.d3,r={linear:n.curveLinear,"linear-closed":n.curveLinearClosed,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter};return e.isSplineType(t)?r[e.config.spline_interpolation_type]||r.cardinal:e.isStepType(t)?r[e.config.line_step_type]:r.linear},ChartInternal.prototype.initLine=function(){this.main.select("."+a.chart).append("g").attr("class",a.chartLines)},ChartInternal.prototype.updateTargetsForLine=function(t){var e,n=this,r=n.config,i=n.classChartLine.bind(n),o=n.classLines.bind(n),s=n.classAreas.bind(n),l=n.classCircles.bind(n),c=n.classFocus.bind(n);(e=n.main.select("."+a.chartLines).selectAll("."+a.chartLine).data(t).attr("class",(function(t){return i(t)+c(t)})).enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),e.append("g").attr("class",s),e.append("g").attr("class",(function(t){return n.generateClass(a.selectedCircles,t.id)})),e.append("g").attr("class",l).style("cursor",(function(t){return r.data_selection_isselectable(t)?"pointer":null})),t.forEach((function(t){n.main.selectAll("."+a.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+a.selectedCircle).each((function(e){e.value=t.values[e.index].value}))}))},ChartInternal.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+a.lines).selectAll("."+a.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=r.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",(function(t){return e.isStepType(t)?"crispEdges":""})).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},ChartInternal.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},ChartInternal.prototype.generateDrawLine=function(t,e){var n=this,r=n.config,i=n.d3.line(),a=n.generateGetLinePoints(t,e),o=e?n.getSubYScale:n.getYScale,xValue=function(t){return(e?n.subxx:n.xx).call(n,t)},yValue=function(t,e){return r.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(yValue).y(xValue):i.x(xValue).y(yValue),r.line_connectNull||(i=i.defined((function(t){return null!=t.value}))),function(t){var a,s=r.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.subX:n.x,c=o.call(n,t.id),u=0,p=0;return n.isLineType(t)?r.data_regions[t.id]?a=n.lineWithRegions(s,l,c,r.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),a=i.curve(n.getInterpolate(t))(s)):(s[0]&&(u=l(s[0].x),p=c(s[0].value)),a=r.axis_rotated?"M "+p+" "+u:"M "+u+" "+p),a||"M 0 0"}},ChartInternal.prototype.generateGetLinePoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,a=n.getShapeX(0,i,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),c=s(t,e)||i,u=a(t),p=o(t);return r.axis_rotated&&(0<t.value&&p<i||t.value<0&&i<p)&&(p=i),[[u,p-(i-c)],[u,p-(i-c)],[u,p-(i-c)],[u,p-(i-c)]]}},ChartInternal.prototype.lineWithRegions=function(t,e,n,r){var i,a,o,s,l,c,u,p,m,_,v,b=this,S=b.config,w="M",T=b.isCategorized()?.5:0,C=[];function isWithinRegions(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}if(isDefined(r))for(i=0;i<r.length;i++)C[i]={},isUndefined(r[i].start)?C[i].start=t[0].x:C[i].start=b.isTimeSeries()?b.parseDate(r[i].start):r[i].start,isUndefined(r[i].end)?C[i].end=t[t.length-1].x:C[i].end=b.isTimeSeries()?b.parseDate(r[i].end):r[i].end;function generateM(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(_=S.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},v=S.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},o=b.isTimeSeries()?function(t,r,i,a){var o=t.x.getTime(),s=r.x-t.x,c=new Date(o+s*i),u=new Date(o+s*(i+a));return generateM(S.axis_rotated?[[n(l(i)),e(c)],[n(l(i+a)),e(u)]]:[[e(c),n(l(i))],[e(u),n(l(i+a))]])}:function(t,r,i,a){return generateM(S.axis_rotated?[[n(l(i),!0),e(s(i))],[n(l(i+a),!0),e(s(i+a))]]:[[e(s(i),!0),n(l(i))],[e(s(i+a),!0),n(l(i+a))]])},i=0;i<t.length;i++){if(isUndefined(C)||!isWithinRegions(t[i].x,C))w+=" "+_(t[i])+" "+v(t[i]);else for(s=b.getScale(t[i-1].x+T,t[i].x+T,b.isTimeSeries()),l=b.getScale(t[i-1].value,t[i].value),c=e(t[i].x)-e(t[i-1].x),u=n(t[i].value)-n(t[i-1].value),m=2*(p=2/Math.sqrt(Math.pow(c,2)+Math.pow(u,2))),a=p;a<=1;a+=m)w+=o(t[i-1],t[i],a,p);t[i].x}return w},ChartInternal.prototype.updateArea=function(t){var e=this,n=e.d3,r=e.main.selectAll("."+a.areas).selectAll("."+a.area).data(e.lineData.bind(e)),i=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));e.mainArea=i.merge(r).style("opacity",e.orgAreaOpacity),r.exit().transition().duration(t).style("opacity",0)},ChartInternal.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},ChartInternal.prototype.generateDrawArea=function(t,e){var n=this,r=n.config,i=n.d3.area(),a=n.generateGetAreaPoints(t,e),o=e?n.getSubYScale:n.getYScale,xValue=function(t){return(e?n.subxx:n.xx).call(n,t)},value0=function(t,e){return r.data_groups.length>0?a(t,e)[0][1]:o.call(n,t.id)(n.getAreaBaseValue(t.id))},value1=function(t,e){return r.data_groups.length>0?a(t,e)[1][1]:o.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(value0).x1(value1).y(xValue):i.x(xValue).y0(r.area_above?0:value0).y1(value1),r.line_connectNull||(i=i.defined((function(t){return null!==t.value}))),function(t){var e,a=r.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(a=n.convertValuesToStep(a)),e=i.curve(n.getInterpolate(t))(a)):(a[0]&&(o=n.x(a[0].x),s=n.getYScale(t.id)(a[0].value)),e=r.axis_rotated?"M "+s+" "+o:"M "+o+" "+s),e||"M 0 0"}},ChartInternal.prototype.getAreaBaseValue=function(){return 0},ChartInternal.prototype.generateGetAreaPoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,a=n.getShapeX(0,i,t,!!e),o=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),c=s(t,e)||i,u=a(t),p=o(t);return r.axis_rotated&&(0<t.value&&p<i||t.value<0&&i<p)&&(p=i),[[u,c],[u,p-(i-c)],[u,p-(i-c)],[u,c]]}},ChartInternal.prototype.updateCircle=function(t,e){var n=this,r=n.main.selectAll("."+a.circles).selectAll("."+a.circle).data(n.lineOrScatterOrStanfordData.bind(n)),i=r.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=i.merge(r).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),r.exit().style("opacity",0)},ChartInternal.prototype.redrawCircle=function(t,e,n,r){var i=this,o=i.main.selectAll("."+a.selectedCircle);return[(n?i.mainCircle.transition(r):i.mainCircle).style("opacity",this.opacityForCircle.bind(i)).style("color",i.isStanfordGraphType()?i.getStanfordPointColor.bind(i):i.color).attr("cx",t).attr("cy",e),(n?o.transition(r):o).attr("cx",t).attr("cy",e)]},ChartInternal.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},ChartInternal.prototype.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},ChartInternal.prototype.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+a.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+a.circle+(isValue(t)?"-"+t:""))},ChartInternal.prototype.expandCircles=function(t,e,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(t,e).classed(a.EXPANDED,!0).attr("r",i)},ChartInternal.prototype.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter((function(){return e.d3.select(this).classed(a.EXPANDED)})).classed(a.EXPANDED,!1).attr("r",n)},ChartInternal.prototype.pointR=function(t){var e=this.config;return this.isStepType(t)?0:isFunction(e.point_r)?e.point_r(t):e.point_r},ChartInternal.prototype.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?isFunction(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},ChartInternal.prototype.pointSelectR=function(t){var e=this.config;return isFunction(e.point_select_r)?e.point_select_r(t):e.point_select_r?e.point_select_r:4*this.pointR(t)},ChartInternal.prototype.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),a=+i.attr("cx"),o=+i.attr("cy");return Math.sqrt(Math.pow(a-r[0],2)+Math.pow(o-r[1],2))<e},ChartInternal.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},ChartInternal.prototype.getCurrentWidth=function(){var t=this.config;return t.size_width?t.size_width:this.getParentWidth()},ChartInternal.prototype.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},ChartInternal.prototype.getCurrentPaddingTop=function(){var t=this,e=t.config,n=isValue(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},ChartInternal.prototype.getCurrentPaddingBottom=function(){var t=this.config;return isValue(t.padding_bottom)?t.padding_bottom:0},ChartInternal.prototype.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return isValue(n.padding_left)?n.padding_left:n.axis_rotated?!n.axis_x_show||n.axis_x_inner?1:Math.max(ceil10(e.getAxisWidthByAxisId("x",t)),40):!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:ceil10(e.getAxisWidthByAxisId("y",t))},ChartInternal.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,n=0,r=t.isLegendRight?t.getLegendWidth()+20:0;return n=isValue(e.padding_right)?e.padding_right+1:e.axis_rotated?10+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):ceil10(t.getAxisWidthByAxisId("y2"))+r,t.colorScale&&t.colorScale.node()&&(n+=t.getColorScalePadding()),n},ChartInternal.prototype.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},ChartInternal.prototype.getParentWidth=function(){return this.getParentRectValue("width")},ChartInternal.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},ChartInternal.prototype.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?a.axisX:a.axisY,o=e.main.select("."+i).node(),s=o&&r?o.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),u=s.right-l.left-(c?0:e.getCurrentPaddingLeft(t));return u>0?u:0},ChartInternal.prototype.getAxisWidthByAxisId=function(t,e){var n=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},ChartInternal.prototype.getHorizontalAxisHeight=function(t){var e=this,n=e.config,r=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_x_tick_rotate))/180)),"y"===t&&n.axis_rotated&&n.axis_y_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(n.axis_y_tick_rotate))/180)),r+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},ChartInternal.prototype.initBrush=function(t){var e=this,n=e.d3;return e.brush=(e.config.axis_rotated?n.brushY():n.brushX()).on("brush",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.redrawForBrush()})).on("end",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.brush.empty()&&t&&"end"!==t.type&&e.brush.clear()})),e.brush.updateExtent=function(){var t,n=this.scale.range();return t=e.config.axis_rotated?[[0,n[0]],[e.width2,n[1]]]:[[n[0],0],[n[1],e.height2]],this.extent(t),this},e.brush.updateScale=function(t){return this.scale=t,this},e.brush.update=function(t){this.updateScale(t||e.subX).updateExtent(),e.context.select("."+a.brush).call(this)},e.brush.clear=function(){e.context.select("."+a.brush).call(e.brush.move,null)},e.brush.selection=function(){return n.brushSelection(e.context.select("."+a.brush).node())},e.brush.selectionAsValue=function(t,n){var r,i;return t?(e.context&&(r=[this.scale(t[0]),this.scale(t[1])],i=e.context.select("."+a.brush),n&&(i=i.transition()),e.brush.move(i,r)),[]):(r=e.brush.selection()||[0,0],[this.scale.invert(r[0]),this.scale.invert(r[1])])},e.brush.empty=function(){var t=e.brush.selection();return!t||t[0]===t[1]},e.brush.updateScale(t)},ChartInternal.prototype.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility","visible"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",a.chart),n.select("."+a.chart).append("g").attr("class",a.chartBars),n.select("."+a.chart).append("g").attr("class",a.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",a.brush),t.axes.subx=n.append("g").attr("class",a.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},ChartInternal.prototype.initSubchartBrush=function(){var t=this;t.initBrush(t.subX).updateExtent(),t.context.select("."+a.brush).call(t.brush)},ChartInternal.prototype.updateTargetsForSubchart=function(t){var e,n,r,i,o=this,s=o.context,l=o.config,c=o.classChartBar.bind(o),u=o.classBars.bind(o),p=o.classChartLine.bind(o),m=o.classLines.bind(o),_=o.classAreas.bind(o);(r=(i=s.select("."+a.chartBars).selectAll("."+a.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(i).attr("class",c),r.append("g").attr("class",u),(e=(n=s.select("."+a.chartLines).selectAll("."+a.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",p),e.append("g").attr("class",m),e.append("g").attr("class",_),s.selectAll("."+a.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?o.width2:o.height2)},ChartInternal.prototype.updateBarForSubchart=function(t){var e=this,n=e.context.selectAll("."+a.bars).selectAll("."+a.bar).data(e.barData.bind(e)),r=n.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextBar=r.merge(n).style("opacity",e.initialOpacity.bind(e))},ChartInternal.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},ChartInternal.prototype.updateLineForSubchart=function(t){var e=this,n=e.context.selectAll("."+a.lines).selectAll("."+a.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextLine=r.merge(n).style("opacity",e.initialOpacity.bind(e))},ChartInternal.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},ChartInternal.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,r=e.context.selectAll("."+a.areas).selectAll("."+a.area).data(e.lineData.bind(e)),i=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));r.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=i.merge(r).style("opacity",0)},ChartInternal.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},ChartInternal.prototype.redrawSubchart=function(t,e,n,r,i,a,o){var s,l,c,u=this,p=u.d3;p.event&&"zoom"===p.event.type&&u.brush.selectionAsValue(u.x.orgDomain()),t&&(u.brush.empty()||u.brush.selectionAsValue(u.x.orgDomain()),s=u.generateDrawArea(i,!0),l=u.generateDrawBar(a,!0),c=u.generateDrawLine(o,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n))},ChartInternal.prototype.redrawForBrush=function(){var t,e=this,n=e.x,r=e.d3;e.redraw({withTransition:!1,withY:e.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),t=r.event.selection||e.brush.scale.range(),e.main.select("."+a.eventRect).call(e.zoom.transform,r.zoomIdentity.scale(e.width/(t[1]-t[0])).translate(-t[0],0)),e.config.subchart_onbrush.call(e.api,n.orgDomain())},ChartInternal.prototype.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+a.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},ChartInternal.prototype.getDefaultSelection=function(){var t=this,e=t.config,n=isFunction(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},ChartInternal.prototype.removeSubchart=function(){const t=this;t.brush=null,t.context.remove(),t.context=null},ChartInternal.prototype.initText=function(){var t=this;t.main.select("."+a.chart).append("g").attr("class",a.chartTexts),t.mainText=t.d3.selectAll([])},ChartInternal.prototype.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),i=e.classFocus.bind(e),o=e.main.select("."+a.chartTexts).selectAll("."+a.chartText).data(t),s=o.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none");s.append("g").attr("class",r),s.merge(o).attr("class",(function(t){return n(t)+i(t)}))},ChartInternal.prototype.updateText=function(t,e,n){var r=this,i=r.config,o=r.barOrLineData.bind(r),s=r.classText.bind(r),l=r.main.selectAll("."+a.texts).selectAll("."+a.text).data(o),c=l.enter().append("text").attr("class",s).attr("text-anchor",(function(t){return i.axis_rotated?t.value<0?"end":"start":"middle"})).style("stroke","none").attr("x",t).attr("y",e).style("fill",(function(t){return r.color(t)})).style("fill-opacity",0);r.mainText=c.merge(l).text((function(t,e,n){return r.dataLabelFormat(t.id)(t.value,t.id,e,n)})),l.exit().transition().duration(n).style("fill-opacity",0).remove()},ChartInternal.prototype.redrawText=function(t,e,n,r,i){return[(r?this.mainText.transition(i):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},ChartInternal.prototype.getTextRect=function(t,e,n){var r,i=this.d3.select("body").append("div").classed("c3",!0),a=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),o=this.d3.select(n).style("font");return a.selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).style("font",o).text(t).each((function(){r=getBBox(this)})),i.remove(),r},ChartInternal.prototype.generateXYForText=function(t,e,n,r){var i=this,a=i.generateGetAreaPoints(t,!1),o=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?a:i.isBarType(t)?o:s;return l.call(i,n(t,e),t,this)}},ChartInternal.prototype.getXForText=function(t,e,n){var r,i,a=this,o=getBBox(n);return a.config.axis_rotated?(i=a.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=a.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>a.width?r=a.width-o.width:r<0&&(r=4)),r},ChartInternal.prototype.getYForText=function(t,e,n){var r,i=this,a=getBBox(n);return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*a.height)/2:(r=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue?(r+=a.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<a.height?r=a.height:r>this.height&&(r=this.height-4)),r},ChartInternal.prototype.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},ChartInternal.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},ChartInternal.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},ChartInternal.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},ChartInternal.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},ChartInternal.prototype.drawColorScale=function(){var t,e,n,r,i,o,s,l=this,c=l.d3,u=l.config,p=l.data.targets[0];if(t=isNaN(u.stanford_scaleWidth)?20:u.stanford_scaleWidth,5,t<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");s=l.height-u.stanford_padding.bottom-u.stanford_padding.top,n=c.range(u.stanford_padding.bottom,s,5),o=c.scaleSequential(p.colors).domain([n[n.length-1],n[0]]),l.colorScale&&l.colorScale.remove(),l.colorScale=l.svg.append("g").attr("width",50).attr("height",s).attr("class",a.colorScale),l.colorScale.append("g").attr("transform",`translate(0, ${u.stanford_padding.top})`).selectAll("bars").data(n).enter().append("rect").attr("y",((t,e)=>5*e)).attr("x",0).attr("width",t).attr("height",5).attr("fill",(function(t){return o(t)})),i=c.scaleLog().domain([p.minEpochs,p.maxEpochs]).range([n[0]+u.stanford_padding.top+n[n.length-1]+5-1,n[0]+u.stanford_padding.top]),r=c.axisRight(i),"pow10"===u.stanford_scaleFormat?r.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):isFunction(u.stanford_scaleFormat)?r.tickFormat(u.stanford_scaleFormat):r.tickFormat(c.format("d")),isFunction(u.stanford_scaleValues)&&r.tickValues(u.stanford_scaleValues(p.minEpochs,p.maxEpochs)),e=l.colorScale.append("g").attr("class","legend axis").attr("transform",`translate(${t},0)`).call(r),"pow10"===u.stanford_scaleFormat&&e.selectAll(".tick text").text(null).filter(powerOfTen).text(10).append("tspan").attr("dy","-.7em").text((function(t){return Math.round(Math.log(t)/Math.LN10)})),l.colorScale.attr("transform",`translate(${l.currentWidth-l.xForColorScale()}, 0)`)},ChartInternal.prototype.xForColorScale=function(){return this.config.stanford_padding.right+getBBox(this.colorScale.node()).width},ChartInternal.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+20},ChartInternal.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},ChartInternal.prototype.initStanfordData=function(){var t,e,n,r=this,i=r.d3,a=r.config,o=r.data.targets[0];if(o.values.sort(compareEpochs),t=o.values.map((t=>t.epochs)),(n=isNaN(a.stanford_scaleMin)?i.min(t):a.stanford_scaleMin)>(e=isNaN(a.stanford_scaleMax)?i.max(t):a.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");o.colors=isFunction(a.stanford_colors)?a.stanford_colors:i.interpolateHslLong(i.hsl(250,1,.5),i.hsl(0,1,.5)),o.colorscale=i.scaleSequentialLog(o.colors).domain([n,e]),o.minEpochs=n,o.maxEpochs=e},ChartInternal.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},ChartInternal.prototype.getCentroid=function(t){var e,n,r,i,a,o=getRegionArea(t),s=0,l=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)i=t[e],a=t[n],r=i.x*a.y-a.x*i.y,s+=(i.x+a.x)*r,l+=(i.y+a.y)*r;return{x:s/(r=6*o),y:l/r}},ChartInternal.prototype.getStanfordTooltipTitle=function(t){var e=this.axis.getLabelText("x"),n=this.axis.getLabelText("y");return`\n      <tr><th>${e?sanitise(e):"x"}</th><th class='value'>${t.x}</th></tr>\n      <tr><th>${n?sanitise(n):"y"}</th><th class='value'>${t.value}</th></tr>\n    `},ChartInternal.prototype.countEpochsInRegion=function(t){var e,n,r=this.data.targets[0];return e=r.values.reduce(((t,e)=>t+Number(e.epochs)),0),{value:n=r.values.reduce(((e,n)=>pointInRegion(n,t)?e+Number(n.epochs):e),0),percentage:0!==n?(n/e*100).toFixed(1):0}};var getRegionArea=function(t){var e,n,r,i,a=0;for(e=0,n=t.length-1;e<t.length;n=e,e+=1)r=t[e],i=t[n],a+=r.x*i.y,a-=r.y*i.x;return a/=2},pointInRegion=function(t,e){let n,r,i,a,o,s=t.x,l=t.value,c=!1;for(let t=0,u=e.length-1;t<e.length;u=t++)n=e[t].x,r=e[t].y,a=e[u].x,i=e[u].y,o=r>l!=i>l&&s<(a-n)*(l-r)/(i-r)+n,o&&(c=!c);return c},compareEpochs=function(t,e){return t.epochs<e.epochs?-1:t.epochs>e.epochs?1:0};ChartInternal.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select("."+a.chart).append("g").attr("class",a.stanfordElements),t.stanfordElements.append("g").attr("class",a.stanfordLines),t.stanfordElements.append("g").attr("class",a.stanfordTexts),t.stanfordElements.append("g").attr("class",a.stanfordRegions)},ChartInternal.prototype.updateStanfordElements=function(t){var e,n,r,i,o,s,l=this,c=l.main,u=l.config,p=l.xvCustom.bind(l),m=l.yvCustom.bind(l),_=l.countEpochsInRegion.bind(l);(n=(e=c.select("."+a.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+a.stanfordLine).data(u.stanford_lines)).enter().append("g").attr("class",(function(t){return a.stanfordLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",(t=>u.axis_rotated?m(t,"value_y1"):p(t,"value_x1"))).attr("x2",(t=>u.axis_rotated?m(t,"value_y2"):p(t,"value_x2"))).attr("y1",(t=>u.axis_rotated?p(t,"value_x1"):m(t,"value_y1"))).attr("y2",(t=>u.axis_rotated?p(t,"value_x2"):m(t,"value_y2"))).style("opacity",0),l.stanfordLines=n.merge(e),l.stanfordLines.select("line").transition().duration(t).attr("x1",(t=>u.axis_rotated?m(t,"value_y1"):p(t,"value_x1"))).attr("x2",(t=>u.axis_rotated?m(t,"value_y2"):p(t,"value_x2"))).attr("y1",(t=>u.axis_rotated?p(t,"value_x1"):m(t,"value_y1"))).attr("y2",(t=>u.axis_rotated?p(t,"value_x2"):m(t,"value_y2"))).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(s=(o=c.select("."+a.stanfordTexts).selectAll("."+a.stanfordText).data(u.stanford_texts)).enter().append("g").attr("class",(function(t){return a.stanfordText+(t.class?" "+t.class:"")}))).append("text").attr("x",(t=>u.axis_rotated?m(t,"y"):p(t,"x"))).attr("y",(t=>u.axis_rotated?p(t,"x"):m(t,"y"))).style("opacity",0),l.stanfordTexts=s.merge(o),l.stanfordTexts.select("text").transition().duration(t).attr("x",(t=>u.axis_rotated?m(t,"y"):p(t,"x"))).attr("y",(t=>u.axis_rotated?p(t,"x"):m(t,"y"))).text((function(t){return t.content})).style("opacity",1),o.exit().transition().duration(t).style("opacity",0).remove(),(i=(r=c.select("."+a.stanfordRegions).selectAll("."+a.stanfordRegion).data(u.stanford_regions)).enter().append("g").attr("class",(function(t){return a.stanfordRegion+(t.class?" "+t.class:"")}))).append("polygon").attr("points",(t=>t.points.map((t=>[u.axis_rotated?m(t,"y"):p(t,"x"),u.axis_rotated?p(t,"x"):m(t,"y")].join(","))).join(" "))).style("opacity",0),i.append("text").attr("x",(t=>l.getCentroid(t.points).x)).attr("y",(t=>l.getCentroid(t.points).y)).style("opacity",0),l.stanfordRegions=i.merge(r),l.stanfordRegions.select("polygon").transition().duration(t).attr("points",(t=>t.points.map((t=>[u.axis_rotated?m(t,"y"):p(t,"x"),u.axis_rotated?p(t,"x"):m(t,"y")].join(","))).join(" "))).style("opacity",(t=>t.opacity?t.opacity:.2)),l.stanfordRegions.select("text").transition().duration(t).attr("x",(t=>u.axis_rotated?m(l.getCentroid(t.points),"y"):p(l.getCentroid(t.points),"x"))).attr("y",(t=>u.axis_rotated?p(l.getCentroid(t.points),"x"):m(l.getCentroid(t.points),"y"))).text((function(t){var e,n,r;return t.text?(l.isStanfordGraphType()&&(e=(r=_(t.points)).value,n=r.percentage),t.text(e,n)):""})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},ChartInternal.prototype.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",a.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&isString(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!=0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map((function(t){return e.addName(t.values[n.tooltip_init_x])})),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},ChartInternal.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map((function(t){return t.id}));return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(t,e){return n.indexOf(t.id)-n.indexOf(e.id)}}var r=e.tooltip_order;void 0===r&&(r=e.data_order);var valueOf=function(t){return t?t.value:null};if(isString(r)&&"asc"===r.toLowerCase())return function(t,e){return valueOf(t)-valueOf(e)};if(isString(r)&&"desc"===r.toLowerCase())return function(t,e){return valueOf(e)-valueOf(t)};if(isFunction(r)){var i=r;return void 0===e.tooltip_order&&(i=function(t,e){return r(t?{id:t.id,values:[t]}:null,e?{id:e.id,values:[e]}:null)}),i}return isArray(r)?function(t,e){return r.indexOf(t.id)-r.indexOf(e.id)}:void 0},ChartInternal.prototype.getTooltipContent=function(t,e,n,r){var i,a,o,s,l,c,u=this,p=u.config,m=p.tooltip_format_title||e,_=p.tooltip_format_name||function(t){return t},v=p.tooltip_format_value;v||(v=u.isTargetNormalized(t.id)?(t,e)=>`${(100*e).toFixed(2)}%`:n);var b=this.getTooltipSortFunction();for(b&&t.sort(b),a=0;a<t.length;a++)if(t[a]&&(t[a].value||0===t[a].value)){if(u.isStanfordGraphType())i||(o=u.getStanfordTooltipTitle(t[a]),i="<table class='"+u.CLASS.tooltip+"'>"+o),c=u.getStanfordPointColor(t[a]),l=sanitise(p.data_epochs),s=t[a].epochs;else if(i||(o=sanitise(m?m(t[a].x,t[a].index):t[a].x),i="<table class='"+u.CLASS.tooltip+"'>"+(o||0===o?"<tr><th colspan='2'>"+o+"</th></tr>":"")),void 0!==(s=sanitise(v(t[a].value,t[a].ratio,t[a].id,t[a].index,t)))){if(null===t[a].name)continue;l=sanitise(_(t[a].name,t[a].ratio,t[a].id,t[a].index)),c=u.levelColor?u.levelColor(t[a].value):r(t[a].id)}void 0!==s&&(i+="<tr class='"+u.CLASS.tooltipName+"-"+u.getTargetSelectorSuffix(t[a].id)+"'>",i+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>")}return i+"</table>"},ChartInternal.prototype.tooltipPosition=function(t,e,n,r){var i,a,o,s,l,c=this,u=c.config,p=c.d3,m=c.hasArcType(),_=p.mouse(r);return m?(a=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+_[0],s=(c.hasType("gauge")?c.height:c.height/2)+_[1]+20):(i=c.getSvgLeft(!0),u.axis_rotated?(o=(a=i+_[0]+100)+e,l=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(t[0].x)+20):(o=(a=i+c.getCurrentPaddingLeft(!0)+c.x(t[0].x)+20)+e,l=i+c.currentWidth-c.getCurrentPaddingRight(),s=_[1]+15),o>l&&(a-=o-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:a}},ChartInternal.prototype.showTooltip=function(t,e){var n,r,i,a=this,o=a.config,s=a.hasArcType(),l=t.filter((function(t){return t&&isValue(t.value)})),c=o.tooltip_position||ChartInternal.prototype.tooltipPosition;0!==l.length&&o.tooltip_show?(a.tooltip.html(o.tooltip_contents.call(a,t,a.axis.getXAxisTickFormat(),a.getYFormat(s),a.color)).style("display","block"),n=a.tooltip.property("offsetWidth"),r=a.tooltip.property("offsetHeight"),i=c.call(this,l,n,r,e),a.tooltip.style("top",i.top+"px").style("left",i.left+"px")):a.hideTooltip()},ChartInternal.prototype.hideTooltip=function(){this.tooltip.style("display","none")},ChartInternal.prototype.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach((function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e})),t||(r.data_type=e)},ChartInternal.prototype.hasType=function(t,e){var n=this,r=n.config.data_types,i=!1;return(e=e||n.data.targets)&&e.length?e.forEach((function(e){var n=r[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(i=!0)})):Object.keys(r).length?Object.keys(r).forEach((function(e){r[e]===t&&(i=!0)})):i=n.config.data_type===t,i},ChartInternal.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},ChartInternal.prototype.isLineType=function(t){var e=this.config,n=isString(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},ChartInternal.prototype.isStepType=function(t){var e=isString(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},ChartInternal.prototype.isSplineType=function(t){var e=isString(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},ChartInternal.prototype.isAreaType=function(t){var e=isString(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},ChartInternal.prototype.isBarType=function(t){var e=isString(t)?t:t.id;return"bar"===this.config.data_types[e]},ChartInternal.prototype.isScatterType=function(t){var e=isString(t)?t:t.id;return"scatter"===this.config.data_types[e]},ChartInternal.prototype.isStanfordType=function(t){var e=isString(t)?t:t.id;return"stanford"===this.config.data_types[e]},ChartInternal.prototype.isPieType=function(t){var e=isString(t)?t:t.id;return"pie"===this.config.data_types[e]},ChartInternal.prototype.isGaugeType=function(t){var e=isString(t)?t:t.id;return"gauge"===this.config.data_types[e]},ChartInternal.prototype.isDonutType=function(t){var e=isString(t)?t:t.id;return"donut"===this.config.data_types[e]},ChartInternal.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},ChartInternal.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},ChartInternal.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},ChartInternal.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},ChartInternal.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},ChartInternal.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},ChartInternal.prototype.isSafari=function(){var t=r.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},ChartInternal.prototype.isChrome=function(){return r.navigator.userAgent.indexOf("Chrome")>=0},ChartInternal.prototype.initZoom=function(){var t,e=this,n=e.d3,r=e.config;return e.zoom=n.zoom().on("start",(function(){if("scroll"===r.zoom_type){var i=n.event.sourceEvent;i&&"brush"===i.type||(t=i,r.zoom_onzoomstart.call(e.api,i))}})).on("zoom",(function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e.redrawForZoom(),r.zoom_onzoom.call(e.api,e.x.orgDomain()))}})).on("end",(function(){if("scroll"===r.zoom_type){var i=n.event.sourceEvent;i&&"brush"===i.type||i&&t.clientX===i.clientX&&t.clientY===i.clientY||r.zoom_onzoomend.call(e.api,e.x.orgDomain())}})),e.zoom.updateDomain=function(){return n.event&&n.event.transform&&e.x.domain(n.event.transform.rescaleX(e.subX).domain()),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},ChartInternal.prototype.zoomTransform=function(t){var e=this,n=[e.x(t[0]),e.x(t[1])];return e.d3.zoomIdentity.scale(e.width/(n[1]-n[0])).translate(-n[0],0)},ChartInternal.prototype.initDragZoom=function(){const t=this,e=t.d3,n=t.config,r=t.context=t.svg,i=t.margin.left+20.5,o=t.margin.top+.5;if("drag"!==n.zoom_type||!n.zoom_enabled)return;const getZoomedDomain=e=>e&&e.map((e=>t.x.invert(e))),s=t.dragZoomBrush=e.brushX().on("start",(()=>{t.api.unzoom(),t.svg.select("."+a.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(t.api,e.event.sourceEvent)})).on("brush",(()=>{n.zoom_onzoom.call(t.api,getZoomedDomain(e.event.selection))})).on("end",(()=>{if(null==e.event.selection)return;const r=getZoomedDomain(e.event.selection);n.zoom_disableDefaultBehavior||t.api.zoom(r),t.svg.select("."+a.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(t.api,r)}));r.append("g").classed(a.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+i+","+o+")").call(s)},ChartInternal.prototype.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},ChartInternal.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(r.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))};const s=o},858:function(t,e,n){var r=n(4771),i=n(6885),a=n(9755);(function(){var t,e,n,o,s={}.hasOwnProperty;(o=function(){function SelectParser(){this.options_index=0,this.parsed=[]}return SelectParser.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},SelectParser.prototype.add_group=function(t){var e,n,r,i,a,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:t.label,title:t.title?t.title:void 0,children:0,disabled:t.disabled,classes:t.className}),o=[],n=0,r=(a=t.childNodes).length;n<r;n++)i=a[n],o.push(this.add_option(i,e,t.disabled));return o},SelectParser.prototype.add_option=function(t,e,n){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,title:t.title?t.title:void 0,selected:t.selected,disabled:!0===n?n:t.disabled,group_array_index:e,group_label:null!=e?this.parsed[e].label:null,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},SelectParser}()).select_to_array=function(t){var e,n,r,i,a;for(i=new o,n=0,r=(a=t.childNodes).length;n<r;n++)e=a[n],i.add_node(e);return i.parsed},e=function(){function AbstractChosen(t,e){var n,r;this.form_field=t,this.options=null!=e?e:{},this.label_click_handler=(n=this.label_click_handler,r=this,function(){return n.apply(r,arguments)}),AbstractChosen.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return AbstractChosen.prototype.set_default_values=function(){var t;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=function(t){return function(e){return t.activate_field(e)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},AbstractChosen.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||AbstractChosen.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||AbstractChosen.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||AbstractChosen.default_no_result_text},AbstractChosen.prototype.choice_label=function(t){return this.include_group_label_in_selected&&null!=t.group_label?"<b class='group-name'>"+this.escape_html(t.group_label)+"</b>"+t.html:t.html},AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=!0},AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=!1},AbstractChosen.prototype.input_focus=function(t){if(this.is_multiple){if(!this.active_field)return setTimeout((e=this,function(){return e.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var e},AbstractChosen.prototype.input_blur=function(t){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((e=this,function(){return e.blur_test()}),100);var e},AbstractChosen.prototype.label_click_handler=function(t){return this.is_multiple?this.container_mousedown(t):this.activate_field()},AbstractChosen.prototype.results_option_build=function(t){var e,n,r,i,a,o,s;for(e="",s=0,i=0,a=(o=this.results_data).length;i<a&&(r="",""!==(r=(n=o[i]).group?this.result_add_group(n):this.result_add_option(n))&&(s++,e+=r),(null!=t?t.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(n))),!(s>=this.max_shown_results));i++);return e},AbstractChosen.prototype.result_add_option=function(t){var e,n;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),(n=r.createElement("li")).className=e.join(" "),t.style&&(n.style.cssText=t.style),n.setAttribute("data-option-array-index",t.array_index),n.innerHTML=t.highlighted_html||t.html,t.title&&(n.title=t.title),this.outerHTML(n)):""},AbstractChosen.prototype.result_add_group=function(t){var e,n;return(t.search_match||t.group_match)&&t.active_options>0?((e=[]).push("group-result"),t.classes&&e.push(t.classes),(n=r.createElement("li")).className=e.join(" "),n.innerHTML=t.highlighted_html||this.escape_html(t.label),t.title&&(n.title=t.title),this.outerHTML(n)):""},AbstractChosen.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},AbstractChosen.prototype.reset_single_select_options=function(){var t,e,n,r,i;for(i=[],t=0,e=(n=this.results_data).length;t<e;t++)(r=n[t]).selected?i.push(r.selected=!1):i.push(void 0);return i},AbstractChosen.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},AbstractChosen.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},AbstractChosen.prototype.winnow_results=function(t){var e,n,r,i,a,o,s,l,c,u,p,m,_,v,b;for(this.no_results_clear(),u=0,e=(s=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),c=this.get_search_regex(e),r=0,i=(l=this.results_data).length;r<i;r++)(a=l[r]).search_match=!1,p=null,m=null,a.highlighted_html="",this.include_option_in_results(a)&&(a.group&&(a.group_match=!1,a.active_options=0),null!=a.group_array_index&&this.results_data[a.group_array_index]&&(0===(p=this.results_data[a.group_array_index]).active_options&&p.search_match&&(u+=1),p.active_options+=1),b=a.group?a.label:a.text,a.group&&!this.group_search||(m=this.search_string_match(b,c),a.search_match=null!=m,a.search_match&&!a.group&&(u+=1),a.search_match?(s.length&&(_=m.index,o=b.slice(0,_),n=b.slice(_,_+s.length),v=b.slice(_+s.length),a.highlighted_html=this.escape_html(o)+"<em>"+this.escape_html(n)+"</em>"+this.escape_html(v)),null!=p&&(p.group_match=!0)):null!=a.group_array_index&&this.results_data[a.group_array_index].search_match&&(a.search_match=!0)));return this.result_clear_highlight(),u<1&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),(null!=t?t.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},AbstractChosen.prototype.get_search_regex=function(t){var e,n;return n=this.search_contains?t:"(^|\\s|\\b)"+t+"[^\\s]*",this.enable_split_word_search||this.search_contains||(n="^"+n),e=this.case_sensitive_search?"":"i",new RegExp(n,e)},AbstractChosen.prototype.search_string_match=function(t,e){var n;return n=e.exec(t),!this.search_contains&&(null!=n?n[1]:void 0)&&(n.index+=1),n},AbstractChosen.prototype.choices_count=function(){var t,e,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,t=0,e=(n=this.form_field.options).length;t<e;t++)n[t].selected&&(this.selected_option_count+=1);return this.selected_option_count},AbstractChosen.prototype.choices_click=function(t){if(t.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},AbstractChosen.prototype.keydown_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),8!==n&&this.pending_backstroke&&this.clear_backstroke(),n){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&t.preventDefault();break;case 32:this.disable_search&&t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},AbstractChosen.prototype.keyup_checker=function(t){var e,n;switch(n=null!=(e=t.which)?e:t.keyCode,this.search_field_scale(),n){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:t.preventDefault(),this.results_showing&&this.result_select(t);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},AbstractChosen.prototype.clipboard_event_checker=function(t){var e;if(!this.is_disabled)return setTimeout((e=this,function(){return e.results_search()}),50)},AbstractChosen.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},AbstractChosen.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},AbstractChosen.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},AbstractChosen.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},AbstractChosen.prototype.search_results_touchend=function(t){if(this.touch_started)return this.search_results_mouseup(t)},AbstractChosen.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:((e=r.createElement("div")).appendChild(t),e.innerHTML)},AbstractChosen.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},AbstractChosen.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},AbstractChosen.prototype.get_no_results_html=function(t){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(t)+"</span>\n</li>"},AbstractChosen.browser_is_supported=function(){return"Microsoft Internet Explorer"===i.navigator.appName?r.documentMode>=8:!(/iP(od|hone)/i.test(i.navigator.userAgent)||/IEMobile/i.test(i.navigator.userAgent)||/Windows Phone/i.test(i.navigator.userAgent)||/BlackBerry/i.test(i.navigator.userAgent)||/BB10/i.test(i.navigator.userAgent)||/Android.*Mobile/i.test(i.navigator.userAgent))},AbstractChosen.default_multiple_text="Select Some Options",AbstractChosen.default_single_text="Select an Option",AbstractChosen.default_no_result_text="No results match",AbstractChosen}(),(t=a).fn.extend({chosen:function(r){return e.browser_is_supported()?this.each((function(e){var i,a;a=(i=t(this)).data("chosen"),"destroy"!==r?a instanceof n||i.data("chosen",new n(this,r)):a instanceof n&&a.destroy()})):this}}),n=function(e){function Chosen(){return Chosen.__super__.constructor.apply(this,arguments)}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function ctor(){this.constructor=t}ctor.prototype=e.prototype,t.prototype=new ctor,t.__super__=e.prototype}(Chosen,e),Chosen.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},Chosen.prototype.set_up_html=function(){var e,n;return(e=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),n={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",n),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},Chosen.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},Chosen.prototype.register_observers=function(){var t;return this.container.on("touchstart.chosen",(t=this,function(e){t.container_mousedown(e)})),this.container.on("touchend.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mousedown.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.container.on("mouseup.chosen",function(t){return function(e){t.container_mouseup(e)}}(this)),this.container.on("mouseenter.chosen",function(t){return function(e){t.mouse_enter(e)}}(this)),this.container.on("mouseleave.chosen",function(t){return function(e){t.mouse_leave(e)}}(this)),this.search_results.on("mouseup.chosen",function(t){return function(e){t.search_results_mouseup(e)}}(this)),this.search_results.on("mouseover.chosen",function(t){return function(e){t.search_results_mouseover(e)}}(this)),this.search_results.on("mouseout.chosen",function(t){return function(e){t.search_results_mouseout(e)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(t){return function(e){t.search_results_mousewheel(e)}}(this)),this.search_results.on("touchstart.chosen",function(t){return function(e){t.search_results_touchstart(e)}}(this)),this.search_results.on("touchmove.chosen",function(t){return function(e){t.search_results_touchmove(e)}}(this)),this.search_results.on("touchend.chosen",function(t){return function(e){t.search_results_touchend(e)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(t){return function(e){t.results_update_field(e)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(t){return function(e){t.activate_field(e)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(t){return function(e){t.container_mousedown(e)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(t){return function(e){t.close_field(e)}}(this)),this.search_field.on("blur.chosen",function(t){return function(e){t.input_blur(e)}}(this)),this.search_field.on("keyup.chosen",function(t){return function(e){t.keyup_checker(e)}}(this)),this.search_field.on("keydown.chosen",function(t){return function(e){t.keydown_checker(e)}}(this)),this.search_field.on("focus.chosen",function(t){return function(e){t.input_focus(e)}}(this)),this.search_field.on("cut.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.search_field.on("paste.chosen",function(t){return function(e){t.clipboard_event_checker(e)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(t){return function(e){t.choices_click(e)}}(this)):this.container.on("click.chosen",(function(t){t.preventDefault()}))},Chosen.prototype.destroy=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},Chosen.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},Chosen.prototype.container_mousedown=function(e){var n;if(!this.is_disabled)return!e||"mousedown"!==(n=e.type)&&"touchstart"!==n||this.results_showing||e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},Chosen.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},Chosen.prototype.search_results_mousewheel=function(t){var e;if(t.originalEvent&&(e=t.originalEvent.deltaY||-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e*=40),this.search_results.scrollTop(e+this.search_results.scrollTop())},Chosen.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},Chosen.prototype.close_field=function(){return t(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},Chosen.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},Chosen.prototype.test_active_click=function(e){var n;return(n=t(e.target).closest(".chosen-container")).length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},Chosen.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=o.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},Chosen.prototype.result_do_highlight=function(t){var e,n,r,i,a;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=(r=parseInt(this.search_results.css("maxHeight"),10))+(a=this.search_results.scrollTop()),(e=(n=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())>=i)return this.search_results.scrollTop(e-r>0?e-r:0);if(n<a)return this.search_results.scrollTop(n)}},Chosen.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},Chosen.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},Chosen.prototype.update_results_content=function(t){return this.search_results.html(t)},Chosen.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},Chosen.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},Chosen.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},Chosen.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},Chosen.prototype.search_results_mouseup=function(e){var n;if((n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first()).length)return this.result_highlight=n,this.result_select(e),this.search_field.focus()},Chosen.prototype.search_results_mouseover=function(e){var n;if(n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(n)},Chosen.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result")||t(e.target).parents(".active-result").first())return this.result_clear_highlight()},Chosen.prototype.choice_build=function(e){var n,r,i;return n=t("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>"),e.disabled?n.addClass("search-choice-disabled"):((r=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",(i=this,function(t){return i.choice_destroy_link_click(t)})),n.append(r)),this.search_container.before(n)},Chosen.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},Chosen.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},Chosen.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},Chosen.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},Chosen.prototype.result_select=function(t){var e,n;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),e.addClass("result-selected"),(n=this.results_data[e[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(this.choice_label(n)),this.is_multiple&&(!this.hide_results_on_select||t.metaKey||t.ctrlKey)?t.metaKey||t.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,t.preventDefault(),this.search_field_scale())},Chosen.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(t)},Chosen.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},Chosen.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},Chosen.prototype.get_search_field_value=function(){return this.search_field.val()},Chosen.prototype.get_search_text=function(){return t.trim(this.get_search_field_value())},Chosen.prototype.escape_html=function(e){return t("<div/>").text(e).html()},Chosen.prototype.winnow_results_set_highlight=function(){var t,e;if(null!=(t=(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result")).length?e.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(t)},Chosen.prototype.no_results=function(t){var e;return e=this.get_no_results_html(t),this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},Chosen.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},Chosen.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},Chosen.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last()).length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},Chosen.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},Chosen.prototype.search_field_scale=function(){var e,n,r,i,a,o,s;if(this.is_multiple){for(a={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},n=0,r=(o=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;n<r;n++)a[i=o[n]]=this.search_field.css(i);return(e=t("<div />").css(a)).text(this.get_search_field_value()),t("body").append(e),s=e.width()+25,e.remove(),this.container.is(":visible")&&(s=Math.min(this.container.outerWidth()-10,s)),this.search_field.width(s)}},Chosen.prototype.trigger_form_field_change=function(t){return this.form_field_jq.trigger("input",t),this.form_field_jq.trigger("change",t)},Chosen}(e)}).call(this)},7693:(t,e,n)=>{"use strict";n.r(e),n.d(e,{FormatSpecifier:()=>FormatSpecifier,active:()=>active,arc:()=>arc,area:()=>d3_shape_src_area,areaRadial:()=>areaRadial,ascending:()=>ascending,autoType:()=>autoType,axisBottom:()=>axisBottom,axisLeft:()=>axisLeft,axisRight:()=>axisRight,axisTop:()=>axisTop,bisect:()=>s,bisectLeft:()=>o,bisectRight:()=>a,bisector:()=>bisector,blob:()=>blob,brush:()=>brush,brushSelection:()=>brushSelection,brushX:()=>brushX,brushY:()=>brushY,buffer:()=>buffer,chord:()=>chord,clientPoint:()=>point,cluster:()=>cluster,color:()=>color,contourDensity:()=>density,contours:()=>contours,create:()=>src_create,creator:()=>creator,cross:()=>cross,csv:()=>Cn,csvFormat:()=>Ve,csvFormatBody:()=>Ye,csvFormatRow:()=>$e,csvFormatRows:()=>ze,csvFormatValue:()=>He,csvParse:()=>Fe,csvParseRows:()=>Ge,cubehelix:()=>cubehelix_cubehelix,curveBasis:()=>curve_basis,curveBasisClosed:()=>curve_basisClosed,curveBasisOpen:()=>basisOpen,curveBundle:()=>dc,curveCardinal:()=>hc,curveCardinalClosed:()=>fc,curveCardinalOpen:()=>pc,curveCatmullRom:()=>gc,curveCatmullRomClosed:()=>mc,curveCatmullRomOpen:()=>_c,curveLinear:()=>curve_linear,curveLinearClosed:()=>linearClosed,curveMonotoneX:()=>monotoneX,curveMonotoneY:()=>monotoneY,curveNatural:()=>natural,curveStep:()=>step,curveStepAfter:()=>stepAfter,curveStepBefore:()=>stepBefore,customEvent:()=>customEvent,descending:()=>descending,deviation:()=>deviation,dispatch:()=>P,drag:()=>drag,dragDisable:()=>nodrag,dragEnable:()=>yesdrag,dsv:()=>dsv_dsv,dsvFormat:()=>dsv,easeBack:()=>xn,easeBackIn:()=>yn,easeBackInOut:()=>xn,easeBackOut:()=>vn,easeBounce:()=>bounceOut,easeBounceIn:()=>bounceIn,easeBounceInOut:()=>bounceInOut,easeBounceOut:()=>bounceOut,easeCircle:()=>circleInOut,easeCircleIn:()=>circleIn,easeCircleInOut:()=>circleInOut,easeCircleOut:()=>circleOut,easeCubic:()=>cubicInOut,easeCubicIn:()=>cubicIn,easeCubicInOut:()=>cubicInOut,easeCubicOut:()=>cubicOut,easeElastic:()=>wn,easeElasticIn:()=>Sn,easeElasticInOut:()=>Tn,easeElasticOut:()=>wn,easeExp:()=>expInOut,easeExpIn:()=>expIn,easeExpInOut:()=>expInOut,easeExpOut:()=>expOut,easeLinear:()=>linear_linear,easePoly:()=>nn,easePolyIn:()=>tn,easePolyInOut:()=>nn,easePolyOut:()=>en,easeQuad:()=>quadInOut,easeQuadIn:()=>quadIn,easeQuadInOut:()=>quadInOut,easeQuadOut:()=>quadOut,easeSin:()=>sinInOut,easeSinIn:()=>sinIn,easeSinInOut:()=>sinInOut,easeSinOut:()=>sinOut,entries:()=>entries,event:()=>L,extent:()=>extent,forceCenter:()=>src_center,forceCollide:()=>collide,forceLink:()=>src_link,forceManyBody:()=>manyBody,forceRadial:()=>radial,forceSimulation:()=>simulation,forceX:()=>src_x,forceY:()=>src_y,format:()=>jn,formatDefaultLocale:()=>defaultLocale,formatLocale:()=>locale,formatPrefix:()=>Fn,formatSpecifier:()=>formatSpecifier,geoAlbers:()=>albers,geoAlbersUsa:()=>albersUsa,geoArea:()=>d3_geo_src_area,geoAzimuthalEqualArea:()=>azimuthalEqualArea,geoAzimuthalEqualAreaRaw:()=>Wi,geoAzimuthalEquidistant:()=>azimuthalEquidistant,geoAzimuthalEquidistantRaw:()=>Ui,geoBounds:()=>bounds,geoCentroid:()=>centroid,geoCircle:()=>circle,geoClipAntimeridian:()=>qr,geoClipCircle:()=>clip_circle,geoClipExtent:()=>clip_extent,geoClipRectangle:()=>clipRectangle,geoConicConformal:()=>conicConformal,geoConicConformalRaw:()=>conicConformalRaw,geoConicEqualArea:()=>conicEqualArea,geoConicEqualAreaRaw:()=>conicEqualAreaRaw,geoConicEquidistant:()=>conicEquidistant,geoConicEquidistantRaw:()=>conicEquidistantRaw,geoContains:()=>src_contains,geoDistance:()=>distance,geoEqualEarth:()=>equalEarth,geoEqualEarthRaw:()=>equalEarthRaw,geoEquirectangular:()=>equirectangular,geoEquirectangularRaw:()=>equirectangularRaw,geoGnomonic:()=>gnomonic,geoGnomonicRaw:()=>gnomonicRaw,geoGraticule:()=>graticule,geoGraticule10:()=>graticule10,geoIdentity:()=>projection_identity,geoInterpolate:()=>src_interpolate,geoLength:()=>src_length,geoMercator:()=>mercator,geoMercatorRaw:()=>mercatorRaw,geoNaturalEarth1:()=>naturalEarth1,geoNaturalEarth1Raw:()=>naturalEarth1Raw,geoOrthographic:()=>orthographic,geoOrthographicRaw:()=>orthographicRaw,geoPath:()=>d3_geo_src_path,geoProjection:()=>projection,geoProjectionMutator:()=>projectionMutator,geoRotation:()=>rotation,geoStereographic:()=>stereographic,geoStereographicRaw:()=>stereographicRaw,geoStream:()=>stream,geoTransform:()=>transform,geoTransverseMercator:()=>transverseMercator,geoTransverseMercatorRaw:()=>transverseMercatorRaw,gray:()=>gray,hcl:()=>hcl,hierarchy:()=>hierarchy,histogram:()=>histogram,hsl:()=>hsl,html:()=>Pn,image:()=>src_image,interpolate:()=>value,interpolateArray:()=>src_array,interpolateBasis:()=>src_basis,interpolateBasisClosed:()=>basisClosed,interpolateBlues:()=>cl,interpolateBrBG:()=>bs,interpolateBuGn:()=>Gs,interpolateBuPu:()=>Ys,interpolateCividis:()=>cividis,interpolateCool:()=>Sl,interpolateCubehelix:()=>pa,interpolateCubehelixDefault:()=>xl,interpolateCubehelixLong:()=>ga,interpolateDate:()=>date,interpolateDiscrete:()=>discrete,interpolateGnBu:()=>$s,interpolateGreens:()=>dl,interpolateGreys:()=>fl,interpolateHcl:()=>ha,interpolateHclLong:()=>fa,interpolateHsl:()=>ua,interpolateHslLong:()=>da,interpolateHue:()=>src_hue,interpolateInferno:()=>Ml,interpolateLab:()=>lab_lab,interpolateMagma:()=>Pl,interpolateNumber:()=>src_number,interpolateNumberArray:()=>numberArray,interpolateObject:()=>object,interpolateOrRd:()=>Bs,interpolateOranges:()=>vl,interpolatePRGn:()=>ws,interpolatePiYG:()=>Cs,interpolatePlasma:()=>Il,interpolatePuBu:()=>Xs,interpolatePuBuGn:()=>Us,interpolatePuOr:()=>As,interpolatePuRd:()=>Qs,interpolatePurples:()=>gl,interpolateRainbow:()=>rainbow,interpolateRdBu:()=>Ms,interpolateRdGy:()=>Es,interpolateRdPu:()=>Js,interpolateRdYlBu:()=>Ds,interpolateRdYlGn:()=>Rs,interpolateReds:()=>_l,interpolateRgb:()=>J,interpolateRgbBasis:()=>tt,interpolateRgbBasisClosed:()=>et,interpolateRound:()=>round,interpolateSinebow:()=>sinebow,interpolateSpectral:()=>js,interpolateString:()=>string,interpolateTransformCss:()=>Ot,interpolateTransformSvg:()=>Dt,interpolateTurbo:()=>turbo,interpolateViridis:()=>Al,interpolateWarm:()=>bl,interpolateYlGn:()=>rl,interpolateYlGnBu:()=>el,interpolateYlOrBr:()=>al,interpolateYlOrRd:()=>sl,interpolateZoom:()=>src_zoom,interrupt:()=>interrupt,interval:()=>src_interval,isoFormat:()=>xc,isoParse:()=>Sc,json:()=>json,keys:()=>keys,lab:()=>lab,lch:()=>lch,line:()=>src_line,lineRadial:()=>src_lineRadial,linkHorizontal:()=>linkHorizontal,linkRadial:()=>linkRadial,linkVertical:()=>linkVertical,local:()=>local_local,map:()=>ue,matcher:()=>matcher,max:()=>max,mean:()=>mean,median:()=>median,merge:()=>merge,min:()=>min,mouse:()=>mouse,namespace:()=>namespace,namespaces:()=>E,nest:()=>nest,now:()=>now,pack:()=>pack,packEnclose:()=>enclose,packSiblings:()=>siblings,pairs:()=>pairs,partition:()=>partition,path:()=>le,permute:()=>permute,pie:()=>pie,piecewise:()=>piecewise,pointRadial:()=>pointRadial,polygonArea:()=>d3_polygon_src_area,polygonCentroid:()=>src_centroid,polygonContains:()=>d3_polygon_src_contains,polygonHull:()=>hull,polygonLength:()=>d3_polygon_src_length,precisionFixed:()=>precisionFixed,precisionPrefix:()=>precisionPrefix,precisionRound:()=>precisionRound,quadtree:()=>quadtree,quantile:()=>quantile,quantize:()=>quantize,radialArea:()=>areaRadial,radialLine:()=>src_lineRadial,randomBates:()=>xa,randomExponential:()=>ba,randomIrwinHall:()=>va,randomLogNormal:()=>ya,randomNormal:()=>_a,randomUniform:()=>ma,range:()=>src_range,rgb:()=>color_rgb,ribbon:()=>ribbon,scaleBand:()=>band,scaleDiverging:()=>diverging,scaleDivergingLog:()=>divergingLog,scaleDivergingPow:()=>divergingPow,scaleDivergingSqrt:()=>divergingSqrt,scaleDivergingSymlog:()=>divergingSymlog,scaleIdentity:()=>identity_identity,scaleImplicit:()=>Ca,scaleLinear:()=>src_linear_linear,scaleLog:()=>log_log,scaleOrdinal:()=>ordinal,scalePoint:()=>band_point,scalePow:()=>pow_pow,scaleQuantile:()=>quantile_quantile,scaleQuantize:()=>quantize_quantize,scaleSequential:()=>sequential,scaleSequentialLog:()=>sequentialLog,scaleSequentialPow:()=>sequentialPow,scaleSequentialQuantile:()=>sequentialQuantile,scaleSequentialSqrt:()=>sequentialSqrt,scaleSequentialSymlog:()=>sequentialSymlog,scaleSqrt:()=>pow_sqrt,scaleSymlog:()=>symlog,scaleThreshold:()=>threshold,scaleTime:()=>time,scaleUtc:()=>utcTime,scan:()=>scan,schemeAccent:()=>ds,schemeBlues:()=>ll,schemeBrBG:()=>xs,schemeBuGn:()=>Fs,schemeBuPu:()=>Vs,schemeCategory10:()=>us,schemeDark2:()=>hs,schemeGnBu:()=>zs,schemeGreens:()=>ul,schemeGreys:()=>hl,schemeOrRd:()=>Hs,schemeOranges:()=>yl,schemePRGn:()=>Ss,schemePaired:()=>fs,schemePastel1:()=>ps,schemePastel2:()=>gs,schemePiYG:()=>Ts,schemePuBu:()=>qs,schemePuBuGn:()=>Ws,schemePuOr:()=>ks,schemePuRd:()=>Zs,schemePurples:()=>pl,schemeRdBu:()=>Ps,schemeRdGy:()=>Is,schemeRdPu:()=>Ks,schemeRdYlBu:()=>Os,schemeRdYlGn:()=>Ls,schemeReds:()=>ml,schemeSet1:()=>ms,schemeSet2:()=>_s,schemeSet3:()=>ys,schemeSpectral:()=>Ns,schemeTableau10:()=>vs,schemeYlGn:()=>nl,schemeYlGnBu:()=>tl,schemeYlOrBr:()=>il,schemeYlOrRd:()=>ol,select:()=>src_select,selectAll:()=>src_selectAll,selection:()=>F,selector:()=>selector,selectorAll:()=>selectorAll,set:()=>he,shuffle:()=>shuffle,stack:()=>stack,stackOffsetDiverging:()=>offset_diverging,stackOffsetExpand:()=>expand,stackOffsetNone:()=>offset_none,stackOffsetSilhouette:()=>silhouette,stackOffsetWiggle:()=>wiggle,stackOrderAppearance:()=>appearance,stackOrderAscending:()=>order_ascending,stackOrderDescending:()=>order_descending,stackOrderInsideOut:()=>insideOut,stackOrderNone:()=>order_none,stackOrderReverse:()=>reverse,stratify:()=>stratify,style:()=>styleValue,sum:()=>sum,svg:()=>Mn,symbol:()=>symbol,symbolCircle:()=>Ul,symbolCross:()=>ql,symbolDiamond:()=>Ql,symbolSquare:()=>nc,symbolStar:()=>ec,symbolTriangle:()=>ic,symbolWye:()=>cc,symbols:()=>uc,text:()=>src_text,thresholdFreedmanDiaconis:()=>freedmanDiaconis,thresholdScott:()=>scott,thresholdSturges:()=>sturges,tickFormat:()=>tickFormat,tickIncrement:()=>tickIncrement,tickStep:()=>tickStep,ticks:()=>ticks,timeDay:()=>no,timeDays:()=>ro,timeFormat:()=>Fo,timeFormatDefaultLocale:()=>defaultLocale_defaultLocale,timeFormatLocale:()=>formatLocale,timeFriday:()=>Ba,timeFridays:()=>Ka,timeHour:()=>ao,timeHours:()=>oo,timeInterval:()=>newInterval,timeMillisecond:()=>go,timeMilliseconds:()=>mo,timeMinute:()=>lo,timeMinutes:()=>co,timeMonday:()=>Ya,timeMondays:()=>qa,timeMonth:()=>Da,timeMonths:()=>La,timeParse:()=>Go,timeSaturday:()=>Wa,timeSaturdays:()=>Ja,timeSecond:()=>ho,timeSeconds:()=>fo,timeSunday:()=>Va,timeSundays:()=>Ua,timeThursday:()=>Ha,timeThursdays:()=>Qa,timeTuesday:()=>za,timeTuesdays:()=>Xa,timeWednesday:()=>$a,timeWednesdays:()=>Za,timeWeek:()=>Va,timeWeeks:()=>Ua,timeYear:()=>Ia,timeYears:()=>Ea,timeout:()=>src_timeout,timer:()=>timer,timerFlush:()=>timerFlush,touch:()=>touch,touches:()=>touches,transition:()=>transition_transition,transpose:()=>transpose,tree:()=>tree,treemap:()=>treemap,treemapBinary:()=>binary,treemapDice:()=>dice,treemapResquarify:()=>aa,treemapSlice:()=>treemap_slice,treemapSliceDice:()=>sliceDice,treemapSquarify:()=>ia,tsv:()=>kn,tsvFormat:()=>qe,tsvFormatBody:()=>Xe,tsvFormatRow:()=>Qe,tsvFormatRows:()=>Ze,tsvFormatValue:()=>Ke,tsvParse:()=>We,tsvParseRows:()=>Ue,utcDay:()=>Oo,utcDays:()=>Do,utcFormat:()=>Vo,utcFriday:()=>So,utcFridays:()=>Mo,utcHour:()=>rs,utcHours:()=>os,utcMillisecond:()=>go,utcMilliseconds:()=>mo,utcMinute:()=>ls,utcMinutes:()=>cs,utcMonday:()=>yo,utcMondays:()=>Co,utcMonth:()=>ts,utcMonths:()=>es,utcParse:()=>Yo,utcSaturday:()=>wo,utcSaturdays:()=>Io,utcSecond:()=>ho,utcSeconds:()=>fo,utcSunday:()=>_o,utcSundays:()=>To,utcThursday:()=>bo,utcThursdays:()=>Po,utcTuesday:()=>vo,utcTuesdays:()=>ko,utcWednesday:()=>xo,utcWednesdays:()=>Ao,utcWeek:()=>_o,utcWeeks:()=>To,utcYear:()=>Ro,utcYears:()=>No,values:()=>values,variance:()=>variance,version:()=>r,voronoi:()=>voronoi,window:()=>src_window,xml:()=>An,zip:()=>zip,zoom:()=>zoom,zoomIdentity:()=>Dc,zoomTransform:()=>transform_transform});var r="5.16.0";function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function bisector(t){return 1===t.length&&(t=function ascendingComparator(t){return function(e,n){return ascending(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}var i=bisector(ascending),a=i.right,o=i.left;const s=a;function pairs(t,e){null==e&&(e=pair);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a}function pair(t,e){return[t,e]}function cross(t,e,n){var r,i,a,o,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=pair),r=a=0;r<s;++r)for(o=t[r],i=0;i<l;++i,++a)c[a]=n(o,e[i]);return c}function descending(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function number(t){return null===t?NaN:+t}function variance(t,e){var n,r,i=t.length,a=0,o=-1,s=0,l=0;if(null==e)for(;++o<i;)isNaN(n=number(t[o]))||(l+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=number(e(t[o],o,t)))||(l+=(r=n-s)*(n-(s+=r/++a)));if(a>1)return l/(a-1)}function deviation(t,e){var n=variance(t,e);return n?Math.sqrt(n):n}function extent(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var l=Array.prototype,c=l.slice,u=l.map;function constant(t){return function(){return t}}function identity(t){return t}function src_range(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var p=Math.sqrt(50),m=Math.sqrt(10),_=Math.sqrt(2);function ticks(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=tickIncrement(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function tickIncrement(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=p?10:a>=m?5:a>=_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=p?10:a>=m?5:a>=_?2:1)}function tickStep(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=p?i*=10:a>=m?i*=5:a>=_&&(i*=2),e<t?-i:i}function sturges(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function histogram(){var t=identity,e=extent,n=sturges;function histogram(r){var i,a,o=r.length,l=new Array(o);for(i=0;i<o;++i)l[i]=t(r[i],i,r);var c=e(l),u=c[0],p=c[1],m=n(l,u,p);Array.isArray(m)||(m=tickStep(u,p,m),m=src_range(Math.ceil(u/m)*m,p,m));for(var _=m.length;m[0]<=u;)m.shift(),--_;for(;m[_-1]>p;)m.pop(),--_;var v,b=new Array(_+1);for(i=0;i<=_;++i)(v=b[i]=[]).x0=i>0?m[i-1]:u,v.x1=i<_?m[i]:p;for(i=0;i<o;++i)u<=(a=l[i])&&a<=p&&b[s(m,a,0,_)].push(r[i]);return b}return histogram.value=function(e){return arguments.length?(t="function"==typeof e?e:constant(e),histogram):t},histogram.domain=function(t){return arguments.length?(e="function"==typeof t?t:constant([t[0],t[1]]),histogram):e},histogram.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?constant(c.call(t)):constant(t),histogram):n},histogram}function quantile(t,e,n){if(null==n&&(n=number),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function freedmanDiaconis(t,e,n){return t=u.call(t,number).sort(ascending),Math.ceil((n-e)/(2*(quantile(t,.75)-quantile(t,.25))*Math.pow(t.length,-1/3)))}function scott(t,e,n){return Math.ceil((n-e)/(3.5*deviation(t)*Math.pow(t.length,-1/3)))}function max(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}function mean(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=number(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=number(e(t[a],a,t)))?--i:o+=n;if(i)return o/i}function median(t,e){var n,r=t.length,i=-1,a=[];if(null==e)for(;++i<r;)isNaN(n=number(t[i]))||a.push(n);else for(;++i<r;)isNaN(n=number(e(t[i],i,t)))||a.push(n);return quantile(a.sort(ascending),.5)}function merge(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n}function min(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r}function permute(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function scan(t,e){if(n=t.length){var n,r,i=0,a=0,o=t[a];for(null==e&&(e=ascending);++i<n;)(e(r=t[i],o)<0||0!==e(o,o))&&(o=r,a=i);return 0===e(o,o)?a:void 0}}function shuffle(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t}function sum(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a}function transpose(t){if(!(i=t.length))return[];for(var e=-1,n=min(t,transpose_length),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function transpose_length(t){return t.length}function zip(){return transpose(arguments)}var v=Array.prototype.slice;function src_identity(t){return t}var b=1,S=2,w=3,T=4,C=1e-6;function translateX(t){return"translate("+(t+.5)+",0)"}function translateY(t){return"translate(0,"+(t+.5)+")"}function axis_number(t){return function(e){return+t(e)}}function center(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function entering(){return!this.__axis}function axis(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,l=t===b||t===T?-1:1,c=t===T||t===S?"x":"y",u=t===b||t===w?translateX:translateY;function axis(p){var m=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,_=null==i?e.tickFormat?e.tickFormat.apply(e,n):src_identity:i,v=Math.max(a,0)+s,A=e.range(),P=+A[0]+.5,M=+A[A.length-1]+.5,I=(e.bandwidth?center:axis_number)(e.copy()),E=p.selection?p.selection():p,O=E.selectAll(".domain").data([null]),D=E.selectAll(".tick").data(m,e).order(),L=D.exit(),R=D.enter().append("g").attr("class","tick"),N=D.select("line"),F=D.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(R),N=N.merge(R.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),F=F.merge(R.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",t===b?"0em":t===w?"0.71em":"0.32em")),p!==E&&(O=O.transition(p),D=D.transition(p),N=N.transition(p),F=F.transition(p),L=L.transition(p).attr("opacity",C).attr("transform",(function(t){return isFinite(t=I(t))?u(t):this.getAttribute("transform")})),R.attr("opacity",C).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:I(t))}))),L.remove(),O.attr("d",t===T||t==S?o?"M"+l*o+","+P+"H0.5V"+M+"H"+l*o:"M0.5,"+P+"V"+M:o?"M"+P+","+l*o+"V0.5H"+M+"V"+l*o:"M"+P+",0.5H"+M),D.attr("opacity",1).attr("transform",(function(t){return u(I(t))})),N.attr(c+"2",l*a),F.attr(c,l*v).text(_),E.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===S?"start":t===T?"end":"middle"),E.each((function(){this.__axis=I}))}return axis.scale=function(t){return arguments.length?(e=t,axis):e},axis.ticks=function(){return n=v.call(arguments),axis},axis.tickArguments=function(t){return arguments.length?(n=null==t?[]:v.call(t),axis):n.slice()},axis.tickValues=function(t){return arguments.length?(r=null==t?null:v.call(t),axis):r&&r.slice()},axis.tickFormat=function(t){return arguments.length?(i=t,axis):i},axis.tickSize=function(t){return arguments.length?(a=o=+t,axis):a},axis.tickSizeInner=function(t){return arguments.length?(a=+t,axis):a},axis.tickSizeOuter=function(t){return arguments.length?(o=+t,axis):o},axis.tickPadding=function(t){return arguments.length?(s=+t,axis):s},axis}function axisTop(t){return axis(b,t)}function axisRight(t){return axis(S,t)}function axisBottom(t){return axis(w,t)}function axisLeft(t){return axis(T,t)}var A={value:function(){}};function dispatch(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Dispatch(r)}function Dispatch(t){this._=t}function get(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function set(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=A,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(t,e){var n,r=this._,i=function parseTypenames(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=set(r[n],t.name,e);else if(null==e)for(n in r)r[n]=set(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=get(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Dispatch(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};const P=dispatch;function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function empty(){return[]}function selectorAll(t){return null==t?empty:function(){return this.querySelectorAll(t)}}function matcher(t){return function(){return this.matches(t)}}function sparse(t){return new Array(t.length)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var M="$";function bindIndex(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new EnterNode(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function bindKey(t,e,n,r,i,a,o){var s,l,c,u={},p=e.length,m=a.length,_=new Array(p);for(s=0;s<p;++s)(l=e[s])&&(_[s]=c=M+o.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<m;++s)(l=u[c=M+o.call(t,a[s],s,a)])?(r[s]=l,l.__data__=a[s],u[c]=null):n[s]=new EnterNode(t,a[s]);for(s=0;s<p;++s)(l=e[s])&&u[_[s]]===l&&(i[s]=l)}function sort_ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var I="http://www.w3.org/1999/xhtml";const E={svg:"http://www.w3.org/2000/svg",xhtml:I,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),E.hasOwnProperty(e)?{space:E[e],local:t}:t}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function attrFunctionNS(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function src_window(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function styleValue(t,e){return t.style.getPropertyValue(e)||src_window(t).getComputedStyle(t,null).getPropertyValue(e)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function classedRemove(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function textRemove(){this.textContent=""}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===I&&e.documentElement.namespaceURI===I?e.createElement(t):e.createElementNS(n,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function constantNull(){return null}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_cloneShallow(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function selection_cloneDeep(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}ClassList.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var O=n(4771),D={},L=null;void 0!==O&&("onmouseenter"in O.documentElement||(D={mouseenter:"mouseover",mouseleave:"mouseout"}));function filterContextListener(t,e,n){return t=contextListener(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function contextListener(t,e,n){return function(r){var i=L;L=r;try{t.call(this,this.__data__,e,n)}finally{L=i}}}function onRemove(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function onAdd(t,e,n){var r=D.hasOwnProperty(t.type)?filterContextListener:contextListener;return function(i,a,o){var s,l=this.__on,c=r(e,a,o);if(l)for(var u=0,p=l.length;u<p;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function customEvent(t,e,n,r){var i=L;t.sourceEvent=L,L=t;try{return e.apply(n,r)}finally{L=i}}function dispatchEvent(t,e,n){var r=src_window(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}var R=n(4771),N=[null];function Selection(t,e){this._groups=t,this._parents=e}function selection(){return new Selection([[R.documentElement]],N)}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=t.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Selection(r,this._parents)},selectAll:function selectAll(t){"function"!=typeof t&&(t=selectorAll(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Selection(r,i)},filter:function filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Selection(r,this._parents)},data:function data(t,e){if(!t)return _=new Array(this.size()),c=-1,this.each((function(t){_[++c]=t})),_;var n=e?bindKey:bindIndex,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function src_constant(t){return function(){return t}}(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=r[c],p=i[c],m=p.length,_=t.call(u,u&&u.__data__,c,r),v=_.length,b=s[c]=new Array(v),S=o[c]=new Array(v);n(u,p,b,S,l[c]=new Array(m),_,e);for(var w,T,C=0,A=0;C<v;++C)if(w=b[C]){for(C>=A&&(A=C+1);!(T=S[A])&&++A<v;);w._next=T||null}}return(o=new Selection(o,r))._enter=s,o._exit=l,o},enter:function enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function join(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function selection_merge(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],p=c.length,m=o[s]=new Array(p),_=0;_<p;++_)(l=c[_]||u[_])&&(m[_]=l);for(;s<r;++s)o[s]=e[s];return new Selection(o,this._parents)},order:function order(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function sort(t){function compareNode(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=sort_ascending);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var a,o=e[i],s=o.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=o[c])&&(l[c]=a);l.sort(compareNode)}return new Selection(r,this._parents).order()},call:function call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function nodes(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function node(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function size(){var t=0;return this.each((function(){++t})),t},empty:function selection_empty(){return!this.node()},each:function each(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function attr(t,e){var n=namespace(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?attrRemoveNS:attrRemove:"function"==typeof e?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,e))},style:function style(t,e,n){return arguments.length>1?this.each((null==e?styleRemove:"function"==typeof e?styleFunction:styleConstant)(t,e,null==n?"":n)):styleValue(this.node(),t)},property:function property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]},classed:function classed(t,e){var n=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(n,e))},text:function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction:textConstant)(t)):this.node().textContent},html:function html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function append(t){var e="function"==typeof t?t:creator(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function insert(t,e){var n="function"==typeof t?t:creator(t),r=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function clone(t){return this.select(t?selection_cloneDeep:selection_cloneShallow)},datum:function datum(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function on(t,e,n){var r,i,a=function on_parseTypenames(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?onAdd:onRemove,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}};const F=selection;var G=n(4771);function src_select(t){return"string"==typeof t?new Selection([[G.querySelector(t)]],[G.documentElement]):new Selection([[t]],N)}function nopropagation(){L.stopImmediatePropagation()}function noevent(){L.preventDefault(),L.stopImmediatePropagation()}function nodrag(t){var e=t.document.documentElement,n=src_select(t).on("dragstart.drag",noevent,!0);"onselectstart"in e?n.on("selectstart.drag",noevent,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yesdrag(t,e){var n=t.document.documentElement,r=src_select(t).on("dragstart.drag",null);e&&(r.on("click.drag",noevent,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function src_define(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function extend(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Color(){}var V=.7,Y=1/V,z="\\s*([+-]?\\d+)\\s*",$="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",H="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B=/^#([0-9a-f]{3,8})$/,W=new RegExp("^rgb\\("+[z,z,z]+"\\)$"),U=new RegExp("^rgb\\("+[H,H,H]+"\\)$"),q=new RegExp("^rgba\\("+[z,z,z,$]+"\\)$"),X=new RegExp("^rgba\\("+[H,H,H,$]+"\\)$"),Z=new RegExp("^hsl\\("+[$,H,H]+"\\)$"),Q=new RegExp("^hsla\\("+[$,H,H,$]+"\\)$"),K={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=B.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?rgbn(e):3===n?new Rgb(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?rgba(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=W.exec(t))?new Rgb(e[1],e[2],e[3],1):(e=U.exec(t))?new Rgb(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=q.exec(t))?rgba(e[1],e[2],e[3],e[4]):(e=X.exec(t))?rgba(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Z.exec(t))?hsla(e[1],e[2]/100,e[3]/100,1):(e=Q.exec(t))?hsla(e[1],e[2]/100,e[3]/100,e[4]):K.hasOwnProperty(t)?rgbn(K[t]):"transparent"===t?new Rgb(NaN,NaN,NaN,0):null}function rgbn(t){return new Rgb(t>>16&255,t>>8&255,255&t,1)}function rgba(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rgb(t,e,n,r)}function rgbConvert(t){return t instanceof Color||(t=color(t)),t?new Rgb((t=t.rgb()).r,t.g,t.b,t.opacity):new Rgb}function color_rgb(t,e,n,r){return 1===arguments.length?rgbConvert(t):new Rgb(t,e,n,null==r?1:r)}function Rgb(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function hex(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function hsla(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Hsl(t,e,n,r)}function hslConvert(t){if(t instanceof Hsl)return new Hsl(t.h,t.s,t.l,t.opacity);if(t instanceof Color||(t=color(t)),!t)return new Hsl;if(t instanceof Hsl)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Hsl(o,s,l,t.opacity)}function hsl(t,e,n,r){return 1===arguments.length?hslConvert(t):new Hsl(t,e,n,null==r?1:r)}function Hsl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hsl2rgb(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function basis(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function src_basis(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return basis((n-r/e)*e,o,i,a,s)}}function basisClosed(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return basis((n-r/e)*e,i,a,o,s)}}function d3_interpolate_src_constant(t){return function(){return t}}function linear(t,e){return function(n){return t+n*e}}function hue(t,e){var n=e-t;return n?linear(t,n>180||n<-180?n-360*Math.round(n/360):n):d3_interpolate_src_constant(isNaN(t)?e:t)}function gamma(t){return 1==(t=+t)?nogamma:function(e,n){return n-e?function exponential(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):d3_interpolate_src_constant(isNaN(e)?n:e)}}function nogamma(t,e){var n=e-t;return n?linear(t,n):d3_interpolate_src_constant(isNaN(t)?e:t)}src_define(Color,color,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter:function(t){return t=null==t?Y:Math.pow(Y,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?V:Math.pow(V,t),new Rgb(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,hsl,extend(Color,{brighter:function(t){return t=null==t?Y:Math.pow(Y,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?V:Math.pow(V,t),new Hsl(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rgb(hsl2rgb(t>=240?t-240:t+120,i,r),hsl2rgb(t,i,r),hsl2rgb(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const J=function rgbGamma(t){var e=gamma(t);function rgb(t,n){var r=e((t=color_rgb(t)).r,(n=color_rgb(n)).r),i=e(t.g,n.g),a=e(t.b,n.b),o=nogamma(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=color_rgb(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}var tt=rgbSpline(src_basis),et=rgbSpline(basisClosed);function numberArray(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function isNumberArray(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function src_array(t,e){return(isNumberArray(e)?numberArray:genericArray)(t,e)}function genericArray(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=value(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function date(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function src_number(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function object(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=value(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rt=new RegExp(nt.source,"g");function string(t,e){var n,r,i,a=nt.lastIndex=rt.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=nt.exec(t))&&(r=rt.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:src_number(n,r)})),a=rt.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function one(t){return function(e){return t(e)+""}}(l[0].x):function zero(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function value(t,e){var n,r=typeof e;return null==e||"boolean"===r?d3_interpolate_src_constant(e):("number"===r?src_number:"string"===r?(n=color(e))?(e=n,J):string:e instanceof color?J:e instanceof Date?date:isNumberArray(e)?numberArray:Array.isArray(e)?genericArray:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?object:src_number)(t,e)}function sourceEvent(){for(var t,e=L;t=e.sourceEvent;)e=t;return e}function point(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function touch(t,e,n){arguments.length<3&&(n=e,e=sourceEvent().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return point(t,r);return null}function mouse(t){var e=sourceEvent();return e.changedTouches&&(e=e.changedTouches[0]),point(t,e)}var it,at,ot=n(6885),st=0,lt=0,ct=0,ut=1e3,dt=0,ht=0,ft=0,pt="object"==typeof performance&&performance.now?performance:Date,gt="object"==typeof ot&&ot.requestAnimationFrame?ot.requestAnimationFrame.bind(ot):function(t){setTimeout(t,17)};function now(){return ht||(gt(clearNow),ht=pt.now()+ft)}function clearNow(){ht=0}function Timer(){this._call=this._time=this._next=null}function timer(t,e,n){var r=new Timer;return r.restart(t,e,n),r}function timerFlush(){now(),++st;for(var t,e=it;e;)(t=ht-e._time)>=0&&e._call.call(null,t),e=e._next;--st}function wake(){ht=(dt=pt.now())+ft,st=lt=0;try{timerFlush()}finally{st=0,function nap(){var t,e,n=it,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:it=e);at=t,sleep(r)}(),ht=0}}function poke(){var t=pt.now(),e=t-dt;e>ut&&(ft-=e,dt=t)}function sleep(t){st||(lt&&(lt=clearTimeout(lt)),t-ht>24?(t<1/0&&(lt=setTimeout(wake,t-pt.now()-ft)),ct&&(ct=clearInterval(ct))):(ct||(dt=pt.now(),ct=setInterval(poke,ut)),st=1,gt(wake)))}function src_timeout(t,e,n){var r=new Timer;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Timer.prototype=timer.prototype={constructor:Timer,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?now():+n)+(null==e?0:+e),this._next||at===this||(at?at._next=this:it=this,at=this),this._call=t,this._time=n,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var mt=P("start","end","cancel","interrupt"),_t=[],yt=0,vt=1,xt=2,bt=3,St=4,wt=5,Tt=6;function schedule(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function create(t,e,n){var r,i=t.__transition;function schedule(t){n.state=vt,n.timer.restart(start,n.delay,n.time),n.delay<=t&&start(t-n.delay)}function start(a){var o,s,l,c;if(n.state!==vt)return stop();for(o in i)if((c=i[o]).name===n.name){if(c.state===bt)return src_timeout(start);c.state===St?(c.state=Tt,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete i[o]):+o<e&&(c.state=Tt,c.timer.stop(),c.on.call("cancel",t,t.__data__,c.index,c.group),delete i[o])}if(src_timeout((function(){n.state===bt&&(n.state=St,n.timer.restart(tick,n.delay,n.time),tick(a))})),n.state=xt,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xt){for(n.state=bt,r=new Array(l=n.tween.length),o=0,s=-1;o<l;++o)(c=n.tween[o].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=c);r.length=s+1}}function tick(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(stop),n.state=wt,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);n.state===wt&&(n.on.call("end",t,t.__data__,n.index,n.group),stop())}function stop(){for(var r in n.state=Tt,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=timer(schedule,0,n.time)}(t,n,{name:e,index:r,group:i,on:mt,tween:_t,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:yt})}function init(t,e){var n=schedule_get(t,e);if(n.state>yt)throw new Error("too late; already scheduled");return n}function schedule_set(t,e){var n=schedule_get(t,e);if(n.state>bt)throw new Error("too late; already running");return n}function schedule_get(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function interrupt(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>xt&&n.state<wt,n.state=Tt,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}var Ct=180/Math.PI,kt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Ct,skewX:Math.atan(l)*Ct,scaleX:o,scaleY:s}}var At,Pt,Mt,It,Et=n(4771);function interpolateTransform(t,e,n,r){function pop(t){return t.length?t.pop()+" ":""}return function(i,a){var o=[],s=[];return i=t(i),a=t(a),function translate(t,r,i,a,o,s){if(t!==i||r!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:src_number(t,i)},{i:l-2,x:src_number(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(i.translateX,i.translateY,a.translateX,a.translateY,o,s),function rotate(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(pop(n)+"rotate(",null,r)-2,x:src_number(t,e)})):e&&n.push(pop(n)+"rotate("+e+r)}(i.rotate,a.rotate,o,s),function skewX(t,e,n,i){t!==e?i.push({i:n.push(pop(n)+"skewX(",null,r)-2,x:src_number(t,e)}):e&&n.push(pop(n)+"skewX("+e+r)}(i.skewX,a.skewX,o,s),function scale(t,e,n,r,i,a){if(t!==n||e!==r){var o=i.push(pop(i)+"scale(",null,",",null,")");a.push({i:o-4,x:src_number(t,n)},{i:o-2,x:src_number(e,r)})}else 1===n&&1===r||i.push(pop(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,o,s),i=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)o[(e=s[n]).i]=e.x(t);return o.join("")}}}var Ot=interpolateTransform((function parseCss(t){return"none"===t?kt:(At||(At=Et.createElement("DIV"),Pt=Et.documentElement,Mt=Et.defaultView),At.style.transform=t,t=Mt.getComputedStyle(Pt.appendChild(At),null).getPropertyValue("transform"),Pt.removeChild(At),decompose(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Dt=interpolateTransform((function parseSvg(t){return null==t?kt:(It||(It=Et.createElementNS("http://www.w3.org/2000/svg","g")),It.setAttribute("transform",t),(t=It.transform.baseVal.consolidate())?decompose((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):kt)}),", ",")",")");function tweenRemove(t,e){var n,r;return function(){var i=schedule_set(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function tweenFunction(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=schedule_set(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}a.tween=i}}function tweenValue(t,e,n){var r=t._id;return t.each((function(){var t=schedule_set(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return schedule_get(t,r).value[e]}}function interpolate(t,e){var n;return("number"==typeof e?src_number:e instanceof color?J:(n=color(e))?(e=n,J):string)(t,e)}function attr_attrRemove(t){return function(){this.removeAttribute(t)}}function attr_attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attr_attrConstant(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function attr_attrConstantNS(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function attr_attrFunction(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttribute(t)}}function attr_attrFunctionNS(t,e,n){var r,i,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===r&&s===i?a:(i=s,a=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}function attrTweenNS(t,e){var n,r;function tween(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function attrInterpolateNS(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return tween._value=e,tween}function attrTween(t,e){var n,r;function tween(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function attrInterpolate(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return tween._value=e,tween}function delayFunction(t,e){return function(){init(this,t).delay=+e.apply(this,arguments)}}function delayConstant(t,e){return e=+e,function(){init(this,t).delay=e}}function durationFunction(t,e){return function(){schedule_set(this,t).duration=+e.apply(this,arguments)}}function durationConstant(t,e){return e=+e,function(){schedule_set(this,t).duration=e}}var Lt=F.prototype.constructor;function style_styleRemove(t){return function(){this.style.removeProperty(t)}}var Rt=0;function Transition(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function transition_transition(t){return F().transition(t)}function newId(){return++Rt}var Nt=F.prototype;function cubicIn(t){return t*t*t}function cubicOut(t){return--t*t*t+1}function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Transition.prototype=transition_transition.prototype={constructor:Transition,select:function transition_select(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selector(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,c=r[o],u=c.length,p=a[o]=new Array(u),m=0;m<u;++m)(s=c[m])&&(l=t.call(s,s.__data__,m,c))&&("__data__"in s&&(l.__data__=s.__data__),p[m]=l,schedule(p[m],e,n,m,p,schedule_get(s,n)));return new Transition(a,this._parents,e,n)},selectAll:function transition_selectAll(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=selectorAll(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,p=0;p<u;++p)if(l=c[p]){for(var m,_=t.call(l,l.__data__,p,c),v=schedule_get(l,n),b=0,S=_.length;b<S;++b)(m=_[b])&&schedule(m,e,n,b,_,v);a.push(_),o.push(l)}return new Transition(a,o,e,n)},filter:function transition_filter(t){"function"!=typeof t&&(t=matcher(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Transition(r,this._parents,this._name,this._id)},merge:function transition_merge(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],u=n[s],p=c.length,m=o[s]=new Array(p),_=0;_<p;++_)(l=c[_]||u[_])&&(m[_]=l);for(;s<r;++s)o[s]=e[s];return new Transition(o,this._parents,this._name,this._id)},selection:function transition_selection(){return new Lt(this._groups,this._parents)},transition:function transition(){for(var t=this._name,e=this._id,n=newId(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=schedule_get(o,e);schedule(o,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Transition(r,this._parents,t,n)},call:Nt.call,nodes:Nt.nodes,node:Nt.node,size:Nt.size,empty:Nt.empty,each:Nt.each,on:function transition_on(t,e){var n=this._id;return arguments.length<2?schedule_get(this.node(),n).on.on(t):this.each(function onFunction(t,e,n){var r,i,a=function start(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?init:schedule_set;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function transition_attr(t,e){var n=namespace(t),r="transform"===n?Dt:interpolate;return this.attrTween(t,"function"==typeof e?(n.local?attr_attrFunctionNS:attr_attrFunction)(n,r,tweenValue(this,"attr."+t,e)):null==e?(n.local?attr_attrRemoveNS:attr_attrRemove)(n):(n.local?attr_attrConstantNS:attr_attrConstant)(n,r,e))},attrTween:function transition_attrTween(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=namespace(t);return this.tween(n,(r.local?attrTweenNS:attrTween)(r,e))},style:function transition_style(t,e,n){var r="transform"==(t+="")?Ot:interpolate;return null==e?this.styleTween(t,function styleNull(t,e){var n,r,i;return function(){var a=styleValue(this,t),o=(this.style.removeProperty(t),styleValue(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,style_styleRemove(t)):"function"==typeof e?this.styleTween(t,function style_styleFunction(t,e,n){var r,i,a;return function(){var o=styleValue(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=styleValue(this,t)),o===l?null:o===r&&l===i?a:(i=l,a=e(r=o,s))}}(t,r,tweenValue(this,"style."+t,e))).each(function styleMaybeRemove(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var l=schedule_set(this,t),c=l.on,u=null==l.value[o]?a||(a=style_styleRemove(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function style_styleConstant(t,e,n){var r,i,a=n+"";return function(){var o=styleValue(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function transition_styleTween(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function styleTween(t,e,n){var r,i;function tween(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&function styleInterpolate(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,a,n)),r}return tween._value=e,tween}(t,e,null==n?"":n))},text:function transition_text(t){return this.tween("text","function"==typeof t?function text_textFunction(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tweenValue(this,"text",t)):function text_textConstant(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function transition_textTween(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function textTween(t){var e,n;function tween(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function textInterpolate(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return tween._value=t,tween}(t))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function tween(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=schedule_get(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?tweenRemove:tweenFunction)(n,t,e))},delay:function delay(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?delayFunction:delayConstant)(e,t)):schedule_get(this.node(),e).delay},duration:function duration(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?durationFunction:durationConstant)(e,t)):schedule_get(this.node(),e).duration},ease:function ease(t){var e=this._id;return arguments.length?this.each(function easeConstant(t,e){if("function"!=typeof e)throw new Error;return function(){schedule_set(this,t).ease=e}}(e,t)):schedule_get(this.node(),e).ease},end:function end(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--i&&a()}};n.each((function(){var n=schedule_set(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var jt={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return jt.time=now(),jt;return n}F.prototype.interrupt=function selection_interrupt(t){return this.each((function(){interrupt(this,t)}))},F.prototype.transition=function selection_transition(t){var e,n;t instanceof Transition?(e=t._id,t=t._name):(e=newId(),(n=jt).time=now(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,c=0;c<l;++c)(o=s[c])&&schedule(o,t,e,c,s,n||inherit(o,e));return new Transition(r,this._parents,t,e)};var Ft=[null];function active(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>vt&&n.name===e)return new Transition([[t]],Ft,e,+r);return null}function d3_brush_src_constant(t){return function(){return t}}function src_event(t,e,n){this.target=t,this.type=e,this.selection=n}function noevent_nopropagation(){L.stopImmediatePropagation()}function src_noevent(){L.preventDefault(),L.stopImmediatePropagation()}var Gt={name:"drag"},Vt={name:"space"},Yt={name:"handle"},zt={name:"center"};function number1(t){return[+t[0],+t[1]]}function number2(t){return[number1(t[0]),number1(t[1])]}var $t={name:"x",handles:["w","e"].map(type),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Ht={name:"y",handles:["n","s"].map(type),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Bt={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(type),input:function(t){return null==t?null:number2(t)},output:function(t){return t}},Wt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ut={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},qt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Xt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Zt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function type(t){return{type:t}}function defaultFilter(){return!L.ctrlKey&&!L.button}function defaultExtent(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function local(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function brushSelection(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function brushX(){return brush_brush($t)}function brushY(){return brush_brush(Ht)}function brush(){return brush_brush(Bt)}function brush_brush(t){var e,n=defaultExtent,r=defaultFilter,i=defaultTouchable,a=!0,o=P("start","brush","end"),s=6;function brush(e){var n=e.property("__brush",initialize).selectAll(".overlay").data([type("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Wt.overlay).merge(n).each((function(){var t=local(this).extent;src_select(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([type("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Wt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Wt[t.type]})),e.each(redraw).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",started).filter(i).on("touchstart.brush",started).on("touchmove.brush",touchmoved).on("touchend.brush touchcancel.brush",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function redraw(){var t=src_select(this),e=local(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function emitter(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new Emitter(t,e,n):r}function Emitter(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function started(){if((!e||L.touches)&&r.apply(this,arguments)){var n,i,o,s,l,c,u,p,m,_,v,b=this,S=L.target.__data__.type,w="selection"===(a&&L.metaKey?S="overlay":S)?Gt:a&&L.altKey?zt:Yt,T=t===Ht?null:Xt[S],C=t===$t?null:Zt[S],A=local(b),P=A.extent,M=A.selection,I=P[0][0],E=P[0][1],O=P[1][0],D=P[1][1],R=0,N=0,F=T&&C&&a&&L.shiftKey,G=L.touches?function toucher(t){return function(e){return touch(e,L.touches,t)}}(L.changedTouches[0].identifier):mouse,V=G(b),Y=V,z=emitter(b,arguments,!0).beforestart();"overlay"===S?(M&&(m=!0),A.selection=M=[[n=t===Ht?I:V[0],o=t===$t?E:V[1]],[l=t===Ht?O:n,u=t===$t?D:o]]):(n=M[0][0],o=M[0][1],l=M[1][0],u=M[1][1]),i=n,s=o,c=l,p=u;var $=src_select(b).attr("pointer-events","none"),H=$.selectAll(".overlay").attr("cursor",Wt[S]);if(L.touches)z.moved=moved,z.ended=ended;else{var B=src_select(L.view).on("mousemove.brush",moved,!0).on("mouseup.brush",ended,!0);a&&B.on("keydown.brush",(function keydowned(){switch(L.keyCode){case 16:F=T&&C;break;case 18:w===Yt&&(T&&(l=c-R*T,n=i+R*T),C&&(u=p-N*C,o=s+N*C),w=zt,move());break;case 32:w!==Yt&&w!==zt||(T<0?l=c-R:T>0&&(n=i-R),C<0?u=p-N:C>0&&(o=s-N),w=Vt,H.attr("cursor",Wt.selection),move());break;default:return}src_noevent()}),!0).on("keyup.brush",(function keyupped(){switch(L.keyCode){case 16:F&&(_=v=F=!1,move());break;case 18:w===zt&&(T<0?l=c:T>0&&(n=i),C<0?u=p:C>0&&(o=s),w=Yt,move());break;case 32:w===Vt&&(L.altKey?(T&&(l=c-R*T,n=i+R*T),C&&(u=p-N*C,o=s+N*C),w=zt):(T<0?l=c:T>0&&(n=i),C<0?u=p:C>0&&(o=s),w=Yt),H.attr("cursor",Wt[S]),move());break;default:return}src_noevent()}),!0),nodrag(L.view)}noevent_nopropagation(),interrupt(b),redraw.call(b),z.start()}function moved(){var t=G(b);!F||_||v||(Math.abs(t[0]-Y[0])>Math.abs(t[1]-Y[1])?v=!0:_=!0),Y=t,m=!0,src_noevent(),move()}function move(){var t;switch(R=Y[0]-V[0],N=Y[1]-V[1],w){case Vt:case Gt:T&&(R=Math.max(I-n,Math.min(O-l,R)),i=n+R,c=l+R),C&&(N=Math.max(E-o,Math.min(D-u,N)),s=o+N,p=u+N);break;case Yt:T<0?(R=Math.max(I-n,Math.min(O-n,R)),i=n+R,c=l):T>0&&(R=Math.max(I-l,Math.min(O-l,R)),i=n,c=l+R),C<0?(N=Math.max(E-o,Math.min(D-o,N)),s=o+N,p=u):C>0&&(N=Math.max(E-u,Math.min(D-u,N)),s=o,p=u+N);break;case zt:T&&(i=Math.max(I,Math.min(O,n-R*T)),c=Math.max(I,Math.min(O,l+R*T))),C&&(s=Math.max(E,Math.min(D,o-N*C)),p=Math.max(E,Math.min(D,u+N*C)))}c<i&&(T*=-1,t=n,n=l,l=t,t=i,i=c,c=t,S in Ut&&H.attr("cursor",Wt[S=Ut[S]])),p<s&&(C*=-1,t=o,o=u,u=t,t=s,s=p,p=t,S in qt&&H.attr("cursor",Wt[S=qt[S]])),A.selection&&(M=A.selection),_&&(i=M[0][0],c=M[1][0]),v&&(s=M[0][1],p=M[1][1]),M[0][0]===i&&M[0][1]===s&&M[1][0]===c&&M[1][1]===p||(A.selection=[[i,s],[c,p]],redraw.call(b),z.brush())}function ended(){if(noevent_nopropagation(),L.touches){if(L.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else yesdrag(L.view,m),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);$.attr("pointer-events","all"),H.attr("cursor",Wt.overlay),A.selection&&(M=A.selection),function brush_empty(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(M)&&(A.selection=null,redraw.call(b)),z.end()}}function touchmoved(){emitter(this,arguments).moved()}function touchended(){emitter(this,arguments).ended()}function initialize(){var e=this.__brush||{selection:null};return e.extent=number2(n.apply(this,arguments)),e.dim=t,e}return brush.move=function(e,n){e.selection?e.on("start.brush",(function(){emitter(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){emitter(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=emitter(e,arguments),a=r.selection,o=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=value(a,o);function tween(t){r.selection=1===t&&null===o?null:s(t),redraw.call(e),i.brush()}return null!==a&&null!==o?tween:tween(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,a=t.input("function"==typeof n?n.apply(e,r):n,i.extent),o=emitter(e,r).beforestart();interrupt(e),i.selection=null===a?null:a,redraw.call(e),o.start().brush().end()}))},brush.clear=function(t){brush.move(t,null)},Emitter.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){customEvent(new src_event(brush,e,t.output(this.state.selection)),o.apply,o,[e,this.that,this.args])}},brush.extent=function(t){return arguments.length?(n="function"==typeof t?t:d3_brush_src_constant(number2(t)),brush):n},brush.filter=function(t){return arguments.length?(r="function"==typeof t?t:d3_brush_src_constant(!!t),brush):r},brush.touchable=function(t){return arguments.length?(i="function"==typeof t?t:d3_brush_src_constant(!!t),brush):i},brush.handleSize=function(t){return arguments.length?(s=+t,brush):s},brush.keyModifiers=function(t){return arguments.length?(a=!!t,brush):a},brush.on=function(){var t=o.on.apply(o,arguments);return t===o?brush:t},brush}var Qt=Math.cos,Kt=Math.sin,Jt=Math.PI,te=Jt/2,ee=2*Jt,ne=Math.max;function chord(){var t=0,e=null,n=null,r=null;function chord(i){var a,o,s,l,c,u,p=i.length,m=[],_=src_range(p),v=[],b=[],S=b.groups=new Array(p),w=new Array(p*p);for(a=0,c=-1;++c<p;){for(o=0,u=-1;++u<p;)o+=i[c][u];m.push(o),v.push(src_range(p)),a+=o}for(e&&_.sort((function(t,n){return e(m[t],m[n])})),n&&v.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),l=(a=ne(0,ee-t*p)/a)?t:ee/p,o=0,c=-1;++c<p;){for(s=o,u=-1;++u<p;){var T=_[c],C=v[T][u],A=i[T][C],P=o,M=o+=A*a;w[C*p+T]={index:T,subindex:C,startAngle:P,endAngle:M,value:A}}S[T]={index:T,startAngle:s,endAngle:o,value:m[T]},o+=l}for(c=-1;++c<p;)for(u=c-1;++u<p;){var I=w[u*p+c],E=w[c*p+u];(I.value||E.value)&&b.push(I.value<E.value?{source:E,target:I}:{source:I,target:E})}return r?b.sort(r):b}return chord.padAngle=function(e){return arguments.length?(t=ne(0,e),chord):t},chord.sortGroups=function(t){return arguments.length?(e=t,chord):e},chord.sortSubgroups=function(t){return arguments.length?(n=t,chord):n},chord.sortChords=function(t){return arguments.length?(null==t?r=null:(r=function compareValue(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}(t))._=t,chord):r&&r._},chord}var re=Array.prototype.slice;function d3_chord_src_constant(t){return function(){return t}}var ie=Math.PI,ae=2*ie,oe=1e-6,se=ae-oe;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,c=a-t,u=o-e,p=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(p>oe)if(Math.abs(u*s-l*c)>oe&&i){var m=n-a,_=r-o,v=s*s+l*l,b=m*m+_*_,S=Math.sqrt(v),w=Math.sqrt(p),T=i*Math.tan((ie-Math.acos((v+p-b)/(2*S*w)))/2),C=T/w,A=T/S;Math.abs(C-1)>oe&&(this._+="L"+(t+C*c)+","+(e+C*u)),this._+="A"+i+","+i+",0,0,"+ +(u*m>c*_)+","+(this._x1=t+A*s)+","+(this._y1=e+A*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,c=e+s,u=1^a,p=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>oe||Math.abs(this._y1-c)>oe)&&(this._+="L"+l+","+c),n&&(p<0&&(p=p%ae+ae),p>se?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):p>oe&&(this._+="A"+n+","+n+",0,"+ +(p>=ie)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const le=path;function defaultSource(t){return t.source}function defaultTarget(t){return t.target}function defaultRadius(t){return t.radius}function defaultStartAngle(t){return t.startAngle}function defaultEndAngle(t){return t.endAngle}function ribbon(){var t=defaultSource,e=defaultTarget,n=defaultRadius,r=defaultStartAngle,i=defaultEndAngle,a=null;function ribbon(){var o,s=re.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),p=r.apply(this,s)-te,m=i.apply(this,s)-te,_=u*Qt(p),v=u*Kt(p),b=+n.apply(this,(s[0]=c,s)),S=r.apply(this,s)-te,w=i.apply(this,s)-te;if(a||(a=o=le()),a.moveTo(_,v),a.arc(0,0,u,p,m),p===S&&m===w||(a.quadraticCurveTo(0,0,b*Qt(S),b*Kt(S)),a.arc(0,0,b,S,w)),a.quadraticCurveTo(0,0,_,v),a.closePath(),o)return a=null,o+""||null}return ribbon.radius=function(t){return arguments.length?(n="function"==typeof t?t:d3_chord_src_constant(+t),ribbon):n},ribbon.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:d3_chord_src_constant(+t),ribbon):r},ribbon.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:d3_chord_src_constant(+t),ribbon):i},ribbon.source=function(e){return arguments.length?(t=e,ribbon):t},ribbon.target=function(t){return arguments.length?(e=t,ribbon):e},ribbon.context=function(t){return arguments.length?(a=null==t?null:t,ribbon):a},ribbon}var ce="$";function Map(){}function map_map(t,e){var n=new Map;if(t instanceof Map)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}Map.prototype=map_map.prototype={constructor:Map,has:function(t){return ce+t in this},get:function(t){return this[ce+t]},set:function(t,e){return this[ce+t]=e,this},remove:function(t){var e=ce+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ce&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ce&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ce&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ce&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ce&&++t;return t},empty:function(){for(var t in this)if(t[0]===ce)return!1;return!0},each:function(t){for(var e in this)e[0]===ce&&t(this[e],e.slice(1),this)}};const ue=map_map;function nest(){var t,e,n,r=[],i=[];function apply(n,i,a,o){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,l,c,u=-1,p=n.length,m=r[i++],_=ue(),v=a();++u<p;)(c=_.get(s=m(l=n[u])+""))?c.push(l):_.set(s,[l]);return _.each((function(t,e){o(v,e,apply(t,i,a,o))})),v}function entries(t,n){if(++n>r.length)return t;var a,o=i[n-1];return null!=e&&n>=r.length?a=t.entries():(a=[],t.each((function(t,e){a.push({key:e,values:entries(t,n)})}))),null!=o?a.sort((function(t,e){return o(t.key,e.key)})):a}return n={object:function(t){return apply(t,0,createObject,setObject)},map:function(t){return apply(t,0,createMap,setMap)},entries:function(t){return entries(apply(t,0,createMap,setMap),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function createObject(){return{}}function setObject(t,e,n){t[e]=n}function createMap(){return ue()}function setMap(t,e,n){t.set(e,n)}function Set(){}var de=ue.prototype;function set_set(t,e){var n=new Set;if(t instanceof Set)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Set.prototype=set_set.prototype={constructor:Set,has:de.has,add:function(t){return this[ce+(t+="")]=t,this},remove:de.remove,clear:de.clear,values:de.keys,size:de.size,empty:de.empty,each:de.each};const he=set_set;function keys(t){var e=[];for(var n in t)e.push(n);return e}function values(t){var e=[];for(var n in t)e.push(t[n]);return e}function entries(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var fe=Math.PI/180,pe=180/Math.PI,ge=.96422,me=1,_e=.82521,ye=4/29,ve=6/29,xe=3*ve*ve,be=ve*ve*ve;function labConvert(t){if(t instanceof Lab)return new Lab(t.l,t.a,t.b,t.opacity);if(t instanceof Hcl)return hcl2lab(t);t instanceof Rgb||(t=rgbConvert(t));var e,n,r=rgb2lrgb(t.r),i=rgb2lrgb(t.g),a=rgb2lrgb(t.b),o=xyz2lab((.2225045*r+.7168786*i+.0606169*a)/me);return r===i&&i===a?e=n=o:(e=xyz2lab((.4360747*r+.3850649*i+.1430804*a)/ge),n=xyz2lab((.0139322*r+.0971045*i+.7141733*a)/_e)),new Lab(116*o-16,500*(e-o),200*(o-n),t.opacity)}function gray(t,e){return new Lab(t,0,0,null==e?1:e)}function lab(t,e,n,r){return 1===arguments.length?labConvert(t):new Lab(t,e,n,null==r?1:r)}function Lab(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function xyz2lab(t){return t>be?Math.pow(t,1/3):t/xe+ye}function lab2xyz(t){return t>ve?t*t*t:xe*(t-ye)}function lrgb2rgb(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function rgb2lrgb(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hclConvert(t){if(t instanceof Hcl)return new Hcl(t.h,t.c,t.l,t.opacity);if(t instanceof Lab||(t=labConvert(t)),0===t.a&&0===t.b)return new Hcl(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pe;return new Hcl(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lch(t,e,n,r){return 1===arguments.length?hclConvert(t):new Hcl(n,e,t,null==r?1:r)}function hcl(t,e,n,r){return 1===arguments.length?hclConvert(t):new Hcl(t,e,n,null==r?1:r)}function Hcl(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function hcl2lab(t){if(isNaN(t.h))return new Lab(t.l,0,0,t.opacity);var e=t.h*fe;return new Lab(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}src_define(Lab,lab,extend(Color,{brighter:function(t){return new Lab(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Lab(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(e=ge*lab2xyz(e))-1.6168667*(t=me*lab2xyz(t))-.4906146*(n=_e*lab2xyz(n))),lrgb2rgb(-.9787684*e+1.9161415*t+.033454*n),lrgb2rgb(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),src_define(Hcl,hcl,extend(Color,{brighter:function(t){return new Hcl(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Hcl(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return hcl2lab(this).rgb()}}));var Se=-.14861,we=1.78277,Te=-.29227,Ce=-.90649,ke=1.97294,Ae=ke*Ce,Pe=ke*we,Me=we*Te-Ce*Se;function cubehelix_cubehelix(t,e,n,r){return 1===arguments.length?function cubehelixConvert(t){if(t instanceof Cubehelix)return new Cubehelix(t.h,t.s,t.l,t.opacity);t instanceof Rgb||(t=rgbConvert(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Me*r+Ae*e-Pe*n)/(Me+Ae-Pe),a=r-i,o=(ke*(n-i)-Te*a)/Ce,s=Math.sqrt(o*o+a*a)/(ke*i*(1-i)),l=s?Math.atan2(o,a)*pe-120:NaN;return new Cubehelix(l<0?l+360:l,s,i,t.opacity)}(t):new Cubehelix(t,e,n,null==r?1:r)}function Cubehelix(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}src_define(Cubehelix,cubehelix_cubehelix,extend(Color,{brighter:function(t){return t=null==t?Y:Math.pow(Y,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?V:Math.pow(V,t),new Cubehelix(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*fe,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rgb(255*(e+n*(Se*r+we*i)),255*(e+n*(Te*r+Ce*i)),255*(e+n*(ke*r)),this.opacity)}}));var Ie=Array.prototype.slice;function src_ascending(t,e){return t-e}function d3_contour_src_constant(t){return function(){return t}}function contains(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=ringContains(t,e[r]))return n;return 0}function ringContains(t,e){for(var n=e[0],r=e[1],i=-1,a=0,o=t.length,s=o-1;a<o;s=a++){var l=t[a],c=l[0],u=l[1],p=t[s],m=p[0],_=p[1];if(segmentContains(l,p,e))return 0;u>r!=_>r&&n<(m-c)*(r-u)/(_-u)+c&&(i=-i)}return i}function segmentContains(t,e,n){var r;return function collinear(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function within(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[r=+(t[0]===e[0])],n[r],e[r])}function src_noop(){}var Ee=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function contours(){var t=1,e=1,n=sturges,r=smoothLinear;function contours(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(src_ascending);else{var r=extent(t),i=r[0],a=r[1];e=tickStep(i,a,e),e=src_range(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return contour(t,e)}))}function contour(n,i){var a=[],o=[];return function isorings(n,r,i){var a,o,s,l,c,u,p=new Array,m=new Array;a=o=-1,l=n[0]>=r,Ee[l<<1].forEach(stitch);for(;++a<t-1;)s=l,l=n[a+1]>=r,Ee[s|l<<1].forEach(stitch);Ee[l<<0].forEach(stitch);for(;++o<e-1;){for(a=-1,l=n[o*t+t]>=r,c=n[o*t]>=r,Ee[l<<1|c<<2].forEach(stitch);++a<t-1;)s=l,l=n[o*t+t+a+1]>=r,u=c,c=n[o*t+a+1]>=r,Ee[s|l<<1|c<<2|u<<3].forEach(stitch);Ee[l|c<<3].forEach(stitch)}a=-1,c=n[o*t]>=r,Ee[c<<2].forEach(stitch);for(;++a<t-1;)u=c,c=n[o*t+a+1]>=r,Ee[c<<2|u<<3].forEach(stitch);function stitch(t){var e,n,r=[t[0][0]+a,t[0][1]+o],s=[t[1][0]+a,t[1][1]+o],l=index(r),c=index(s);(e=m[l])?(n=p[c])?(delete m[e.end],delete p[n.start],e===n?(e.ring.push(s),i(e.ring)):p[e.start]=m[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete m[e.end],e.ring.push(s),m[e.end=c]=e):(e=p[c])?(n=m[l])?(delete p[e.start],delete m[n.end],e===n?(e.ring.push(s),i(e.ring)):p[n.start]=m[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete p[e.start],e.ring.unshift(r),p[e.start=l]=e):p[l]=m[c]={start:l,end:c,ring:[r,s]}}Ee[c<<3].forEach(stitch)}(n,i,(function(t){r(t,n,i),function src_area(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?a.push([t]):o.push(t)})),o.forEach((function(t){for(var e,n=0,r=a.length;n<r;++n)if(-1!==contains((e=a[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:a}}function index(e){return 2*e[0]+e[1]*(t+1)*4}function smoothLinear(n,r,i){n.forEach((function(n){var a,o=n[0],s=n[1],l=0|o,c=0|s,u=r[c*t+l];o>0&&o<t&&l===o&&(a=r[c*t+l-1],n[0]=o+(i-a)/(u-a)-.5),s>0&&s<e&&c===s&&(a=r[(c-1)*t+l],n[1]=s+(i-a)/(u-a)-.5)}))}return contours.contour=contour,contours.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),i=Math.ceil(n[1]);if(!(r>0&&i>0))throw new Error("invalid size");return t=r,e=i,contours},contours.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?d3_contour_src_constant(Ie.call(t)):d3_contour_src_constant(t),contours):n},contours.smooth=function(t){return arguments.length?(r=t?smoothLinear:src_noop,contours):r===smoothLinear},contours}function blurX(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<i;++o)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[s+o*r]),s>=n&&(s>=a&&(l-=t.data[s-a+o*r]),e.data[s-n+o*r]=l/Math.min(s+1,r-1+a-s,a))}function blurY(t,e,n){for(var r=t.width,i=t.height,a=1+(n<<1),o=0;o<r;++o)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[o+s*r]),s>=n&&(s>=a&&(l-=t.data[o+(s-a)*r]),e.data[o+(s-n)*r]=l/Math.min(s+1,i-1+a-s,a))}function defaultX(t){return t[0]}function defaultY(t){return t[1]}function defaultWeight(){return 1}function density(){var t=defaultX,e=defaultY,n=defaultWeight,r=960,i=500,a=20,o=2,s=3*a,l=r+2*s>>o,c=i+2*s>>o,u=d3_contour_src_constant(20);function density(r){var i=new Float32Array(l*c),p=new Float32Array(l*c);r.forEach((function(r,a,u){var p=+t(r,a,u)+s>>o,m=+e(r,a,u)+s>>o,_=+n(r,a,u);p>=0&&p<l&&m>=0&&m<c&&(i[p+m*l]+=_)})),blurX({width:l,height:c,data:i},{width:l,height:c,data:p},a>>o),blurY({width:l,height:c,data:p},{width:l,height:c,data:i},a>>o),blurX({width:l,height:c,data:i},{width:l,height:c,data:p},a>>o),blurY({width:l,height:c,data:p},{width:l,height:c,data:i},a>>o),blurX({width:l,height:c,data:i},{width:l,height:c,data:p},a>>o),blurY({width:l,height:c,data:p},{width:l,height:c,data:i},a>>o);var m=u(i);if(!Array.isArray(m)){var _=max(i);m=tickStep(0,_,m),(m=src_range(0,Math.floor(_/m)*m,m)).shift()}return contours().thresholds(m).size([l,c])(i).map(transform)}function transform(t){return t.value*=Math.pow(2,-2*o),t.coordinates.forEach(transformPolygon),t}function transformPolygon(t){t.forEach(transformRing)}function transformRing(t){t.forEach(transformPoint)}function transformPoint(t){t[0]=t[0]*Math.pow(2,o)-s,t[1]=t[1]*Math.pow(2,o)-s}function resize(){return l=r+2*(s=3*a)>>o,c=i+2*s>>o,density}return density.x=function(e){return arguments.length?(t="function"==typeof e?e:d3_contour_src_constant(+e),density):t},density.y=function(t){return arguments.length?(e="function"==typeof t?t:d3_contour_src_constant(+t),density):e},density.weight=function(t){return arguments.length?(n="function"==typeof t?t:d3_contour_src_constant(+t),density):n},density.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,resize()},density.cellSize=function(t){if(!arguments.length)return 1<<o;if(!((t=+t)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(t)/Math.LN2),resize()},density.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?d3_contour_src_constant(Ie.call(t)):d3_contour_src_constant(t),density):u},density.bandwidth=function(t){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*t*t+1)-1)/2),resize()},density}function d3_drag_src_constant(t){return function(){return t}}function DragEvent(t,e,n,r,i,a,o,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=l,this._=c}function drag_defaultFilter(){return!L.ctrlKey&&!L.button}function defaultContainer(){return this.parentNode}function defaultSubject(t){return null==t?{x:L.x,y:L.y}:t}function drag_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function drag(){var t,e,n,r,i=drag_defaultFilter,a=defaultContainer,o=defaultSubject,s=drag_defaultTouchable,l={},c=P("start","drag","end"),u=0,p=0;function drag(t){t.on("mousedown.drag",mousedowned).filter(s).on("touchstart.drag",touchstarted).on("touchmove.drag",touchmoved).on("touchend.drag touchcancel.drag",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function mousedowned(){if(!r&&i.apply(this,arguments)){var o=beforestart("mouse",a.apply(this,arguments),mouse,this,arguments);o&&(src_select(L.view).on("mousemove.drag",mousemoved,!0).on("mouseup.drag",mouseupped,!0),nodrag(L.view),nopropagation(),n=!1,t=L.clientX,e=L.clientY,o("start"))}}function mousemoved(){if(noevent(),!n){var r=L.clientX-t,i=L.clientY-e;n=r*r+i*i>p}l.mouse("drag")}function mouseupped(){src_select(L.view).on("mousemove.drag mouseup.drag",null),yesdrag(L.view,n),noevent(),l.mouse("end")}function touchstarted(){if(i.apply(this,arguments)){var t,e,n=L.changedTouches,r=a.apply(this,arguments),o=n.length;for(t=0;t<o;++t)(e=beforestart(n[t].identifier,r,touch,this,arguments))&&(nopropagation(),e("start"))}}function touchmoved(){var t,e,n=L.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(noevent(),e("drag"))}function touchended(){var t,e,n=L.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(nopropagation(),e("end"))}function beforestart(t,e,n,r,i){var a,s,p,m=n(e,t),_=c.copy();if(customEvent(new DragEvent(drag,"beforestart",a,t,u,m[0],m[1],0,0,_),(function(){return null!=(L.subject=a=o.apply(r,i))&&(s=a.x-m[0]||0,p=a.y-m[1]||0,!0)})))return function gesture(o){var c,v=m;switch(o){case"start":l[t]=gesture,c=u++;break;case"end":delete l[t],--u;case"drag":m=n(e,t),c=u}customEvent(new DragEvent(drag,o,a,t,c,m[0]+s,m[1]+p,m[0]-v[0],m[1]-v[1],_),_.apply,_,[o,r,i])}}return drag.filter=function(t){return arguments.length?(i="function"==typeof t?t:d3_drag_src_constant(!!t),drag):i},drag.container=function(t){return arguments.length?(a="function"==typeof t?t:d3_drag_src_constant(t),drag):a},drag.subject=function(t){return arguments.length?(o="function"==typeof t?t:d3_drag_src_constant(t),drag):o},drag.touchable=function(t){return arguments.length?(s="function"==typeof t?t:d3_drag_src_constant(!!t),drag):s},drag.on=function(){var t=c.on.apply(c,arguments);return t===c?drag:t},drag.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,drag):Math.sqrt(p)},drag}DragEvent.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Oe={},De={},Le=34,Re=10,Ne=13;function objectConverter(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function inferColumns(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function pad(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function formatDate(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function formatYear(t){return t<0?"-"+pad(-t,6):t>9999?"+"+pad(t,6):pad(t,4)}(t.getUTCFullYear())+"-"+pad(t.getUTCMonth()+1,2)+"-"+pad(t.getUTCDate(),2)+(i?"T"+pad(e,2)+":"+pad(n,2)+":"+pad(r,2)+"."+pad(i,3)+"Z":r?"T"+pad(e,2)+":"+pad(n,2)+":"+pad(r,2)+"Z":n||e?"T"+pad(e,2)+":"+pad(n,2)+"Z":"")}function dsv(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function parseRows(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,c=!1;function token(){if(l)return De;if(c)return c=!1,Oe;var e,r,i=o;if(t.charCodeAt(i)===Le){for(;o++<a&&t.charCodeAt(o)!==Le||t.charCodeAt(++o)===Le;);return(e=o)>=a?l=!0:(r=t.charCodeAt(o++))===Re?c=!0:r===Ne&&(c=!0,t.charCodeAt(o)===Re&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if((r=t.charCodeAt(e=o++))===Re)c=!0;else if(r===Ne)c=!0,t.charCodeAt(o)===Re&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}for(t.charCodeAt(a-1)===Re&&--a,t.charCodeAt(a-1)===Ne&&--a;(r=token())!==De;){for(var u=[];r!==Oe&&r!==De;)u.push(r),r=token();e&&null==(u=e(u,s++))||i.push(u)}return i}function preformatBody(e,n){return e.map((function(e){return n.map((function(t){return formatValue(e[t])})).join(t)}))}function formatRow(e){return e.map(formatValue).join(t)}function formatValue(t){return null==t?"":t instanceof Date?formatDate(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function parse(t,e){var n,r,i=parseRows(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function customConverter(t,e){var n=objectConverter(t);return function(r,i){return e(n(r),i,t)}}(t,e):objectConverter(t)}));return i.columns=r||[],i},parseRows,format:function format(e,n){return null==n&&(n=inferColumns(e)),[n.map(formatValue).join(t)].concat(preformatBody(e,n)).join("\n")},formatBody:function formatBody(t,e){return null==e&&(e=inferColumns(t)),preformatBody(t,e).join("\n")},formatRows:function formatRows(t){return t.map(formatRow).join("\n")},formatRow,formatValue}}var je=dsv(","),Fe=je.parse,Ge=je.parseRows,Ve=je.format,Ye=je.formatBody,ze=je.formatRows,$e=je.formatRow,He=je.formatValue,Be=dsv("\t"),We=Be.parse,Ue=Be.parseRows,qe=Be.format,Xe=Be.formatBody,Ze=Be.formatRows,Qe=Be.formatRow,Ke=Be.formatValue;function autoType(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Je&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var Je=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function linear_linear(t){return+t}function quadIn(t){return t*t}function quadOut(t){return t*(2-t)}function quadInOut(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var tn=function custom(t){function polyIn(e){return Math.pow(e,t)}return t=+t,polyIn.exponent=custom,polyIn}(3),en=function custom(t){function polyOut(e){return 1-Math.pow(1-e,t)}return t=+t,polyOut.exponent=custom,polyOut}(3),nn=function custom(t){function polyInOut(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,polyInOut.exponent=custom,polyInOut}(3),rn=Math.PI,an=rn/2;function sinIn(t){return 1==+t?1:1-Math.cos(t*an)}function sinOut(t){return Math.sin(t*an)}function sinInOut(t){return(1-Math.cos(rn*t))/2}function tpmt(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function expIn(t){return tpmt(1-+t)}function expOut(t){return 1-tpmt(t)}function expInOut(t){return((t*=2)<=1?tpmt(1-t):2-tpmt(t-1))/2}function circleIn(t){return 1-Math.sqrt(1-t*t)}function circleOut(t){return Math.sqrt(1- --t*t)}function circleInOut(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var sn=4/11,ln=6/11,cn=8/11,un=3/4,dn=9/11,hn=10/11,fn=15/16,pn=21/22,gn=63/64,mn=1/sn/sn;function bounceIn(t){return 1-bounceOut(1-t)}function bounceOut(t){return(t=+t)<sn?mn*t*t:t<cn?mn*(t-=ln)*t+un:t<hn?mn*(t-=dn)*t+fn:mn*(t-=pn)*t+gn}function bounceInOut(t){return((t*=2)<=1?1-bounceOut(1-t):bounceOut(t-1)+1)/2}var _n=1.70158,yn=function custom(t){function backIn(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,backIn.overshoot=custom,backIn}(_n),vn=function custom(t){function backOut(e){return--e*e*((e+1)*t+e)+1}return t=+t,backOut.overshoot=custom,backOut}(_n),xn=function custom(t){function backInOut(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,backInOut.overshoot=custom,backInOut}(_n),bn=2*Math.PI,Sn=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=bn);function elasticIn(r){return t*tpmt(- --r)*Math.sin((n-r)/e)}return elasticIn.amplitude=function(t){return custom(t,e*bn)},elasticIn.period=function(e){return custom(t,e)},elasticIn}(1,.3),wn=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=bn);function elasticOut(r){return 1-t*tpmt(r=+r)*Math.sin((r+n)/e)}return elasticOut.amplitude=function(t){return custom(t,e*bn)},elasticOut.period=function(e){return custom(t,e)},elasticOut}(1,.3),Tn=function custom(t,e){var n=Math.asin(1/(t=Math.max(1,t)))*(e/=bn);function elasticInOut(r){return((r=2*r-1)<0?t*tpmt(-r)*Math.sin((n-r)/e):2-t*tpmt(r)*Math.sin((n+r)/e))/2}return elasticInOut.amplitude=function(t){return custom(t,e*bn)},elasticInOut.period=function(e){return custom(t,e)},elasticInOut}(1,.3);function responseBlob(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function blob(t,e){return fetch(t,e).then(responseBlob)}function responseArrayBuffer(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function buffer(t,e){return fetch(t,e).then(responseArrayBuffer)}function responseText(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function src_text(t,e){return fetch(t,e).then(responseText)}function dsvParse(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),src_text(e,n).then((function(e){return t(e,r)}))}}function dsv_dsv(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=dsv(t);return src_text(e,n).then((function(t){return i.parse(t,r)}))}var Cn=dsvParse(Fe),kn=dsvParse(We);function src_image(t,e){return new Promise((function(n,r){var i=new Image;for(var a in e)i[a]=e[a];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function responseJson(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function json(t,e){return fetch(t,e).then(responseJson)}function parser(t){return function(e,n){return src_text(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const An=parser("application/xml");var Pn=parser("text/html"),Mn=parser("image/svg+xml");function src_center(t,e){var n;function force(){var r,i,a=n.length,o=0,s=0;for(r=0;r<a;++r)o+=(i=n[r]).x,s+=i.y;for(o=o/a-t,s=s/a-e,r=0;r<a;++r)(i=n[r]).x-=o,i.y-=s}return null==t&&(t=0),null==e&&(e=0),force.initialize=function(t){n=t},force.x=function(e){return arguments.length?(t=+e,force):t},force.y=function(t){return arguments.length?(e=+t,force):e},force}function d3_force_src_constant(t){return function(){return t}}function jiggle(){return 1e-6*(Math.random()-.5)}function add_add(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,c,u,p,m,_=t._root,v={data:r},b=t._x0,S=t._y0,w=t._x1,T=t._y1;if(!_)return t._root=v,t;for(;_.length;)if((c=e>=(a=(b+w)/2))?b=a:w=a,(u=n>=(o=(S+T)/2))?S=o:T=o,i=_,!(_=_[p=u<<1|c]))return i[p]=v,t;if(s=+t._x.call(null,_.data),l=+t._y.call(null,_.data),e===s&&n===l)return v.next=_,i?i[p]=v:t._root=v,t;do{i=i?i[p]=new Array(4):t._root=new Array(4),(c=e>=(a=(b+w)/2))?b=a:w=a,(u=n>=(o=(S+T)/2))?S=o:T=o}while((p=u<<1|c)==(m=(l>=o)<<1|s>=a));return i[m]=_,i[p]=v,t}function quad(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function x_defaultX(t){return t[0]}function y_defaultY(t){return t[1]}function quadtree(t,e,n){var r=new Quadtree(null==e?x_defaultX:e,null==n?y_defaultY:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Quadtree(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function leaf_copy(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var In=quadtree.prototype=Quadtree.prototype;function collide_x(t){return t.x+t.vx}function collide_y(t){return t.y+t.vy}function collide(t){var e,n,r=1,i=1;function force(){for(var t,a,o,s,l,c,u,p=e.length,m=0;m<i;++m)for(a=quadtree(e,collide_x,collide_y).visitAfter(prepare),t=0;t<p;++t)o=e[t],c=n[o.index],u=c*c,s=o.x+o.vx,l=o.y+o.vy,a.visit(apply);function apply(t,e,n,i,a){var p=t.data,m=t.r,_=c+m;if(!p)return e>s+_||i<s-_||n>l+_||a<l-_;if(p.index>o.index){var v=s-p.x-p.vx,b=l-p.y-p.vy,S=v*v+b*b;S<_*_&&(0===v&&(S+=(v=jiggle())*v),0===b&&(S+=(b=jiggle())*b),S=(_-(S=Math.sqrt(S)))/S*r,o.vx+=(v*=S)*(_=(m*=m)/(u+m)),o.vy+=(b*=S)*_,p.vx-=v*(_=1-_),p.vy-=b*_)}}}function prepare(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function initialize(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=d3_force_src_constant(null==t?1:+t)),force.initialize=function(t){e=t,initialize()},force.iterations=function(t){return arguments.length?(i=+t,force):i},force.strength=function(t){return arguments.length?(r=+t,force):r},force.radius=function(e){return arguments.length?(t="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):t},force}function index(t){return t.index}function link_find(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function src_link(t){var e,n,r,i,a,o=index,s=function defaultStrength(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=d3_force_src_constant(30),c=1;function force(r){for(var i=0,o=t.length;i<c;++i)for(var s,l,u,p,m,_,v,b=0;b<o;++b)l=(s=t[b]).source,p=(u=s.target).x+u.vx-l.x-l.vx||jiggle(),m=u.y+u.vy-l.y-l.vy||jiggle(),p*=_=((_=Math.sqrt(p*p+m*m))-n[b])/_*r*e[b],m*=_,u.vx-=p*(v=a[b]),u.vy-=m*v,l.vx+=p*(v=1-v),l.vy+=m*v}function initialize(){if(r){var s,l,c=r.length,u=t.length,p=ue(r,o);for(s=0,i=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=link_find(p,l.source)),"object"!=typeof l.target&&(l.target=link_find(p,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,a=new Array(u);s<u;++s)l=t[s],a[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),initializeStrength(),n=new Array(u),initializeDistance()}}function initializeStrength(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function initializeDistance(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),force.initialize=function(t){r=t,initialize()},force.links=function(e){return arguments.length?(t=e,initialize(),force):t},force.id=function(t){return arguments.length?(o=t,force):o},force.iterations=function(t){return arguments.length?(c=+t,force):c},force.strength=function(t){return arguments.length?(s="function"==typeof t?t:d3_force_src_constant(+t),initializeStrength(),force):s},force.distance=function(t){return arguments.length?(l="function"==typeof t?t:d3_force_src_constant(+t),initializeDistance(),force):l},force}function simulation_x(t){return t.x}function simulation_y(t){return t.y}In.copy=function(){var t,e,n=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=leaf_copy(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=leaf_copy(e));return n},In.add=function add(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return add_add(this.cover(e,n),e,n,t)},In.addAll=function addAll(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,u=-1/0,p=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>p&&(p=i));if(l>u||c>p)return this;for(this.cover(l,c).cover(u,p),n=0;n<a;++n)add_add(this,o[n],s[n],t[n]);return this},In.cover=function cover(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,l=i-n,c=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},In.data=function src_data(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},In.extent=function src_extent(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},In.find=function find(t,e,n){var r,i,a,o,s,l,c,u=this._x0,p=this._y0,m=this._x1,_=this._y1,v=[],b=this._root;for(b&&v.push(new quad(b,u,p,m,_)),null==n?n=1/0:(u=t-n,p=e-n,m=t+n,_=e+n,n*=n);l=v.pop();)if(!(!(b=l.node)||(i=l.x0)>m||(a=l.y0)>_||(o=l.x1)<u||(s=l.y1)<p))if(b.length){var S=(i+o)/2,w=(a+s)/2;v.push(new quad(b[3],S,w,o,s),new quad(b[2],i,w,S,s),new quad(b[1],S,a,o,w),new quad(b[0],i,a,S,w)),(c=(e>=w)<<1|t>=S)&&(l=v[v.length-1],v[v.length-1]=v[v.length-1-c],v[v.length-1-c]=l)}else{var T=t-+this._x.call(null,b.data),C=e-+this._y.call(null,b.data),A=T*T+C*C;if(A<n){var P=Math.sqrt(n=A);u=t-P,p=e-P,m=t+P,_=e+P,r=b.data}}return r},In.remove=function src_remove(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,c,u,p,m,_=this._root,v=this._x0,b=this._y0,S=this._x1,w=this._y1;if(!_)return this;if(_.length)for(;;){if((c=a>=(s=(v+S)/2))?v=s:S=s,(u=o>=(l=(b+w)/2))?b=l:w=l,e=_,!(_=_[p=u<<1|c]))return this;if(!_.length)break;(e[p+1&3]||e[p+2&3]||e[p+3&3])&&(n=e,m=p)}for(;_.data!==t;)if(r=_,!(_=_.next))return this;return(i=_.next)&&delete _.next,r?(i?r.next=i:delete r.next,this):e?(i?e[p]=i:delete e[p],(_=e[0]||e[1]||e[2]||e[3])&&_===(e[3]||e[2]||e[1]||e[0])&&!_.length&&(n?n[m]=_:this._root=_),this):(this._root=i,this)},In.removeAll=function removeAll(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},In.root=function src_root(){return this._root},In.size=function src_size(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},In.visit=function visit(t){var e,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new quad(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var c=(r+a)/2,u=(i+o)/2;(n=l[3])&&s.push(new quad(n,c,u,a,o)),(n=l[2])&&s.push(new quad(n,r,u,c,o)),(n=l[1])&&s.push(new quad(n,c,i,a,u)),(n=l[0])&&s.push(new quad(n,r,i,c,u))}return this},In.visitAfter=function visitAfter(t){var e,n=[],r=[];for(this._root&&n.push(new quad(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(o+l)/2,p=(s+c)/2;(a=i[0])&&n.push(new quad(a,o,s,u,p)),(a=i[1])&&n.push(new quad(a,u,s,l,p)),(a=i[2])&&n.push(new quad(a,o,p,u,c)),(a=i[3])&&n.push(new quad(a,u,p,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},In.x=function x(t){return arguments.length?(this._x=t,this):this._x},In.y=function y(t){return arguments.length?(this._y=t,this):this._y};var En=10,On=Math.PI*(3-Math.sqrt(5));function simulation(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=ue(),l=timer(step),c=P("tick","end");function step(){tick(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function tick(r){var l,c,u=t.length;void 0===r&&(r=1);for(var p=0;p<r;++p)for(n+=(a-n)*i,s.each((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function initializeNodes(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=En*Math.sqrt(n),a=n*On;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function initializeForce(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),initializeNodes(),e={tick,restart:function(){return l.restart(step),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,initializeNodes(),s.each(initializeForce),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,initializeForce(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(o=(i=e-(s=t[c]).x)*i+(a=n-s.y)*a)<r&&(l=s,r=o);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function manyBody(){var t,e,n,r,i=d3_force_src_constant(-30),a=1,o=1/0,s=.81;function force(r){var i,a=t.length,o=quadtree(t,simulation_x,simulation_y).visitAfter(accumulate);for(n=r,i=0;i<a;++i)e=t[i],o.visit(apply)}function initialize(){if(t){var e,n,a=t.length;for(r=new Array(a),e=0;e<a;++e)n=t[e],r[n.index]=+i(n,e,t)}}function accumulate(t){var e,n,i,a,o,s=0,l=0;if(t.length){for(i=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,a+=n*e.y);t.x=i/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function apply(t,i,l,c){if(!t.value)return!0;var u=t.x-e.x,p=t.y-e.y,m=c-i,_=u*u+p*p;if(m*m/s<_)return _<o&&(0===u&&(_+=(u=jiggle())*u),0===p&&(_+=(p=jiggle())*p),_<a&&(_=Math.sqrt(a*_)),e.vx+=u*t.value*n/_,e.vy+=p*t.value*n/_),!0;if(!(t.length||_>=o)){(t.data!==e||t.next)&&(0===u&&(_+=(u=jiggle())*u),0===p&&(_+=(p=jiggle())*p),_<a&&(_=Math.sqrt(a*_)));do{t.data!==e&&(m=r[t.data.index]*n/_,e.vx+=u*m,e.vy+=p*m)}while(t=t.next)}}return force.initialize=function(e){t=e,initialize()},force.strength=function(t){return arguments.length?(i="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):i},force.distanceMin=function(t){return arguments.length?(a=t*t,force):Math.sqrt(a)},force.distanceMax=function(t){return arguments.length?(o=t*t,force):Math.sqrt(o)},force.theta=function(t){return arguments.length?(s=t*t,force):Math.sqrt(s)},force}function radial(t,e,n){var r,i,a,o=d3_force_src_constant(.1);function force(t){for(var o=0,s=r.length;o<s;++o){var l=r[o],c=l.x-e||1e-6,u=l.y-n||1e-6,p=Math.sqrt(c*c+u*u),m=(a[o]-p)*i[o]*t/p;l.vx+=c*m,l.vy+=u*m}}function initialize(){if(r){var e,n=r.length;for(i=new Array(n),a=new Array(n),e=0;e<n;++e)a[e]=+t(r[e],e,r),i[e]=isNaN(a[e])?0:+o(r[e],e,r)}}return"function"!=typeof t&&(t=d3_force_src_constant(+t)),null==e&&(e=0),null==n&&(n=0),force.initialize=function(t){r=t,initialize()},force.strength=function(t){return arguments.length?(o="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):o},force.radius=function(e){return arguments.length?(t="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):t},force.x=function(t){return arguments.length?(e=+t,force):e},force.y=function(t){return arguments.length?(n=+t,force):n},force}function src_x(t){var e,n,r,i=d3_force_src_constant(.1);function force(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vx+=(r[a]-i.x)*n[a]*t}function initialize(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=d3_force_src_constant(null==t?0:+t)),force.initialize=function(t){e=t,initialize()},force.strength=function(t){return arguments.length?(i="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):i},force.x=function(e){return arguments.length?(t="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):t},force}function src_y(t){var e,n,r,i=d3_force_src_constant(.1);function force(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vy+=(r[a]-i.y)*n[a]*t}function initialize(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=d3_force_src_constant(null==t?0:+t)),force.initialize=function(t){e=t,initialize()},force.strength=function(t){return arguments.length?(i="function"==typeof t?t:d3_force_src_constant(+t),initialize(),force):i},force.y=function(e){return arguments.length?(t="function"==typeof e?e:d3_force_src_constant(+e),initialize(),force):t},force}function formatDecimalParts(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function src_exponent(t){return(t=formatDecimalParts(Math.abs(t)))?t[1]:NaN}var Dn,Ln=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(t){if(!(e=Ln.exec(t)))throw new Error("invalid format: "+t);var e;return new FormatSpecifier({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function FormatSpecifier(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function formatRounded(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Rn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function formatDecimal(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return formatRounded(100*t,e)},r:formatRounded,s:function formatPrefixAuto(t,e){var n=formatDecimalParts(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Dn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+formatDecimalParts(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function d3_format_src_identity(t){return t}var Nn,jn,Fn,Gn=Array.prototype.map,Vn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function locale(t){var e=void 0===t.grouping||void 0===t.thousands?d3_format_src_identity:function formatGroup(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}(Gn.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?d3_format_src_identity:function formatNumerals(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Gn.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function newFormat(t){var c=(t=formatSpecifier(t)).fill,u=t.align,p=t.sign,m=t.symbol,_=t.zero,v=t.width,b=t.comma,S=t.precision,w=t.trim,T=t.type;"n"===T?(b=!0,T="g"):Rn[T]||(void 0===S&&(S=12),w=!0,T="g"),(_||"0"===c&&"="===u)&&(_=!0,c="0",u="=");var C="$"===m?n:"#"===m&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",A="$"===m?r:/[%p]/.test(T)?o:"",P=Rn[T],M=/[defgprs%]/.test(T);function format(t){var n,r,o,m=C,I=A;if("c"===T)I=P(t)+I,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:P(Math.abs(t),S),w&&(t=function formatTrim(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==p&&(E=!1),m=(E?"("===p?p:s:"-"===p||"("===p?"":p)+m,I=("s"===T?Vn[8+Dn/3]:"")+I+(E&&"("===p?")":""),M)for(n=-1,r=t.length;++n<r;)if(48>(o=t.charCodeAt(n))||o>57){I=(46===o?i+t.slice(n+1):t.slice(n))+I,t=t.slice(0,n);break}}b&&!_&&(t=e(t,1/0));var O=m.length+t.length+I.length,D=O<v?new Array(v-O+1).join(c):"";switch(b&&_&&(t=e(D+t,D.length?v-I.length:1/0),D=""),u){case"<":t=m+t+I+D;break;case"=":t=m+D+t+I;break;case"^":t=D.slice(0,O=D.length>>1)+m+t+I+D.slice(O);break;default:t=D+m+t+I}return a(t)}return S=void 0===S?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S)),format.toString=function(){return t+""},format}return{format:newFormat,formatPrefix:function formatPrefix(t,e){var n=newFormat(((t=formatSpecifier(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(src_exponent(e)/3))),i=Math.pow(10,-r),a=Vn[8+r/3];return function(t){return n(i*t)+a}}}}function defaultLocale(t){return Nn=locale(t),jn=Nn.format,Fn=Nn.formatPrefix,Nn}function precisionFixed(t){return Math.max(0,-src_exponent(Math.abs(t)))}function precisionPrefix(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(src_exponent(e)/3)))-src_exponent(Math.abs(t)))}function precisionRound(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,src_exponent(e)-src_exponent(t))+1}function adder(){return new Adder}function Adder(){this.reset()}defaultLocale({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Adder.prototype={constructor:Adder,reset:function(){this.s=this.t=0},add:function(t){adder_add(Yn,t,this.t),adder_add(this,Yn.s,this.s),this.s?this.t+=Yn.t:this.s=Yn.t},valueOf:function(){return this.s}};var Yn=new Adder;function adder_add(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var zn=1e-6,$n=1e-12,Hn=Math.PI,Bn=Hn/2,Wn=Hn/4,Un=2*Hn,qn=180/Hn,Xn=Hn/180,Zn=Math.abs,Qn=Math.atan,Kn=Math.atan2,Jn=Math.cos,tr=Math.ceil,er=Math.exp,nr=(Math.floor,Math.log),rr=Math.pow,ir=Math.sin,ar=Math.sign||function(t){return t>0?1:t<0?-1:0},or=Math.sqrt,sr=Math.tan;function acos(t){return t>1?0:t<-1?Hn:Math.acos(t)}function asin(t){return t>1?Bn:t<-1?-Bn:Math.asin(t)}function haversin(t){return(t=ir(t/2))*t}function noop_noop(){}function streamGeometry(t,e){t&&cr.hasOwnProperty(t.type)&&cr[t.type](t,e)}var lr={Feature:function(t,e){streamGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)streamGeometry(n[r].geometry,e)}},cr={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){streamLine(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)streamLine(n[r],e,0)},Polygon:function(t,e){streamPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)streamPolygon(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)streamGeometry(n[r],e)}};function streamLine(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function streamPolygon(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)streamLine(t[n],e,1);e.polygonEnd()}function stream(t,e){t&&lr.hasOwnProperty(t.type)?lr[t.type](t,e):streamGeometry(t,e)}var ur,dr,hr,fr,pr,gr=adder(),mr=adder(),_r={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){gr.reset(),_r.lineStart=areaRingStart,_r.lineEnd=areaRingEnd},polygonEnd:function(){var t=+gr;mr.add(t<0?Un+t:t),this.lineStart=this.lineEnd=this.point=noop_noop},sphere:function(){mr.add(Un)}};function areaRingStart(){_r.point=areaPointFirst}function areaRingEnd(){areaPoint(ur,dr)}function areaPointFirst(t,e){_r.point=areaPoint,ur=t,dr=e,hr=t*=Xn,fr=Jn(e=(e*=Xn)/2+Wn),pr=ir(e)}function areaPoint(t,e){var n=(t*=Xn)-hr,r=n>=0?1:-1,i=r*n,a=Jn(e=(e*=Xn)/2+Wn),o=ir(e),s=pr*o,l=fr*a+s*Jn(i),c=s*r*ir(i);gr.add(Kn(c,l)),hr=t,fr=a,pr=o}function d3_geo_src_area(t){return mr.reset(),stream(t,_r),2*mr}function spherical(t){return[Kn(t[1],t[0]),asin(t[2])]}function cartesian(t){var e=t[0],n=t[1],r=Jn(n);return[r*Jn(e),r*ir(e),ir(n)]}function cartesianDot(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cartesianCross(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function cartesianAddInPlace(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cartesianScale(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function cartesianNormalizeInPlace(t){var e=or(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var yr,vr,xr,br,Sr,wr,Tr,Cr,kr,Ar,Pr,Mr,Ir,Er,Or,Dr,Lr,Rr,Nr,jr,Fr,Gr,Vr,Yr,zr,$r,Hr=adder(),Br={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){Br.point=boundsRingPoint,Br.lineStart=boundsRingStart,Br.lineEnd=boundsRingEnd,Hr.reset(),_r.polygonStart()},polygonEnd:function(){_r.polygonEnd(),Br.point=boundsPoint,Br.lineStart=boundsLineStart,Br.lineEnd=boundsLineEnd,gr<0?(yr=-(xr=180),vr=-(br=90)):Hr>zn?br=90:Hr<-zn&&(vr=-90),Ar[0]=yr,Ar[1]=xr},sphere:function(){yr=-(xr=180),vr=-(br=90)}};function boundsPoint(t,e){kr.push(Ar=[yr=t,xr=t]),e<vr&&(vr=e),e>br&&(br=e)}function linePoint(t,e){var n=cartesian([t*Xn,e*Xn]);if(Cr){var r=cartesianCross(Cr,n),i=cartesianCross([r[1],-r[0],0],r);cartesianNormalizeInPlace(i),i=spherical(i);var a,o=t-Sr,s=o>0?1:-1,l=i[0]*qn*s,c=Zn(o)>180;c^(s*Sr<l&&l<s*t)?(a=i[1]*qn)>br&&(br=a):c^(s*Sr<(l=(l+360)%360-180)&&l<s*t)?(a=-i[1]*qn)<vr&&(vr=a):(e<vr&&(vr=e),e>br&&(br=e)),c?t<Sr?angle(yr,t)>angle(yr,xr)&&(xr=t):angle(t,xr)>angle(yr,xr)&&(yr=t):xr>=yr?(t<yr&&(yr=t),t>xr&&(xr=t)):t>Sr?angle(yr,t)>angle(yr,xr)&&(xr=t):angle(t,xr)>angle(yr,xr)&&(yr=t)}else kr.push(Ar=[yr=t,xr=t]);e<vr&&(vr=e),e>br&&(br=e),Cr=n,Sr=t}function boundsLineStart(){Br.point=linePoint}function boundsLineEnd(){Ar[0]=yr,Ar[1]=xr,Br.point=boundsPoint,Cr=null}function boundsRingPoint(t,e){if(Cr){var n=t-Sr;Hr.add(Zn(n)>180?n+(n>0?360:-360):n)}else wr=t,Tr=e;_r.point(t,e),linePoint(t,e)}function boundsRingStart(){_r.lineStart()}function boundsRingEnd(){boundsRingPoint(wr,Tr),_r.lineEnd(),Zn(Hr)>zn&&(yr=-(xr=180)),Ar[0]=yr,Ar[1]=xr,Cr=null}function angle(t,e){return(e-=t)<0?e+360:e}function rangeCompare(t,e){return t[0]-e[0]}function rangeContains(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function bounds(t){var e,n,r,i,a,o,s;if(br=xr=-(yr=vr=1/0),kr=[],stream(t,Br),n=kr.length){for(kr.sort(rangeCompare),e=1,a=[r=kr[0]];e<n;++e)rangeContains(r,(i=kr[e])[0])||rangeContains(r,i[1])?(angle(r[0],i[1])>angle(r[0],r[1])&&(r[1]=i[1]),angle(i[0],r[1])>angle(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=angle(r[1],i[0]))>o&&(o=s,yr=i[0],xr=r[1])}return kr=Ar=null,yr===1/0||vr===1/0?[[NaN,NaN],[NaN,NaN]]:[[yr,vr],[xr,br]]}var Wr={sphere:noop_noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){Wr.lineStart=centroidRingStart,Wr.lineEnd=centroidRingEnd},polygonEnd:function(){Wr.lineStart=centroidLineStart,Wr.lineEnd=centroidLineEnd}};function centroidPoint(t,e){t*=Xn;var n=Jn(e*=Xn);centroidPointCartesian(n*Jn(t),n*ir(t),ir(e))}function centroidPointCartesian(t,e,n){++Pr,Ir+=(t-Ir)/Pr,Er+=(e-Er)/Pr,Or+=(n-Or)/Pr}function centroidLineStart(){Wr.point=centroidLinePointFirst}function centroidLinePointFirst(t,e){t*=Xn;var n=Jn(e*=Xn);Yr=n*Jn(t),zr=n*ir(t),$r=ir(e),Wr.point=centroidLinePoint,centroidPointCartesian(Yr,zr,$r)}function centroidLinePoint(t,e){t*=Xn;var n=Jn(e*=Xn),r=n*Jn(t),i=n*ir(t),a=ir(e),o=Kn(or((o=zr*a-$r*i)*o+(o=$r*r-Yr*a)*o+(o=Yr*i-zr*r)*o),Yr*r+zr*i+$r*a);Mr+=o,Dr+=o*(Yr+(Yr=r)),Lr+=o*(zr+(zr=i)),Rr+=o*($r+($r=a)),centroidPointCartesian(Yr,zr,$r)}function centroidLineEnd(){Wr.point=centroidPoint}function centroidRingStart(){Wr.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(Gr,Vr),Wr.point=centroidPoint}function centroidRingPointFirst(t,e){Gr=t,Vr=e,t*=Xn,e*=Xn,Wr.point=centroidRingPoint;var n=Jn(e);Yr=n*Jn(t),zr=n*ir(t),$r=ir(e),centroidPointCartesian(Yr,zr,$r)}function centroidRingPoint(t,e){t*=Xn;var n=Jn(e*=Xn),r=n*Jn(t),i=n*ir(t),a=ir(e),o=zr*a-$r*i,s=$r*r-Yr*a,l=Yr*i-zr*r,c=or(o*o+s*s+l*l),u=asin(c),p=c&&-u/c;Nr+=p*o,jr+=p*s,Fr+=p*l,Mr+=u,Dr+=u*(Yr+(Yr=r)),Lr+=u*(zr+(zr=i)),Rr+=u*($r+($r=a)),centroidPointCartesian(Yr,zr,$r)}function centroid(t){Pr=Mr=Ir=Er=Or=Dr=Lr=Rr=Nr=jr=Fr=0,stream(t,Wr);var e=Nr,n=jr,r=Fr,i=e*e+n*n+r*r;return i<$n&&(e=Dr,n=Lr,r=Rr,Mr<zn&&(e=Ir,n=Er,r=Or),(i=e*e+n*n+r*r)<$n)?[NaN,NaN]:[Kn(n,e)*qn,asin(r/or(i))*qn]}function d3_geo_src_constant(t){return function(){return t}}function compose(t,e){function compose(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(compose.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),compose}function rotationIdentity(t,e){return[Zn(t)>Hn?t+Math.round(-t/Un)*Un:t,e]}function rotateRadians(t,e,n){return(t%=Un)?e||n?compose(rotationLambda(t),rotationPhiGamma(e,n)):rotationLambda(t):e||n?rotationPhiGamma(e,n):rotationIdentity}function forwardRotationLambda(t){return function(e,n){return[(e+=t)>Hn?e-Un:e<-Hn?e+Un:e,n]}}function rotationLambda(t){var e=forwardRotationLambda(t);return e.invert=forwardRotationLambda(-t),e}function rotationPhiGamma(t,e){var n=Jn(t),r=ir(t),i=Jn(e),a=ir(e);function rotation(t,e){var o=Jn(e),s=Jn(t)*o,l=ir(t)*o,c=ir(e),u=c*n+s*r;return[Kn(l*i-u*a,s*n-c*r),asin(u*i+l*a)]}return rotation.invert=function(t,e){var o=Jn(e),s=Jn(t)*o,l=ir(t)*o,c=ir(e),u=c*i-l*a;return[Kn(l*i+c*a,s*n+u*r),asin(u*n-s*r)]},rotation}function rotation(t){function forward(e){return(e=t(e[0]*Xn,e[1]*Xn))[0]*=qn,e[1]*=qn,e}return t=rotateRadians(t[0]*Xn,t[1]*Xn,t.length>2?t[2]*Xn:0),forward.invert=function(e){return(e=t.invert(e[0]*Xn,e[1]*Xn))[0]*=qn,e[1]*=qn,e},forward}function circleStream(t,e,n,r,i,a){if(n){var o=Jn(e),s=ir(e),l=r*n;null==i?(i=e+r*Un,a=e-l/2):(i=circleRadius(o,i),a=circleRadius(o,a),(r>0?i<a:i>a)&&(i+=r*Un));for(var c,u=i;r>0?u>a:u<a;u-=l)c=spherical([o,-s*Jn(u),-s*ir(u)]),t.point(c[0],c[1])}}function circleRadius(t,e){(e=cartesian(e))[0]-=t,cartesianNormalizeInPlace(e);var n=acos(-e[1]);return((-e[2]<0?-n:n)+Un-zn)%Un}function circle(){var t,e,n=d3_geo_src_constant([0,0]),r=d3_geo_src_constant(90),i=d3_geo_src_constant(6),a={point:function point(n,r){t.push(n=e(n,r)),n[0]*=qn,n[1]*=qn}};function circle(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*Xn,l=i.apply(this,arguments)*Xn;return t=[],e=rotateRadians(-o[0]*Xn,-o[1]*Xn,0).invert,circleStream(a,s,l,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return circle.center=function(t){return arguments.length?(n="function"==typeof t?t:d3_geo_src_constant([+t[0],+t[1]]),circle):n},circle.radius=function(t){return arguments.length?(r="function"==typeof t?t:d3_geo_src_constant(+t),circle):r},circle.precision=function(t){return arguments.length?(i="function"==typeof t?t:d3_geo_src_constant(+t),circle):i},circle}function clip_buffer(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:noop_noop,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function pointEqual(t,e){return Zn(t[0]-e[0])<zn&&Zn(t[1]-e[1])<zn}function Intersection(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rejoin(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(pointEqual(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2*zn}s.push(n=new Intersection(r,t,null,!0)),l.push(n.o=new Intersection(r,null,n,!1)),s.push(n=new Intersection(o,t,null,!1)),l.push(n.o=new Intersection(o,null,n,!0))}})),s.length){for(l.sort(e),rejoin_link(s),rejoin_link(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,u,p=s[0];;){for(var m=p,_=!0;m.v;)if((m=m.n)===p)return;c=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(_)for(a=0,o=c.length;a<o;++a)i.point((u=c[a])[0],u[1]);else r(m.x,m.n.x,1,i);m=m.n}else{if(_)for(c=m.p.z,a=c.length-1;a>=0;--a)i.point((u=c[a])[0],u[1]);else r(m.x,m.p.x,-1,i);m=m.p}c=(m=m.o).z,_=!_}while(!m.v);i.lineEnd()}}}function rejoin_link(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}rotationIdentity.invert=rotationIdentity;var Ur=adder();function longitude(t){return Zn(t[0])<=Hn?t[0]:ar(t[0])*((Zn(t[0])+Hn)%Un-Hn)}function polygonContains(t,e){var n=longitude(e),r=e[1],i=ir(r),a=[ir(n),-Jn(n),0],o=0,s=0;Ur.reset(),1===i?r=Bn+zn:-1===i&&(r=-Bn-zn);for(var l=0,c=t.length;l<c;++l)if(p=(u=t[l]).length)for(var u,p,m=u[p-1],_=longitude(m),v=m[1]/2+Wn,b=ir(v),S=Jn(v),w=0;w<p;++w,_=C,b=P,S=M,m=T){var T=u[w],C=longitude(T),A=T[1]/2+Wn,P=ir(A),M=Jn(A),I=C-_,E=I>=0?1:-1,O=E*I,D=O>Hn,L=b*P;if(Ur.add(Kn(L*E*ir(O),S*M+L*Jn(O))),o+=D?I+E*Un:I,D^_>=n^C>=n){var R=cartesianCross(cartesian(m),cartesian(T));cartesianNormalizeInPlace(R);var N=cartesianCross(a,R);cartesianNormalizeInPlace(N);var F=(D^I>=0?-1:1)*asin(N[2]);(r>F||r===F&&(R[0]||R[1]))&&(s+=D^I>=0?1:-1)}}return(o<-zn||o<zn&&Ur<-zn)^1&s}function clip(t,e,n,r){return function(i){var a,o,s,l=e(i),c=clip_buffer(),u=e(c),p=!1,m={point,lineStart,lineEnd,polygonStart:function(){m.point=pointRing,m.lineStart=ringStart,m.lineEnd=ringEnd,o=[],a=[]},polygonEnd:function(){m.point=point,m.lineStart=lineStart,m.lineEnd=lineEnd,o=merge(o);var t=polygonContains(a,r);o.length?(p||(i.polygonStart(),p=!0),rejoin(o,compareIntersection,t,n,i)):t&&(p||(i.polygonStart(),p=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function point(e,n){t(e,n)&&i.point(e,n)}function pointLine(t,e){l.point(t,e)}function lineStart(){m.point=pointLine,l.lineStart()}function lineEnd(){m.point=point,l.lineEnd()}function pointRing(t,e){s.push([t,e]),u.point(t,e)}function ringStart(){u.lineStart(),s=[]}function ringEnd(){pointRing(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),m=c.result(),_=m.length;if(s.pop(),a.push(s),s=null,_)if(1&l){if((e=(n=m[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else _>1&&2&l&&m.push(m.pop().concat(m.shift())),o.push(m.filter(validSegment))}return m}}function validSegment(t){return t.length>1}function compareIntersection(t,e){return((t=t.x)[0]<0?t[1]-Bn-zn:Bn-t[1])-((e=e.x)[0]<0?e[1]-Bn-zn:Bn-e[1])}const qr=clip((function(){return!0}),(function clipAntimeridianLine(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Hn:-Hn,l=Zn(a-n);Zn(l-Hn)<zn?(t.point(n,r=(r+o)/2>0?Bn:-Bn),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=Hn&&(Zn(n-i)<zn&&(n-=i*zn),Zn(a-s)<zn&&(a-=s*zn),r=function clipAntimeridianIntersect(t,e,n,r){var i,a,o=ir(t-n);return Zn(o)>zn?Qn((ir(e)*(a=Jn(r))*ir(n)-ir(r)*(i=Jn(e))*ir(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function clipAntimeridianInterpolate(t,e,n,r){var i;if(null==t)i=n*Bn,r.point(-Hn,i),r.point(0,i),r.point(Hn,i),r.point(Hn,0),r.point(Hn,-i),r.point(0,-i),r.point(-Hn,-i),r.point(-Hn,0),r.point(-Hn,i);else if(Zn(t[0]-e[0])>zn){var a=t[0]<e[0]?Hn:-Hn;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Hn,-Bn]);function clip_circle(t){var e=Jn(t),n=6*Xn,r=e>0,i=Zn(e)>zn;function visible(t,n){return Jn(t)*Jn(n)>e}function intersect(t,n,r){var i=[1,0,0],a=cartesianCross(cartesian(t),cartesian(n)),o=cartesianDot(a,a),s=a[0],l=o-s*s;if(!l)return!r&&t;var c=e*o/l,u=-e*s/l,p=cartesianCross(i,a),m=cartesianScale(i,c);cartesianAddInPlace(m,cartesianScale(a,u));var _=p,v=cartesianDot(m,_),b=cartesianDot(_,_),S=v*v-b*(cartesianDot(m,m)-1);if(!(S<0)){var w=or(S),T=cartesianScale(_,(-v-w)/b);if(cartesianAddInPlace(T,m),T=spherical(T),!r)return T;var C,A=t[0],P=n[0],M=t[1],I=n[1];P<A&&(C=A,A=P,P=C);var E=P-A,O=Zn(E-Hn)<zn;if(!O&&I<M&&(C=M,M=I,I=C),O||E<zn?O?M+I>0^T[1]<(Zn(T[0]-A)<zn?M:I):M<=T[1]&&T[1]<=I:E>Hn^(A<=T[0]&&T[0]<=P)){var D=cartesianScale(_,(-v+w)/b);return cartesianAddInPlace(D,m),[T,spherical(D)]}}}function code(e,n){var i=r?t:Hn-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return clip(visible,(function clipLine(t){var e,n,a,o,s;return{lineStart:function(){o=a=!1,s=1},point:function(l,c){var u,p=[l,c],m=visible(l,c),_=r?m?0:code(l,c):m?code(l+(l<0?Hn:-Hn),c):0;if(!e&&(o=a=m)&&t.lineStart(),m!==a&&(!(u=intersect(e,p))||pointEqual(e,u)||pointEqual(p,u))&&(p[2]=1),m!==a)s=0,m?(t.lineStart(),u=intersect(p,e),t.point(u[0],u[1])):(u=intersect(e,p),t.point(u[0],u[1],2),t.lineEnd()),e=u;else if(i&&e&&r^m){var v;_&n||!(v=intersect(p,e,!0))||(s=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1],3)))}!m||e&&pointEqual(e,p)||t.point(p[0],p[1]),e=p,a=m,n=_},lineEnd:function(){a&&t.lineEnd(),e=null},clean:function(){return s|(o&&a)<<1}}}),(function interpolate(e,r,i,a){circleStream(a,t,n,i,e,r)}),r?[0,-t]:[-Hn,t-Hn])}var Xr=1e9,Zr=-Xr;function clipRectangle(t,e,n,r){function visible(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function interpolate(i,a,o,s){var l=0,c=0;if(null==i||(l=corner(i,o))!==(c=corner(a,o))||comparePoint(i,a)<0^o>0)do{s.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+o+4)%4)!==c);else s.point(a[0],a[1])}function corner(r,i){return Zn(r[0]-t)<zn?i>0?0:3:Zn(r[0]-n)<zn?i>0?2:1:Zn(r[1]-e)<zn?i>0?1:0:i>0?3:2}function compareIntersection(t,e){return comparePoint(t.x,e.x)}function comparePoint(t,e){var n=corner(t,1),r=corner(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(i){var a,o,s,l,c,u,p,m,_,v,b,S=i,w=clip_buffer(),T={point,lineStart:function lineStart(){T.point=linePoint,o&&o.push(s=[]);v=!0,_=!1,p=m=NaN},lineEnd:function lineEnd(){a&&(linePoint(l,c),u&&_&&w.rejoin(),a.push(w.result()));T.point=point,_&&S.lineEnd()},polygonStart:function polygonStart(){S=w,a=[],o=[],b=!0},polygonEnd:function polygonEnd(){var e=function polygonInside(){for(var e=0,n=0,i=o.length;n<i;++n)for(var a,s,l=o[n],c=1,u=l.length,p=l[0],m=p[0],_=p[1];c<u;++c)a=m,s=_,m=(p=l[c])[0],_=p[1],s<=r?_>r&&(m-a)*(r-s)>(_-s)*(t-a)&&++e:_<=r&&(m-a)*(r-s)<(_-s)*(t-a)&&--e;return e}(),n=b&&e,l=(a=merge(a)).length;(n||l)&&(i.polygonStart(),n&&(i.lineStart(),interpolate(null,null,1,i),i.lineEnd()),l&&rejoin(a,compareIntersection,e,interpolate,i),i.polygonEnd());S=i,a=o=s=null}};function point(t,e){visible(t,e)&&S.point(t,e)}function linePoint(i,a){var w=visible(i,a);if(o&&s.push([i,a]),v)l=i,c=a,u=w,v=!1,w&&(S.lineStart(),S.point(i,a));else if(w&&_)S.point(i,a);else{var T=[p=Math.max(Zr,Math.min(Xr,p)),m=Math.max(Zr,Math.min(Xr,m))],C=[i=Math.max(Zr,Math.min(Xr,i)),a=Math.max(Zr,Math.min(Xr,a))];!function line(t,e,n,r,i,a){var o,s=t[0],l=t[1],c=0,u=1,p=e[0]-s,m=e[1]-l;if(o=n-s,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<u&&(u=o)}else if(p>0){if(o>u)return;o>c&&(c=o)}if(o=i-s,p||!(o<0)){if(o/=p,p<0){if(o>u)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<u&&(u=o)}if(o=r-l,m||!(o>0)){if(o/=m,m<0){if(o<c)return;o<u&&(u=o)}else if(m>0){if(o>u)return;o>c&&(c=o)}if(o=a-l,m||!(o<0)){if(o/=m,m<0){if(o>u)return;o>c&&(c=o)}else if(m>0){if(o<c)return;o<u&&(u=o)}return c>0&&(t[0]=s+c*p,t[1]=l+c*m),u<1&&(e[0]=s+u*p,e[1]=l+u*m),!0}}}}}(T,C,t,e,n,r)?w&&(S.lineStart(),S.point(i,a),b=!1):(_||(S.lineStart(),S.point(T[0],T[1])),S.point(C[0],C[1]),w||S.lineEnd(),b=!1)}p=i,m=a,_=w}return T}}function clip_extent(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=clipRectangle(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}}var Qr,Kr,Jr,ti=adder(),ei={sphere:noop_noop,point:noop_noop,lineStart:function lengthLineStart(){ei.point=lengthPointFirst,ei.lineEnd=lengthLineEnd},lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop};function lengthLineEnd(){ei.point=ei.lineEnd=noop_noop}function lengthPointFirst(t,e){Qr=t*=Xn,Kr=ir(e*=Xn),Jr=Jn(e),ei.point=lengthPoint}function lengthPoint(t,e){t*=Xn;var n=ir(e*=Xn),r=Jn(e),i=Zn(t-Qr),a=Jn(i),o=r*ir(i),s=Jr*n-Kr*r*a,l=Kr*n+Jr*r*a;ti.add(Kn(or(o*o+s*s),l)),Qr=t,Kr=n,Jr=r}function src_length(t){return ti.reset(),stream(t,ei),+ti}var ni=[null,null],ri={type:"LineString",coordinates:ni};function distance(t,e){return ni[0]=t,ni[1]=e,src_length(ri)}var ii={Feature:function(t,e){return containsGeometry(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(containsGeometry(n[r].geometry,e))return!0;return!1}},ai={Sphere:function(){return!0},Point:function(t,e){return containsPoint(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsPoint(n[r],e))return!0;return!1},LineString:function(t,e){return containsLine(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsLine(n[r],e))return!0;return!1},Polygon:function(t,e){return containsPolygon(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(containsPolygon(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(containsGeometry(n[r],e))return!0;return!1}};function containsGeometry(t,e){return!(!t||!ai.hasOwnProperty(t.type))&&ai[t.type](t,e)}function containsPoint(t,e){return 0===distance(t,e)}function containsLine(t,e){for(var n,r,i,a=0,o=t.length;a<o;a++){if(0===(r=distance(t[a],e)))return!0;if(a>0&&(i=distance(t[a],t[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<$n*i)return!0;n=r}return!1}function containsPolygon(t,e){return!!polygonContains(t.map(ringRadians),pointRadians(e))}function ringRadians(t){return(t=t.map(pointRadians)).pop(),t}function pointRadians(t){return[t[0]*Xn,t[1]*Xn]}function src_contains(t,e){return(t&&ii.hasOwnProperty(t.type)?ii[t.type]:containsGeometry)(t,e)}function graticuleX(t,e,n){var r=src_range(t,e-zn,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function graticuleY(t,e,n){var r=src_range(t,e-zn,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function graticule(){var t,e,n,r,i,a,o,s,l,c,u,p,m=10,_=m,v=90,b=360,S=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return src_range(tr(r/v)*v,n,v).map(u).concat(src_range(tr(s/b)*b,o,b).map(p)).concat(src_range(tr(e/m)*m,t,m).filter((function(t){return Zn(t%v)>zn})).map(l)).concat(src_range(tr(a/_)*_,i,_).filter((function(t){return Zn(t%b)>zn})).map(c))}return graticule.lines=function(){return lines().map((function(t){return{type:"LineString",coordinates:t}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(p(o).slice(1),u(n).reverse().slice(1),p(s).reverse().slice(1))]}},graticule.extent=function(t){return arguments.length?graticule.extentMajor(t).extentMinor(t):graticule.extentMinor()},graticule.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),s>o&&(t=s,s=o,o=t),graticule.precision(S)):[[r,s],[n,o]]},graticule.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),graticule.precision(S)):[[e,a],[t,i]]},graticule.step=function(t){return arguments.length?graticule.stepMajor(t).stepMinor(t):graticule.stepMinor()},graticule.stepMajor=function(t){return arguments.length?(v=+t[0],b=+t[1],graticule):[v,b]},graticule.stepMinor=function(t){return arguments.length?(m=+t[0],_=+t[1],graticule):[m,_]},graticule.precision=function(m){return arguments.length?(S=+m,l=graticuleX(a,i,90),c=graticuleY(e,t,S),u=graticuleX(s,o,90),p=graticuleY(r,n,S),graticule):S},graticule.extentMajor([[-180,-90+zn],[180,90-zn]]).extentMinor([[-180,-80-zn],[180,80+zn]])}function graticule10(){return graticule()()}function src_interpolate(t,e){var n=t[0]*Xn,r=t[1]*Xn,i=e[0]*Xn,a=e[1]*Xn,o=Jn(r),s=ir(r),l=Jn(a),c=ir(a),u=o*Jn(n),p=o*ir(n),m=l*Jn(i),_=l*ir(i),v=2*asin(or(haversin(a-r)+o*l*haversin(i-n))),b=ir(v),S=v?function(t){var e=ir(t*=v)/b,n=ir(v-t)/b,r=n*u+e*m,i=n*p+e*_,a=n*s+e*c;return[Kn(i,r)*qn,Kn(a,or(r*r+i*i))*qn]}:function(){return[n*qn,r*qn]};return S.distance=v,S}function d3_geo_src_identity(t){return t}var oi,si,li,ci,ui=adder(),di=adder(),hi={point:noop_noop,lineStart:noop_noop,lineEnd:noop_noop,polygonStart:function(){hi.lineStart=area_areaRingStart,hi.lineEnd=area_areaRingEnd},polygonEnd:function(){hi.lineStart=hi.lineEnd=hi.point=noop_noop,ui.add(Zn(di)),di.reset()},result:function(){var t=ui/2;return ui.reset(),t}};function area_areaRingStart(){hi.point=area_areaPointFirst}function area_areaPointFirst(t,e){hi.point=area_areaPoint,oi=li=t,si=ci=e}function area_areaPoint(t,e){di.add(ci*t-li*e),li=t,ci=e}function area_areaRingEnd(){area_areaPoint(oi,si)}const fi=hi;var pi=1/0,gi=pi,mi=-pi,_i=mi,yi={point:function bounds_boundsPoint(t,e){t<pi&&(pi=t);t>mi&&(mi=t);e<gi&&(gi=e);e>_i&&(_i=e)},lineStart:noop_noop,lineEnd:noop_noop,polygonStart:noop_noop,polygonEnd:noop_noop,result:function(){var t=[[pi,gi],[mi,_i]];return mi=_i=-(gi=pi=1/0),t}};const vi=yi;var xi,bi,Si,wi,Ti=0,Ci=0,ki=0,Ai=0,Pi=0,Mi=0,Ii=0,Ei=0,Oi=0,Di={point:centroid_centroidPoint,lineStart:centroid_centroidLineStart,lineEnd:centroid_centroidLineEnd,polygonStart:function(){Di.lineStart=centroid_centroidRingStart,Di.lineEnd=centroid_centroidRingEnd},polygonEnd:function(){Di.point=centroid_centroidPoint,Di.lineStart=centroid_centroidLineStart,Di.lineEnd=centroid_centroidLineEnd},result:function(){var t=Oi?[Ii/Oi,Ei/Oi]:Mi?[Ai/Mi,Pi/Mi]:ki?[Ti/ki,Ci/ki]:[NaN,NaN];return Ti=Ci=ki=Ai=Pi=Mi=Ii=Ei=Oi=0,t}};function centroid_centroidPoint(t,e){Ti+=t,Ci+=e,++ki}function centroid_centroidLineStart(){Di.point=centroidPointFirstLine}function centroidPointFirstLine(t,e){Di.point=centroidPointLine,centroid_centroidPoint(Si=t,wi=e)}function centroidPointLine(t,e){var n=t-Si,r=e-wi,i=or(n*n+r*r);Ai+=i*(Si+t)/2,Pi+=i*(wi+e)/2,Mi+=i,centroid_centroidPoint(Si=t,wi=e)}function centroid_centroidLineEnd(){Di.point=centroid_centroidPoint}function centroid_centroidRingStart(){Di.point=centroidPointFirstRing}function centroid_centroidRingEnd(){centroidPointRing(xi,bi)}function centroidPointFirstRing(t,e){Di.point=centroidPointRing,centroid_centroidPoint(xi=Si=t,bi=wi=e)}function centroidPointRing(t,e){var n=t-Si,r=e-wi,i=or(n*n+r*r);Ai+=i*(Si+t)/2,Pi+=i*(wi+e)/2,Mi+=i,Ii+=(i=wi*t-Si*e)*(Si+t),Ei+=i*(wi+e),Oi+=3*i,centroid_centroidPoint(Si=t,wi=e)}const Li=Di;function PathContext(t){this._context=t}PathContext.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Un)}},result:noop_noop};var Ri,Ni,ji,Fi,Gi,Vi=adder(),Yi={point:noop_noop,lineStart:function(){Yi.point=measure_lengthPointFirst},lineEnd:function(){Ri&&measure_lengthPoint(Ni,ji),Yi.point=noop_noop},polygonStart:function(){Ri=!0},polygonEnd:function(){Ri=null},result:function(){var t=+Vi;return Vi.reset(),t}};function measure_lengthPointFirst(t,e){Yi.point=measure_lengthPoint,Ni=Fi=t,ji=Gi=e}function measure_lengthPoint(t,e){Fi-=t,Gi-=e,Vi.add(or(Fi*Fi+Gi*Gi)),Fi=t,Gi=e}const zi=Yi;function PathString(){this._string=[]}function string_circle(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function d3_geo_src_path(t,e){var n,r,i=4.5;function path(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),stream(t,n(r))),r.result()}return path.area=function(t){return stream(t,n(fi)),fi.result()},path.measure=function(t){return stream(t,n(zi)),zi.result()},path.bounds=function(t){return stream(t,n(vi)),vi.result()},path.centroid=function(t){return stream(t,n(Li)),Li.result()},path.projection=function(e){return arguments.length?(n=null==e?(t=null,d3_geo_src_identity):(t=e).stream,path):t},path.context=function(t){return arguments.length?(r=null==t?(e=null,new PathString):new PathContext(e=t),"function"!=typeof i&&r.pointRadius(i),path):e},path.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),path):i},path.projection(t).context(e)}function transform(t){return{stream:transformer(t)}}function transformer(t){return function(e){var n=new TransformStream;for(var r in t)n[r]=t[r];return n.stream=e,n}}function TransformStream(){}function fit(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),stream(n,t.stream(vi)),e(vi.result()),null!=r&&t.clipExtent(r),t}function fitExtent(t,e,n){return fit(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}function fitSize(t,e,n){return fitExtent(t,[[0,0],e],n)}function fitWidth(t,e,n){return fit(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}function fitHeight(t,e,n){return fit(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}PathString.prototype={_radius:4.5,_circle:string_circle(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=string_circle(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},TransformStream.prototype={constructor:TransformStream,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var $i=16,Hi=Jn(30*Xn);function resample(t,e){return+e?function resample_resample(t,e){function resampleLineTo(n,r,i,a,o,s,l,c,u,p,m,_,v,b){var S=l-n,w=c-r,T=S*S+w*w;if(T>4*e&&v--){var C=a+p,A=o+m,P=s+_,M=or(C*C+A*A+P*P),I=asin(P/=M),E=Zn(Zn(P)-1)<zn||Zn(i-u)<zn?(i+u)/2:Kn(A,C),O=t(E,I),D=O[0],L=O[1],R=D-n,N=L-r,F=w*R-S*N;(F*F/T>e||Zn((S*R+w*N)/T-.5)>.3||a*p+o*m+s*_<Hi)&&(resampleLineTo(n,r,i,a,o,s,D,L,E,C/=M,A/=M,P,v,b),b.point(D,L),resampleLineTo(D,L,E,C,A,P,l,c,u,p,m,_,v,b))}}return function(e){var n,r,i,a,o,s,l,c,u,p,m,_,v={point,lineStart,lineEnd,polygonStart:function(){e.polygonStart(),v.lineStart=ringStart},polygonEnd:function(){e.polygonEnd(),v.lineStart=lineStart}};function point(n,r){n=t(n,r),e.point(n[0],n[1])}function lineStart(){c=NaN,v.point=linePoint,e.lineStart()}function linePoint(n,r){var i=cartesian([n,r]),a=t(n,r);resampleLineTo(c,u,l,p,m,_,c=a[0],u=a[1],l=n,p=i[0],m=i[1],_=i[2],$i,e),e.point(c,u)}function lineEnd(){v.point=point,e.lineEnd()}function ringStart(){lineStart(),v.point=ringPoint,v.lineEnd=ringEnd}function ringPoint(t,e){linePoint(n=t,e),r=c,i=u,a=p,o=m,s=_,v.point=linePoint}function ringEnd(){resampleLineTo(c,u,l,p,m,_,r,i,n,a,o,s,$i,e),v.lineEnd=lineEnd,lineEnd()}return v}}(t,e):function resampleNone(t){return transformer({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Bi=transformer({point:function(t,e){this.stream.point(t*Xn,e*Xn)}});function scaleTranslate(t,e,n,r,i){function transform(a,o){return[e+t*(a*=r),n-t*(o*=i)]}return transform.invert=function(a,o){return[(a-e)/t*r,(n-o)/t*i]},transform}function scaleTranslateRotate(t,e,n,r,i,a){var o=Jn(a),s=ir(a),l=o*t,c=s*t,u=o/t,p=s/t,m=(s*n-o*e)/t,_=(s*e+o*n)/t;function transform(t,a){return[l*(t*=r)-c*(a*=i)+e,n-c*t-l*a]}return transform.invert=function(t,e){return[r*(u*t-p*e+m),i*(_-p*t-u*e)]},transform}function projection(t){return projectionMutator((function(){return t}))()}function projectionMutator(t){var e,n,r,i,a,o,s,l,c,u,p=150,m=480,_=250,v=0,b=0,S=0,w=0,T=0,C=0,A=1,P=1,M=null,I=qr,E=null,O=d3_geo_src_identity,D=.5;function projection(t){return l(t[0]*Xn,t[1]*Xn)}function invert(t){return(t=l.invert(t[0],t[1]))&&[t[0]*qn,t[1]*qn]}function recenter(){var t=scaleTranslateRotate(p,0,0,A,P,C).apply(null,e(v,b)),r=(C?scaleTranslateRotate:scaleTranslate)(p,m-t[0],_-t[1],A,P,C);return n=rotateRadians(S,w,T),s=compose(e,r),l=compose(n,s),o=resample(s,D),reset()}function reset(){return c=u=null,projection}return projection.stream=function(t){return c&&u===t?c:c=Bi(function transformRotate(t){return transformer({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(I(o(O(u=t)))))},projection.preclip=function(t){return arguments.length?(I=t,M=void 0,reset()):I},projection.postclip=function(t){return arguments.length?(O=t,E=r=i=a=null,reset()):O},projection.clipAngle=function(t){return arguments.length?(I=+t?clip_circle(M=t*Xn):(M=null,qr),reset()):M*qn},projection.clipExtent=function(t){return arguments.length?(O=null==t?(E=r=i=a=null,d3_geo_src_identity):clipRectangle(E=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),reset()):null==E?null:[[E,r],[i,a]]},projection.scale=function(t){return arguments.length?(p=+t,recenter()):p},projection.translate=function(t){return arguments.length?(m=+t[0],_=+t[1],recenter()):[m,_]},projection.center=function(t){return arguments.length?(v=t[0]%360*Xn,b=t[1]%360*Xn,recenter()):[v*qn,b*qn]},projection.rotate=function(t){return arguments.length?(S=t[0]%360*Xn,w=t[1]%360*Xn,T=t.length>2?t[2]%360*Xn:0,recenter()):[S*qn,w*qn,T*qn]},projection.angle=function(t){return arguments.length?(C=t%360*Xn,recenter()):C*qn},projection.reflectX=function(t){return arguments.length?(A=t?-1:1,recenter()):A<0},projection.reflectY=function(t){return arguments.length?(P=t?-1:1,recenter()):P<0},projection.precision=function(t){return arguments.length?(o=resample(s,D=t*t),reset()):or(D)},projection.fitExtent=function(t,e){return fitExtent(projection,t,e)},projection.fitSize=function(t,e){return fitSize(projection,t,e)},projection.fitWidth=function(t,e){return fitWidth(projection,t,e)},projection.fitHeight=function(t,e){return fitHeight(projection,t,e)},function(){return e=t.apply(this,arguments),projection.invert=e.invert&&invert,recenter()}}function conicProjection(t){var e=0,n=Hn/3,r=projectionMutator(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Xn,n=t[1]*Xn):[e*qn,n*qn]},i}function conicEqualAreaRaw(t,e){var n=ir(t),r=(n+ir(e))/2;if(Zn(r)<zn)return function cylindricalEqualAreaRaw(t){var e=Jn(t);function forward(t,n){return[t*e,ir(n)/e]}return forward.invert=function(t,n){return[t/e,asin(n*e)]},forward}(t);var i=1+n*(2*r-n),a=or(i)/r;function project(t,e){var n=or(i-2*r*ir(e))/r;return[n*ir(t*=r),a-n*Jn(t)]}return project.invert=function(t,e){var n=a-e,o=Kn(t,Zn(n))*ar(n);return n*r<0&&(o-=Hn*ar(t)*ar(n)),[o/r,asin((i-(t*t+n*n)*r*r)/(2*r))]},project}function conicEqualArea(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])}function albers(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function albersUsa(){var t,e,n,r,i,a,o=albers(),s=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){a=[t,e]}};function albersUsa(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function reset(){return t=e=null,albersUsa}return albersUsa.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:o).invert(t)},albersUsa.stream=function(n){return t&&e===n?t:t=function multiplex(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([o.stream(e=n),s.stream(n),l.stream(n)])},albersUsa.precision=function(t){return arguments.length?(o.precision(t),s.precision(t),l.precision(t),reset()):o.precision()},albersUsa.scale=function(t){return arguments.length?(o.scale(t),s.scale(.35*t),l.scale(t),albersUsa.translate(o.translate())):o.scale()},albersUsa.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],u=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,u-.238*e],[a+.455*e,u+.238*e]]).stream(c),r=s.translate([a-.307*e,u+.201*e]).clipExtent([[a-.425*e+zn,u+.12*e+zn],[a-.214*e-zn,u+.234*e-zn]]).stream(c),i=l.translate([a-.205*e,u+.212*e]).clipExtent([[a-.214*e+zn,u+.166*e+zn],[a-.115*e-zn,u+.234*e-zn]]).stream(c),reset()},albersUsa.fitExtent=function(t,e){return fitExtent(albersUsa,t,e)},albersUsa.fitSize=function(t,e){return fitSize(albersUsa,t,e)},albersUsa.fitWidth=function(t,e){return fitWidth(albersUsa,t,e)},albersUsa.fitHeight=function(t,e){return fitHeight(albersUsa,t,e)},albersUsa.scale(1070)}function azimuthalRaw(t){return function(e,n){var r=Jn(e),i=Jn(n),a=t(r*i);return[a*i*ir(e),a*ir(n)]}}function azimuthalInvert(t){return function(e,n){var r=or(e*e+n*n),i=t(r),a=ir(i),o=Jn(i);return[Kn(e*a,r*o),asin(r&&n*a/r)]}}var Wi=azimuthalRaw((function(t){return or(2/(1+t))}));function azimuthalEqualArea(){return projection(Wi).scale(124.75).clipAngle(179.999)}Wi.invert=azimuthalInvert((function(t){return 2*asin(t/2)}));var Ui=azimuthalRaw((function(t){return(t=acos(t))&&t/ir(t)}));function azimuthalEquidistant(){return projection(Ui).scale(79.4188).clipAngle(179.999)}function mercatorRaw(t,e){return[t,nr(sr((Bn+e)/2))]}function mercator(){return mercatorProjection(mercatorRaw).scale(961/Un)}function mercatorProjection(t){var e,n,r,i=projection(t),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,c=null;function reclip(){var a=Hn*o(),s=i(rotation(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===mercatorRaw?[[Math.max(s[0]-a,c),e],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),reclip()):o()},i.translate=function(t){return arguments.length?(s(t),reclip()):s()},i.center=function(t){return arguments.length?(a(t),reclip()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),reclip()):null==c?null:[[c,e],[n,r]]},reclip()}function tany(t){return sr((Bn+t)/2)}function conicConformalRaw(t,e){var n=Jn(t),r=t===e?ir(t):nr(n/Jn(e))/nr(tany(e)/tany(t)),i=n*rr(tany(t),r)/r;if(!r)return mercatorRaw;function project(t,e){i>0?e<-Bn+zn&&(e=-Bn+zn):e>Bn-zn&&(e=Bn-zn);var n=i/rr(tany(e),r);return[n*ir(r*t),i-n*Jn(r*t)]}return project.invert=function(t,e){var n=i-e,a=ar(r)*or(t*t+n*n),o=Kn(t,Zn(n))*ar(n);return n*r<0&&(o-=Hn*ar(t)*ar(n)),[o/r,2*Qn(rr(i/a,1/r))-Bn]},project}function conicConformal(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])}function equirectangularRaw(t,e){return[t,e]}function equirectangular(){return projection(equirectangularRaw).scale(152.63)}function conicEquidistantRaw(t,e){var n=Jn(t),r=t===e?ir(t):(n-Jn(e))/(e-t),i=n/r+t;if(Zn(r)<zn)return equirectangularRaw;function project(t,e){var n=i-e,a=r*t;return[n*ir(a),i-n*Jn(a)]}return project.invert=function(t,e){var n=i-e,a=Kn(t,Zn(n))*ar(n);return n*r<0&&(a-=Hn*ar(t)*ar(n)),[a/r,i-ar(r)*or(t*t+n*n)]},project}function conicEquidistant(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])}Ui.invert=azimuthalInvert((function(t){return t})),mercatorRaw.invert=function(t,e){return[t,2*Qn(er(e))-Bn]},equirectangularRaw.invert=equirectangularRaw;var qi=1.340264,Xi=-.081106,Zi=893e-6,Qi=.003796,Ki=or(3)/2;function equalEarthRaw(t,e){var n=asin(Ki*ir(e)),r=n*n,i=r*r*r;return[t*Jn(n)/(Ki*(qi+3*Xi*r+i*(7*Zi+9*Qi*r))),n*(qi+Xi*r+i*(Zi+Qi*r))]}function equalEarth(){return projection(equalEarthRaw).scale(177.158)}function gnomonicRaw(t,e){var n=Jn(e),r=Jn(t)*n;return[n*ir(t)/r,ir(e)/r]}function gnomonic(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)}function projection_identity(){var t,e,n,r,i,a,o,s=1,l=0,c=0,u=1,p=1,m=0,_=null,v=1,b=1,S=transformer({point:function(t,e){var n=projection([t,e]);this.stream.point(n[0],n[1])}}),w=d3_geo_src_identity;function reset(){return v=s*u,b=s*p,a=o=null,projection}function projection(n){var r=n[0]*v,i=n[1]*b;if(m){var a=i*t-r*e;r=r*t+i*e,i=a}return[r+l,i+c]}return projection.invert=function(n){var r=n[0]-l,i=n[1]-c;if(m){var a=i*t+r*e;r=r*t-i*e,i=a}return[r/v,i/b]},projection.stream=function(t){return a&&o===t?a:a=S(w(o=t))},projection.postclip=function(t){return arguments.length?(w=t,_=n=r=i=null,reset()):w},projection.clipExtent=function(t){return arguments.length?(w=null==t?(_=n=r=i=null,d3_geo_src_identity):clipRectangle(_=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),reset()):null==_?null:[[_,n],[r,i]]},projection.scale=function(t){return arguments.length?(s=+t,reset()):s},projection.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],reset()):[l,c]},projection.angle=function(n){return arguments.length?(e=ir(m=n%360*Xn),t=Jn(m),reset()):m*qn},projection.reflectX=function(t){return arguments.length?(u=t?-1:1,reset()):u<0},projection.reflectY=function(t){return arguments.length?(p=t?-1:1,reset()):p<0},projection.fitExtent=function(t,e){return fitExtent(projection,t,e)},projection.fitSize=function(t,e){return fitSize(projection,t,e)},projection.fitWidth=function(t,e){return fitWidth(projection,t,e)},projection.fitHeight=function(t,e){return fitHeight(projection,t,e)},projection}function naturalEarth1Raw(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function naturalEarth1(){return projection(naturalEarth1Raw).scale(175.295)}function orthographicRaw(t,e){return[Jn(e)*ir(t),ir(e)]}function orthographic(){return projection(orthographicRaw).scale(249.5).clipAngle(90+zn)}function stereographicRaw(t,e){var n=Jn(e),r=1+Jn(t)*n;return[n*ir(t)/r,ir(e)/r]}function stereographic(){return projection(stereographicRaw).scale(250).clipAngle(142)}function transverseMercatorRaw(t,e){return[nr(sr((Bn+e)/2)),-t]}function transverseMercator(){var t=mercatorProjection(transverseMercatorRaw),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function defaultSeparation(t,e){return t.parent===e.parent?1:2}function meanXReduce(t,e){return t+e.x}function maxYReduce(t,e){return Math.max(t,e.y)}function cluster(){var t=defaultSeparation,e=1,n=1,r=!1;function cluster(i){var a,o=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function meanX(t){return t.reduce(meanXReduce,0)/t.length}(n),e.y=function maxY(t){return 1+t.reduce(maxYReduce,0)}(n)):(e.x=a?o+=t(e,a):0,e.y=0,a=e)}));var s=function leafLeft(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function leafRight(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return cluster.separation=function(e){return arguments.length?(t=e,cluster):t},cluster.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],cluster):r?null:[e,n]},cluster.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],cluster):r?[e,n]:null},cluster}function count(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function hierarchy(t,e){var n,r,i,a,o,s=new Node(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=defaultChildren);n=c.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)c.push(r=n.children[a]=new Node(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(computeHeight)}function defaultChildren(t){return t.children}function copyData(t){t.data=t.data.data}function computeHeight(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Node(t){this.data=t,this.depth=this.height=0,this.parent=null}equalEarthRaw.invert=function(t,e){for(var n,r=e,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(qi+Xi*i+a*(Zi+Qi*i))-e)/(qi+3*Xi*i+a*(7*Zi+9*Qi*i)))*r)*i*i,!(Zn(n)<$n));++o);return[Ki*t*(qi+3*Xi*i+a*(7*Zi+9*Qi*i))/Jn(r),asin(ir(r)/Ki)]},gnomonicRaw.invert=azimuthalInvert(Qn),naturalEarth1Raw.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(Zn(n)>zn&&--i>0);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},orthographicRaw.invert=azimuthalInvert(asin),stereographicRaw.invert=azimuthalInvert((function(t){return 2*Qn(t)})),transverseMercatorRaw.invert=function(t,e){return[-e,2*Qn(er(t))-Bn]},Node.prototype=hierarchy.prototype={constructor:Node,count:function hierarchy_count(){return this.eachAfter(count)},each:function hierarchy_each(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function eachAfter(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function eachBefore(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function hierarchy_sum(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function hierarchy_sort(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function hierarchy_path(t){for(var e=this,n=function leastCommonAncestor(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function ancestors(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function descendants(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function leaves(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function links(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)}};var Ji=Array.prototype.slice;function enclose(t){for(var e,n,r=0,i=(t=function array_shuffle(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Ji.call(t))).length,a=[];r<i;)e=t[r],n&&enclosesWeak(n,e)?++r:(n=encloseBasis(a=extendBasis(a,e)),r=0);return n}function extendBasis(t,e){var n,r;if(enclosesWeakAll(e,t))return[e];for(n=0;n<t.length;++n)if(enclosesNot(e,t[n])&&enclosesWeakAll(encloseBasis2(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(enclosesNot(encloseBasis2(t[n],t[r]),e)&&enclosesNot(encloseBasis2(t[n],e),t[r])&&enclosesNot(encloseBasis2(t[r],e),t[n])&&enclosesWeakAll(encloseBasis3(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function enclosesNot(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function enclosesWeak(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function enclosesWeakAll(t,e){for(var n=0;n<e.length;++n)if(!enclosesWeak(t,e[n]))return!1;return!0}function encloseBasis(t){switch(t.length){case 1:return function encloseBasis1(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return encloseBasis2(t[0],t[1]);case 3:return encloseBasis3(t[0],t[1],t[2])}}function encloseBasis2(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,c=o-r,u=s-i,p=Math.sqrt(l*l+c*c);return{x:(n+a+l/p*u)/2,y:(r+o+c/p*u)/2,r:(p+i+s)/2}}function encloseBasis3(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=n.x,u=n.y,p=n.r,m=r-o,_=r-c,v=i-s,b=i-u,S=l-a,w=p-a,T=r*r+i*i-a*a,C=T-o*o-s*s+l*l,A=T-c*c-u*u+p*p,P=_*v-m*b,M=(v*A-b*C)/(2*P)-r,I=(b*S-v*w)/P,E=(_*C-m*A)/(2*P)-i,O=(m*w-_*S)/P,D=I*I+O*O-1,L=2*(a+M*I+E*O),R=M*M+E*E-a*a,N=-(D?(L+Math.sqrt(L*L-4*D*R))/(2*D):R/L);return{x:r+M+I*N,y:i+E+O*N,r:N}}function place(t,e,n){var r,i,a,o,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*s-a*l,n.y=t.y-r*l+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-a*l,n.y=e.y+r*l+a*s)):(n.x=e.x+n.r,n.y=e.y)}function intersects(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function score(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function siblings_Node(t){this._=t,this.next=null,this.previous=null}function packEnclose(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,l,c,u,p;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;place(n,e,r=t[2]),e=new siblings_Node(e),n=new siblings_Node(n),r=new siblings_Node(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){place(e._,n._,r=t[s]),r=new siblings_Node(r),l=n.next,c=e.previous,u=n._.r,p=e._.r;do{if(u<=p){if(intersects(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(intersects(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}p+=c._.r,c=c.previous}}while(l!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=score(e);(r=r.next)!==n;)(o=score(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=enclose(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function siblings(t){return packEnclose(t),t}function required(t){if("function"!=typeof t)throw new Error;return t}function constantZero(){return 0}function d3_hierarchy_src_constant(t){return function(){return t}}function pack_defaultRadius(t){return Math.sqrt(t.value)}function pack(){var t=null,e=1,n=1,r=constantZero;function pack(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(radiusLeaf(t)).eachAfter(packChildren(r,.5)).eachBefore(translateChild(1)):i.eachBefore(radiusLeaf(pack_defaultRadius)).eachAfter(packChildren(constantZero,1)).eachAfter(packChildren(r,i.r/Math.min(e,n))).eachBefore(translateChild(Math.min(e,n)/(2*i.r))),i}return pack.radius=function(e){return arguments.length?(t=function optional(t){return null==t?null:required(t)}(e),pack):t},pack.size=function(t){return arguments.length?(e=+t[0],n=+t[1],pack):[e,n]},pack.padding=function(t){return arguments.length?(r="function"==typeof t?t:d3_hierarchy_src_constant(+t),pack):r},pack}function radiusLeaf(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function packChildren(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=packEnclose(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function translateChild(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function treemap_round(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function dice(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&&(r-e)/t.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function partition(){var t=1,e=1,n=0,r=!1;function partition(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function positionNode(t,e){return function(r){r.children&&dice(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}(e,a)),r&&i.eachBefore(treemap_round),i}return partition.round=function(t){return arguments.length?(r=!!t,partition):r},partition.size=function(n){return arguments.length?(t=+n[0],e=+n[1],partition):[t,e]},partition.padding=function(t){return arguments.length?(n=+t,partition):n},partition}var ta="$",ea={depth:-1},na={};function defaultId(t){return t.id}function defaultParentId(t){return t.parentId}function stratify(){var t=defaultId,e=defaultParentId;function stratify(n){var r,i,a,o,s,l,c,u=n.length,p=new Array(u),m={};for(i=0;i<u;++i)r=n[i],s=p[i]=new Node(r),null!=(l=t(r,i,n))&&(l+="")&&(m[c=ta+(s.id=l)]=c in m?na:s);for(i=0;i<u;++i)if(s=p[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(o=m[ta+l]))throw new Error("missing: "+l);if(o===na)throw new Error("ambiguous: "+l);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=ea,a.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(computeHeight),a.parent=null,u>0)throw new Error("cycle");return a}return stratify.id=function(e){return arguments.length?(t=required(e),stratify):t},stratify.parentId=function(t){return arguments.length?(e=required(t),stratify):e},stratify}function tree_defaultSeparation(t,e){return t.parent===e.parent?1:2}function nextLeft(t){var e=t.children;return e?e[0]:t.t}function nextRight(t){var e=t.children;return e?e[e.length-1]:t.t}function moveSubtree(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function nextAncestor(t,e,n){return t.a.parent===e.parent?t.a:n}function TreeNode(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function tree(){var t=tree_defaultSeparation,e=1,n=1,r=null;function tree(i){var a=function treeRoot(t){for(var e,n,r,i,a,o=new TreeNode(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new TreeNode(r[i],i)),n.parent=e;return(o.parent=new TreeNode(null,0)).children=[o],o}(i);if(a.eachAfter(firstWalk),a.parent.m=-a.z,a.eachBefore(secondWalk),r)i.eachBefore(sizeNode);else{var o=i,s=i,l=i;i.eachBefore((function(t){t.x<o.x&&(o=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var c=o===s?1:t(o,s)/2,u=c-o.x,p=e/(s.x+c+u),m=n/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+u)*p,t.y=t.depth*m}))}return i}function firstWalk(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function executeShifts(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function apportion(e,n,r){if(n){for(var i,a=e,o=e,s=n,l=a.parent.children[0],c=a.m,u=o.m,p=s.m,m=l.m;s=nextRight(s),a=nextLeft(a),s&&a;)l=nextLeft(l),(o=nextRight(o)).a=e,(i=s.z+p-a.z-c+t(s._,a._))>0&&(moveSubtree(nextAncestor(s,e,r),e,i),c+=i,u+=i),p+=s.m,c+=a.m,m+=l.m,u+=o.m;s&&!nextRight(o)&&(o.t=s,o.m+=p-u),a&&!nextLeft(l)&&(l.t=a,l.m+=c-m,r=e)}return r}(e,i,e.parent.A||r[0])}function secondWalk(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function sizeNode(t){t.x*=e,t.y=t.depth*n}return tree.separation=function(e){return arguments.length?(t=e,tree):t},tree.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],tree):r?null:[e,n]},tree.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],tree):r?[e,n]:null},tree}function treemap_slice(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&&(i-n)/t.value;++s<l;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}TreeNode.prototype=Object.create(Node.prototype);var ra=(1+Math.sqrt(5))/2;function squarifyRatio(t,e,n,r,i,a){for(var o,s,l,c,u,p,m,_,v,b,S,w=[],T=e.children,C=0,A=0,P=T.length,M=e.value;C<P;){l=i-n,c=a-r;do{u=T[A++].value}while(!u&&A<P);for(p=m=u,S=u*u*(b=Math.max(c/l,l/c)/(M*t)),v=Math.max(m/S,S/p);A<P;++A){if(u+=s=T[A].value,s<p&&(p=s),s>m&&(m=s),S=u*u*b,(_=Math.max(m/S,S/p))>v){u-=s;break}v=_}w.push(o={value:u,dice:l<c,children:T.slice(C,A)}),o.dice?dice(o,n,r,i,M?r+=c*u/M:a):treemap_slice(o,n,r,M?n+=l*u/M:i,a),M-=u,C=A}return w}const ia=function custom(t){function squarify(e,n,r,i,a){squarifyRatio(t,e,n,r,i,a)}return squarify.ratio=function(t){return custom((t=+t)>1?t:1)},squarify}(ra);function treemap(){var t=ia,e=!1,n=1,r=1,i=[0],a=constantZero,o=constantZero,s=constantZero,l=constantZero,c=constantZero;function treemap(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(positionNode),i=[0],e&&t.eachBefore(treemap_round),t}function positionNode(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,p=e.x1-n,m=e.y1-n;p<r&&(r=p=(r+p)/2),m<u&&(u=m=(u+m)/2),e.x0=r,e.y0=u,e.x1=p,e.y1=m,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,u+=o(e)-n,(p-=s(e)-n)<r&&(r=p=(r+p)/2),(m-=l(e)-n)<u&&(u=m=(u+m)/2),t(e,r,u,p,m))}return treemap.round=function(t){return arguments.length?(e=!!t,treemap):e},treemap.size=function(t){return arguments.length?(n=+t[0],r=+t[1],treemap):[n,r]},treemap.tile=function(e){return arguments.length?(t=required(e),treemap):t},treemap.padding=function(t){return arguments.length?treemap.paddingInner(t).paddingOuter(t):treemap.paddingInner()},treemap.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:d3_hierarchy_src_constant(+t),treemap):a},treemap.paddingOuter=function(t){return arguments.length?treemap.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):treemap.paddingTop()},treemap.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:d3_hierarchy_src_constant(+t),treemap):o},treemap.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:d3_hierarchy_src_constant(+t),treemap):s},treemap.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:d3_hierarchy_src_constant(+t),treemap):l},treemap.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:d3_hierarchy_src_constant(+t),treemap):c},treemap}function binary(t,e,n,r,i){var a,o,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=o=a=0;a<l;++a)c[a+1]=o+=s[a].value;!function partition(t,e,n,r,i,a,o){if(t>=e-1){var l=s[t];return l.x0=r,l.y0=i,l.x1=a,void(l.y1=o)}var u=c[t],p=n/2+u,m=t+1,_=e-1;for(;m<_;){var v=m+_>>>1;c[v]<p?m=v+1:_=v}p-c[m-1]<c[m]-p&&t+1<m&&--m;var b=c[m]-u,S=n-b;if(a-r>o-i){var w=(r*S+a*b)/n;partition(t,m,b,r,i,w,o),partition(m,e,S,w,i,a,o)}else{var T=(i*S+o*b)/n;partition(t,m,b,r,i,a,T),partition(m,e,S,r,T,a,o)}}(0,l,t.value,e,n,r,i)}function sliceDice(t,e,n,r,i){(1&t.depth?treemap_slice:dice)(t,e,n,r,i)}const aa=function custom(t){function resquarify(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,l,c,u,p=-1,m=o.length,_=e.value;++p<m;){for(l=(s=o[p]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?dice(s,n,r,i,r+=(a-r)*s.value/_):treemap_slice(s,n,r,n+=(i-n)*s.value/_,a),_-=s.value}else e._squarify=o=squarifyRatio(t,e,n,r,i,a),o.ratio=t}return resquarify.ratio=function(t){return custom((t=+t)>1?t:1)},resquarify}(ra);function discrete(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function src_hue(t,e){var n=hue(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function round(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var oa=Math.SQRT2,sa=2,la=4,ca=1e-12;function cosh(t){return((t=Math.exp(t))+1/t)/2}function src_zoom(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,p=l-a,m=u*u+p*p;if(m<ca)r=Math.log(c/o)/oa,n=function(t){return[i+t*u,a+t*p,o*Math.exp(oa*t*r)]};else{var _=Math.sqrt(m),v=(c*c-o*o+la*m)/(2*o*sa*_),b=(c*c-o*o-la*m)/(2*c*sa*_),S=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(b*b+1)-b);r=(w-S)/oa,n=function(t){var e=t*r,n=cosh(S),s=o/(sa*_)*(n*function tanh(t){return((t=Math.exp(2*t))-1)/(t+1)}(oa*e+S)-function sinh(t){return((t=Math.exp(t))-1/t)/2}(S));return[i+s*u,a+s*p,o*n/cosh(oa*e+S)]}}return n.duration=1e3*r,n}function hsl_hsl(t){return function(e,n){var r=t((e=hsl(e)).h,(n=hsl(n)).h),i=nogamma(e.s,n.s),a=nogamma(e.l,n.l),o=nogamma(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}const ua=hsl_hsl(hue);var da=hsl_hsl(nogamma);function lab_lab(t,e){var n=nogamma((t=lab(t)).l,(e=lab(e)).l),r=nogamma(t.a,e.a),i=nogamma(t.b,e.b),a=nogamma(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}function hcl_hcl(t){return function(e,n){var r=t((e=hcl(e)).h,(n=hcl(n)).h),i=nogamma(e.c,n.c),a=nogamma(e.l,n.l),o=nogamma(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}const ha=hcl_hcl(hue);var fa=hcl_hcl(nogamma);function cubehelix(t){return function cubehelixGamma(e){function cubehelix(n,r){var i=t((n=cubehelix_cubehelix(n)).h,(r=cubehelix_cubehelix(r)).h),a=nogamma(n.s,r.s),o=nogamma(n.l,r.l),s=nogamma(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=a(t),n.l=o(Math.pow(t,e)),n.opacity=s(t),n+""}}return e=+e,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}const pa=cubehelix(hue);var ga=cubehelix(nogamma);function piecewise(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}function quantize(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function d3_polygon_src_area(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2}function src_centroid(t){for(var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(l*=3),o/l]}function src_cross(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function lexicographicOrder(t,e){return t[0]-e[0]||t[1]-e[1]}function computeUpperHullIndexes(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&src_cross(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function hull(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(lexicographicOrder),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=computeUpperHullIndexes(r),o=computeUpperHullIndexes(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],c=[];for(e=a.length-1;e>=0;--e)c.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)c.push(t[r[o[e]][2]]);return c}function d3_polygon_src_contains(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],l=a[0],c=a[1],u=!1,p=0;p<i;++p)n=(a=t[p])[0],(r=a[1])>s!=c>s&&o<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function d3_polygon_src_length(t){for(var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],l=0;++r<i;)e=o,n=s,e-=o=(a=t[r])[0],n-=s=a[1],l+=Math.sqrt(e*e+n*n);return l}function src_defaultSource(){return Math.random()}const ma=function sourceRandomUniform(t){function randomUniform(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return randomUniform.source=sourceRandomUniform,randomUniform}(src_defaultSource),_a=function sourceRandomNormal(t){function randomNormal(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return randomNormal.source=sourceRandomNormal,randomNormal}(src_defaultSource),ya=function sourceRandomLogNormal(t){function randomLogNormal(){var e=_a.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return randomLogNormal.source=sourceRandomLogNormal,randomLogNormal}(src_defaultSource),va=function sourceRandomIrwinHall(t){function randomIrwinHall(e){return function(){for(var n=0,r=0;r<e;++r)n+=t();return n}}return randomIrwinHall.source=sourceRandomIrwinHall,randomIrwinHall}(src_defaultSource),xa=function sourceRandomBates(t){function randomBates(e){var n=va.source(t)(e);return function(){return n()/e}}return randomBates.source=sourceRandomBates,randomBates}(src_defaultSource),ba=function sourceRandomExponential(t){function randomExponential(e){return function(){return-Math.log(1-t())/e}}return randomExponential.source=sourceRandomExponential,randomExponential}(src_defaultSource);function initRange(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function initInterpolator(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Sa=Array.prototype,wa=Sa.map,Ta=Sa.slice,Ca={name:"implicit"};function ordinal(){var t=ue(),e=[],n=[],r=Ca;function scale(i){var a=i+"",o=t.get(a);if(!o){if(r!==Ca)return r;t.set(a,o=e.push(i))}return n[(o-1)%n.length]}return scale.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ue();for(var r,i,a=-1,o=n.length;++a<o;)t.has(i=(r=n[a])+"")||t.set(i,e.push(r));return scale},scale.range=function(t){return arguments.length?(n=Ta.call(t),scale):n.slice()},scale.unknown=function(t){return arguments.length?(r=t,scale):r},scale.copy=function(){return ordinal(e,n).unknown(r)},initRange.apply(scale,arguments),scale}function band(){var t,e,n=ordinal().unknown(void 0),r=n.domain,i=n.range,a=[0,1],o=!1,s=0,l=0,c=.5;function rescale(){var n=r().length,u=a[1]<a[0],p=a[u-0],m=a[1-u];t=(m-p)/Math.max(1,n-s+2*l),o&&(t=Math.floor(t)),p+=(m-p-t*(n-s))*c,e=t*(1-s),o&&(p=Math.round(p),e=Math.round(e));var _=src_range(n).map((function(e){return p+t*e}));return i(u?_.reverse():_)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),rescale()):r()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],rescale()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],o=!0,rescale()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(o=!!t,rescale()):o},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),rescale()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),rescale()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,rescale()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),rescale()):c},n.copy=function(){return band(r(),a).round(o).paddingInner(s).paddingOuter(l).align(c)},initRange.apply(rescale(),arguments)}function pointish(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pointish(e())},t}function band_point(){return pointish(band.apply(null,arguments).paddingInner(1))}function d3_scale_src_number(t){return+t}var ka=[0,1];function continuous_identity(t){return t}function normalize(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function d3_scale_src_constant(t){return function(){return t}}(isNaN(e)?NaN:.5)}function clamper(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function bimap(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=normalize(i,r),a=n(o,a)):(r=normalize(r,i),a=n(a,o)),function(t){return a(r(t))}}function polymap(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=normalize(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=s(t,e,1,r)-1;return a[n](i[n](e))}}function copy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function continuous_transformer(){var t,e,n,r,i,a,o=ka,s=ka,l=value,c=continuous_identity;function rescale(){return r=Math.min(o.length,s.length)>2?polymap:bimap,i=a=null,scale}function scale(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(c(e)))}return scale.invert=function(n){return c(e((a||(a=r(s,o.map(t),src_number)))(n)))},scale.domain=function(t){return arguments.length?(o=wa.call(t,d3_scale_src_number),c===continuous_identity||(c=clamper(o)),rescale()):o.slice()},scale.range=function(t){return arguments.length?(s=Ta.call(t),rescale()):s.slice()},scale.rangeRound=function(t){return s=Ta.call(t),l=round,rescale()},scale.clamp=function(t){return arguments.length?(c=t?clamper(o):continuous_identity,scale):c!==continuous_identity},scale.interpolate=function(t){return arguments.length?(l=t,rescale()):l},scale.unknown=function(t){return arguments.length?(n=t,scale):n},function(n,r){return t=n,e=r,rescale()}}function continuous(t,e){return continuous_transformer()(t,e)}function tickFormat(t,e,n,r){var i,a=tickStep(t,e,n);switch((r=formatSpecifier(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=precisionPrefix(a,o))||(r.precision=i),Fn(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=precisionRound(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=precisionFixed(a))||(r.precision=i-2*("%"===r.type))}return jn(r)}function linearish(t){var e=t.domain;return t.ticks=function(t){var n=e();return ticks(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return tickFormat(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,s=i[a],l=i[o];return l<s&&(r=s,s=l,l=r,r=a,a=o,o=r),(r=tickIncrement(s,l,n))>0?r=tickIncrement(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=tickIncrement(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[a]=Math.floor(s/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[a]=Math.ceil(s*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}function src_linear_linear(){var t=continuous(continuous_identity,continuous_identity);return t.copy=function(){return copy(t,src_linear_linear())},initRange.apply(t,arguments),linearish(t)}function identity_identity(t){var e;function scale(t){return isNaN(t=+t)?e:t}return scale.invert=scale,scale.domain=scale.range=function(e){return arguments.length?(t=wa.call(e,d3_scale_src_number),scale):t.slice()},scale.unknown=function(t){return arguments.length?(e=t,scale):e},scale.copy=function(){return identity_identity(t).unknown(e)},t=arguments.length?wa.call(t,d3_scale_src_number):[0,1],linearish(scale)}function nice(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function transformLog(t){return Math.log(t)}function transformExp(t){return Math.exp(t)}function transformLogn(t){return-Math.log(-t)}function transformExpn(t){return-Math.exp(-t)}function pow10(t){return isFinite(t)?+("1e"+t):t<0?0:t}function reflect(t){return function(e){return-t(-e)}}function loggish(t){var e,n,r=t(transformLog,transformExp),i=r.domain,a=10;function rescale(){return e=function logp(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(a),n=function powp(t){return 10===t?pow10:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(a),i()[0]<0?(e=reflect(e),n=reflect(n),t(transformLogn,transformExpn)):t(transformLog,transformExp),r}return r.base=function(t){return arguments.length?(a=+t,rescale()):a},r.domain=function(t){return arguments.length?(i(t),rescale()):i()},r.ticks=function(t){var r,o=i(),s=o[0],l=o[o.length-1];(r=l<s)&&(m=s,s=l,l=m);var c,u,p,m=e(s),_=e(l),v=null==t?10:+t,b=[];if(!(a%1)&&_-m<v){if(m=Math.round(m)-1,_=Math.round(_)+1,s>0){for(;m<_;++m)for(u=1,c=n(m);u<a;++u)if(!((p=c*u)<s)){if(p>l)break;b.push(p)}}else for(;m<_;++m)for(u=a-1,c=n(m);u>=1;--u)if(!((p=c*u)<s)){if(p>l)break;b.push(p)}}else b=ticks(m,_,Math.min(_-m,v)).map(n);return r?b.reverse():b},r.tickFormat=function(t,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=jn(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,a*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*a<a-.5&&(r*=a),r<=o?i(t):""}},r.nice=function(){return i(nice(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function log_log(){var t=loggish(continuous_transformer()).domain([1,10]);return t.copy=function(){return copy(t,log_log()).base(t.base())},initRange.apply(t,arguments),t}function transformSymlog(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function transformSymexp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function symlogish(t){var e=1,n=t(transformSymlog(e),transformSymexp(e));return n.constant=function(n){return arguments.length?t(transformSymlog(e=+n),transformSymexp(e)):e},linearish(n)}function symlog(){var t=symlogish(continuous_transformer());return t.copy=function(){return copy(t,symlog()).constant(t.constant())},initRange.apply(t,arguments)}function transformPow(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function transformSqrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function transformSquare(t){return t<0?-t*t:t*t}function powish(t){var e=t(continuous_identity,continuous_identity),n=1;return e.exponent=function(e){return arguments.length?(n=+e,function rescale(){return 1===n?t(continuous_identity,continuous_identity):.5===n?t(transformSqrt,transformSquare):t(transformPow(n),transformPow(1/n))}()):n},linearish(e)}function pow_pow(){var t=powish(continuous_transformer());return t.copy=function(){return copy(t,pow_pow()).exponent(t.exponent())},initRange.apply(t,arguments),t}function pow_sqrt(){return pow_pow.apply(null,arguments).exponent(.5)}function quantile_quantile(){var t,e=[],n=[],r=[];function rescale(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=quantile(e,t/i);return scale}function scale(e){return isNaN(e=+e)?t:n[s(r,e)]}return scale.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},scale.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,i=t.length;r<i;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(ascending),rescale()},scale.range=function(t){return arguments.length?(n=Ta.call(t),rescale()):n.slice()},scale.unknown=function(e){return arguments.length?(t=e,scale):t},scale.quantiles=function(){return r.slice()},scale.copy=function(){return quantile_quantile().domain(e).range(n).unknown(t)},initRange.apply(scale,arguments)}function quantize_quantize(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function scale(e){return e<=e?a[s(i,e,0,r)]:t}function rescale(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return scale}return scale.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],rescale()):[e,n]},scale.range=function(t){return arguments.length?(r=(a=Ta.call(t)).length-1,rescale()):a.slice()},scale.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},scale.unknown=function(e){return arguments.length?(t=e,scale):scale},scale.thresholds=function(){return i.slice()},scale.copy=function(){return quantize_quantize().domain([e,n]).range(a).unknown(t)},initRange.apply(linearish(scale),arguments)}function threshold(){var t,e=[.5],n=[0,1],r=1;function scale(i){return i<=i?n[s(e,i,0,r)]:t}return scale.domain=function(t){return arguments.length?(e=Ta.call(t),r=Math.min(e.length,n.length-1),scale):e.slice()},scale.range=function(t){return arguments.length?(n=Ta.call(t),r=Math.min(e.length,n.length-1),scale):n.slice()},scale.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},scale.unknown=function(e){return arguments.length?(t=e,scale):t},scale.copy=function(){return threshold().domain(e).range(n).unknown(t)},initRange.apply(scale,arguments)}var Aa=new Date,Pa=new Date;function newInterval(t,e,n,r){function interval(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return interval.floor=function(e){return t(e=new Date(+e)),e},interval.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},interval.round=function(t){var e=interval(t),n=interval.ceil(t);return t-e<n-t?e:n},interval.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},interval.range=function(n,r,i){var a,o=[];if(n=interval.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return o;do{o.push(a=new Date(+n)),e(n,i),t(n)}while(a<n&&n<r);return o},interval.filter=function(n){return newInterval((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(interval.count=function(e,r){return Aa.setTime(+e),Pa.setTime(+r),t(Aa),t(Pa),Math.floor(n(Aa,Pa))},interval.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?interval.filter(r?function(e){return r(e)%t==0}:function(e){return interval.count(0,e)%t==0}):interval:null}),interval}var Ma=newInterval((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ma.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Ia=Ma;var Ea=Ma.range,Oa=newInterval((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const Da=Oa;var La=Oa.range,Ra=1e3,Na=6e4,ja=36e5,Fa=864e5,Ga=6048e5;function weekday(t){return newInterval((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Na)/Ga}))}var Va=weekday(0),Ya=weekday(1),za=weekday(2),$a=weekday(3),Ha=weekday(4),Ba=weekday(5),Wa=weekday(6),Ua=Va.range,qa=Ya.range,Xa=za.range,Za=$a.range,Qa=Ha.range,Ka=Ba.range,Ja=Wa.range,eo=newInterval((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Na)/Fa}),(function(t){return t.getDate()-1}));const no=eo;var ro=eo.range,io=newInterval((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ra-t.getMinutes()*Na)}),(function(t,e){t.setTime(+t+e*ja)}),(function(t,e){return(e-t)/ja}),(function(t){return t.getHours()}));const ao=io;var oo=io.range,so=newInterval((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ra)}),(function(t,e){t.setTime(+t+e*Na)}),(function(t,e){return(e-t)/Na}),(function(t){return t.getMinutes()}));const lo=so;var co=so.range,uo=newInterval((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*Ra)}),(function(t,e){return(e-t)/Ra}),(function(t){return t.getUTCSeconds()}));const ho=uo;var fo=uo.range,po=newInterval((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));po.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?newInterval((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):po:null};const go=po;var mo=po.range;function utcWeekday(t){return newInterval((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ga}))}var _o=utcWeekday(0),yo=utcWeekday(1),vo=utcWeekday(2),xo=utcWeekday(3),bo=utcWeekday(4),So=utcWeekday(5),wo=utcWeekday(6),To=_o.range,Co=yo.range,ko=vo.range,Ao=xo.range,Po=bo.range,Mo=So.range,Io=wo.range,Eo=newInterval((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Fa}),(function(t){return t.getUTCDate()-1}));const Oo=Eo;var Do=Eo.range,Lo=newInterval((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Lo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?newInterval((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Ro=Lo;var No=Lo.range;function localDate(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function utcDate(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function newDate(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function formatLocale(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,c=formatRe(i),u=formatLookup(i),p=formatRe(a),m=formatLookup(a),_=formatRe(o),v=formatLookup(o),b=formatRe(s),S=formatLookup(s),w=formatRe(l),T=formatLookup(l),C={a:function formatShortWeekday(t){return o[t.getDay()]},A:function formatWeekday(t){return a[t.getDay()]},b:function formatShortMonth(t){return l[t.getMonth()]},B:function formatMonth(t){return s[t.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(t){return i[+(t.getHours()>=12)]},q:function formatQuarter(t){return 1+~~(t.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:locale_formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},A={a:function formatUTCShortWeekday(t){return o[t.getUTCDay()]},A:function formatUTCWeekday(t){return a[t.getUTCDay()]},b:function formatUTCShortMonth(t){return l[t.getUTCMonth()]},B:function formatUTCMonth(t){return s[t.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(t){return i[+(t.getUTCHours()>=12)]},q:function formatUTCQuarter(t){return 1+~~(t.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},P={a:function parseShortWeekday(t,e,n){var r=_.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1},A:function parseWeekday(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=m[r[0].toLowerCase()],n+r[0].length):-1},b:function parseShortMonth(t,e,n){var r=w.exec(e.slice(n));return r?(t.m=T[r[0].toLowerCase()],n+r[0].length):-1},B:function parseMonth(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=S[r[0].toLowerCase()],n+r[0].length):-1},c:function parseLocaleDateTime(t,n,r){return parseSpecifier(t,e,n,r)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(t,e,r){return parseSpecifier(t,n,e,r)},X:function parseLocaleTime(t,e,n){return parseSpecifier(t,r,e,n)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(t,e){return function(n){var r,i,a,o=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(i=zo[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(t.slice(l,s)),o.join("")}}function newParse(t,e){return function(n){var r,i,a=newDate(1900,void 0,1);if(parseSpecifier(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=utcDate(newDate(a.y,0,1))).getUTCDay(),r=i>4||0===i?yo.ceil(r):yo(r),r=Oo.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=localDate(newDate(a.y,0,1))).getDay(),r=i>4||0===i?Ya.ceil(r):Ya(r),r=no.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?utcDate(newDate(a.y,0,1)).getUTCDay():localDate(newDate(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,utcDate(a)):localDate(a)}}function parseSpecifier(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=P[i in zo?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return C.x=newFormat(n,C),C.X=newFormat(r,C),C.c=newFormat(e,C),A.x=newFormat(n,A),A.X=newFormat(r,A),A.c=newFormat(e,A),{format:function(t){var e=newFormat(t+="",C);return e.toString=function(){return t},e},parse:function(t){var e=newParse(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=newFormat(t+="",A);return e.toString=function(){return t},e},utcParse:function(t){var e=newParse(t+="",!0);return e.toString=function(){return t},e}}}var jo,Fo,Go,Vo,Yo,zo={"-":"",_:" ",0:"0"},$o=/^\s*\d+/,Ho=/^%/,Bo=/[\\^$*+?|[\]().{}]/g;function locale_pad(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function requote(t){return t.replace(Bo,"\\$&")}function formatRe(t){return new RegExp("^(?:"+t.map(requote).join("|")+")","i")}function formatLookup(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function parseWeekdayNumberSunday(t,e,n){var r=$o.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function parseWeekdayNumberMonday(t,e,n){var r=$o.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function parseWeekNumberSunday(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function parseWeekNumberISO(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function parseWeekNumberMonday(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function parseFullYear(t,e,n){var r=$o.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function parseYear(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function parseZone(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function parseQuarter(t,e,n){var r=$o.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function parseMonthNumber(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function parseDayOfMonth(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function parseDayOfYear(t,e,n){var r=$o.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function parseHour24(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function parseMinutes(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function parseSeconds(t,e,n){var r=$o.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function parseMilliseconds(t,e,n){var r=$o.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function parseMicroseconds(t,e,n){var r=$o.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function parseLiteralPercent(t,e,n){var r=Ho.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function parseUnixTimestamp(t,e,n){var r=$o.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function parseUnixTimestampSeconds(t,e,n){var r=$o.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function formatDayOfMonth(t,e){return locale_pad(t.getDate(),e,2)}function formatHour24(t,e){return locale_pad(t.getHours(),e,2)}function formatHour12(t,e){return locale_pad(t.getHours()%12||12,e,2)}function formatDayOfYear(t,e){return locale_pad(1+no.count(Ia(t),t),e,3)}function formatMilliseconds(t,e){return locale_pad(t.getMilliseconds(),e,3)}function formatMicroseconds(t,e){return formatMilliseconds(t,e)+"000"}function formatMonthNumber(t,e){return locale_pad(t.getMonth()+1,e,2)}function formatMinutes(t,e){return locale_pad(t.getMinutes(),e,2)}function formatSeconds(t,e){return locale_pad(t.getSeconds(),e,2)}function formatWeekdayNumberMonday(t){var e=t.getDay();return 0===e?7:e}function formatWeekNumberSunday(t,e){return locale_pad(Va.count(Ia(t)-1,t),e,2)}function dISO(t){var e=t.getDay();return e>=4||0===e?Ha(t):Ha.ceil(t)}function formatWeekNumberISO(t,e){return t=dISO(t),locale_pad(Ha.count(Ia(t),t)+(4===Ia(t).getDay()),e,2)}function formatWeekdayNumberSunday(t){return t.getDay()}function formatWeekNumberMonday(t,e){return locale_pad(Ya.count(Ia(t)-1,t),e,2)}function locale_formatYear(t,e){return locale_pad(t.getFullYear()%100,e,2)}function formatYearISO(t,e){return locale_pad((t=dISO(t)).getFullYear()%100,e,2)}function formatFullYear(t,e){return locale_pad(t.getFullYear()%1e4,e,4)}function formatFullYearISO(t,e){var n=t.getDay();return locale_pad((t=n>=4||0===n?Ha(t):Ha.ceil(t)).getFullYear()%1e4,e,4)}function formatZone(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+locale_pad(e/60|0,"0",2)+locale_pad(e%60,"0",2)}function formatUTCDayOfMonth(t,e){return locale_pad(t.getUTCDate(),e,2)}function formatUTCHour24(t,e){return locale_pad(t.getUTCHours(),e,2)}function formatUTCHour12(t,e){return locale_pad(t.getUTCHours()%12||12,e,2)}function formatUTCDayOfYear(t,e){return locale_pad(1+Oo.count(Ro(t),t),e,3)}function formatUTCMilliseconds(t,e){return locale_pad(t.getUTCMilliseconds(),e,3)}function formatUTCMicroseconds(t,e){return formatUTCMilliseconds(t,e)+"000"}function formatUTCMonthNumber(t,e){return locale_pad(t.getUTCMonth()+1,e,2)}function formatUTCMinutes(t,e){return locale_pad(t.getUTCMinutes(),e,2)}function formatUTCSeconds(t,e){return locale_pad(t.getUTCSeconds(),e,2)}function formatUTCWeekdayNumberMonday(t){var e=t.getUTCDay();return 0===e?7:e}function formatUTCWeekNumberSunday(t,e){return locale_pad(_o.count(Ro(t)-1,t),e,2)}function UTCdISO(t){var e=t.getUTCDay();return e>=4||0===e?bo(t):bo.ceil(t)}function formatUTCWeekNumberISO(t,e){return t=UTCdISO(t),locale_pad(bo.count(Ro(t),t)+(4===Ro(t).getUTCDay()),e,2)}function formatUTCWeekdayNumberSunday(t){return t.getUTCDay()}function formatUTCWeekNumberMonday(t,e){return locale_pad(yo.count(Ro(t)-1,t),e,2)}function formatUTCYear(t,e){return locale_pad(t.getUTCFullYear()%100,e,2)}function formatUTCYearISO(t,e){return locale_pad((t=UTCdISO(t)).getUTCFullYear()%100,e,2)}function formatUTCFullYear(t,e){return locale_pad(t.getUTCFullYear()%1e4,e,4)}function formatUTCFullYearISO(t,e){var n=t.getUTCDay();return locale_pad((t=n>=4||0===n?bo(t):bo.ceil(t)).getUTCFullYear()%1e4,e,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(t){return+t}function formatUnixTimestampSeconds(t){return Math.floor(+t/1e3)}function defaultLocale_defaultLocale(t){return jo=formatLocale(t),Fo=jo.format,Go=jo.parse,Vo=jo.utcFormat,Yo=jo.utcParse,jo}defaultLocale_defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Wo=1e3,Uo=60*Wo,qo=60*Uo,Xo=24*qo,Zo=7*Xo,Qo=30*Xo,Ko=365*Xo;function time_date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(t,e,n,r,i,a,o,s,l){var c=continuous(continuous_identity,continuous_identity),u=c.invert,p=c.domain,m=l(".%L"),_=l(":%S"),v=l("%I:%M"),b=l("%I %p"),S=l("%a %d"),w=l("%b %d"),T=l("%B"),C=l("%Y"),A=[[o,1,Wo],[o,5,5*Wo],[o,15,15*Wo],[o,30,30*Wo],[a,1,Uo],[a,5,5*Uo],[a,15,15*Uo],[a,30,30*Uo],[i,1,qo],[i,3,3*qo],[i,6,6*qo],[i,12,12*qo],[r,1,Xo],[r,2,2*Xo],[n,1,Zo],[e,1,Qo],[e,3,3*Qo],[t,1,Ko]];function tickFormat(s){return(o(s)<s?m:a(s)<s?_:i(s)<s?v:r(s)<s?b:e(s)<s?n(s)<s?S:w:t(s)<s?T:C)(s)}function tickInterval(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,o=bisector((function(t){return t[2]})).right(A,a);o===A.length?(i=tickStep(n/Ko,r/Ko,e),e=t):o?(i=(o=A[a/A[o-1][2]<A[o][2]/a?o-1:o])[1],e=o[0]):(i=Math.max(tickStep(n,r,e),1),e=s)}return null==i?e:e.every(i)}return c.invert=function(t){return new Date(u(t))},c.domain=function(t){return arguments.length?p(wa.call(t,time_number)):p().map(time_date)},c.ticks=function(t,e){var n,r=p(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=tickInterval(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?tickFormat:l(e)},c.nice=function(t,e){var n=p();return(t=tickInterval(t,n[0],n[n.length-1],e))?p(nice(n,t)):c},c.copy=function(){return copy(c,calendar(t,e,n,r,i,a,o,s,l))},c}function time(){return initRange.apply(calendar(Ia,Da,Va,no,ao,lo,ho,go,Fo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var Jo=newInterval((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const ts=Jo;var es=Jo.range,ns=newInterval((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*ja)}),(function(t,e){return(e-t)/ja}),(function(t){return t.getUTCHours()}));const rs=ns;var os=ns.range,ss=newInterval((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Na)}),(function(t,e){return(e-t)/Na}),(function(t){return t.getUTCMinutes()}));const ls=ss;var cs=ss.range;function utcTime(){return initRange.apply(calendar(Ro,ts,_o,Oo,rs,ls,ho,go,Vo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sequential_transformer(){var t,e,n,r,i,a=0,o=1,s=continuous_identity,l=!1;function scale(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return scale.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),scale):[a,o]},scale.clamp=function(t){return arguments.length?(l=!!t,scale):l},scale.interpolator=function(t){return arguments.length?(s=t,scale):s},scale.unknown=function(t){return arguments.length?(i=t,scale):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),scale}}function sequential_copy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sequential(){var t=linearish(sequential_transformer()(continuous_identity));return t.copy=function(){return sequential_copy(t,sequential())},initInterpolator.apply(t,arguments)}function sequentialLog(){var t=loggish(sequential_transformer()).domain([1,10]);return t.copy=function(){return sequential_copy(t,sequentialLog()).base(t.base())},initInterpolator.apply(t,arguments)}function sequentialSymlog(){var t=symlogish(sequential_transformer());return t.copy=function(){return sequential_copy(t,sequentialSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function sequentialPow(){var t=powish(sequential_transformer());return t.copy=function(){return sequential_copy(t,sequentialPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var t=[],e=continuous_identity;function scale(n){if(!isNaN(n=+n))return e((s(t,n)-1)/(t.length-1))}return scale.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,i=e.length;r<i;++r)null==(n=e[r])||isNaN(n=+n)||t.push(n);return t.sort(ascending),scale},scale.interpolator=function(t){return arguments.length?(e=t,scale):e},scale.copy=function(){return sequentialQuantile(e).domain(t)},initInterpolator.apply(scale,arguments)}function diverging_transformer(){var t,e,n,r,i,a,o,s=0,l=.5,c=1,u=continuous_identity,p=!1;function scale(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),u(p?Math.max(0,Math.min(1,t)):t))}return scale.domain=function(o){return arguments.length?(t=a(s=+o[0]),e=a(l=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),scale):[s,l,c]},scale.clamp=function(t){return arguments.length?(p=!!t,scale):p},scale.interpolator=function(t){return arguments.length?(u=t,scale):u},scale.unknown=function(t){return arguments.length?(o=t,scale):o},function(o){return a=o,t=o(s),e=o(l),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),scale}}function diverging(){var t=linearish(diverging_transformer()(continuous_identity));return t.copy=function(){return sequential_copy(t,diverging())},initInterpolator.apply(t,arguments)}function divergingLog(){var t=loggish(diverging_transformer()).domain([.1,1,10]);return t.copy=function(){return sequential_copy(t,divergingLog()).base(t.base())},initInterpolator.apply(t,arguments)}function divergingSymlog(){var t=symlogish(diverging_transformer());return t.copy=function(){return sequential_copy(t,divergingSymlog()).constant(t.constant())},initInterpolator.apply(t,arguments)}function divergingPow(){var t=powish(diverging_transformer());return t.copy=function(){return sequential_copy(t,divergingPow()).exponent(t.exponent())},initInterpolator.apply(t,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}function colors(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const us=colors("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ds=colors("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),hs=colors("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),fs=colors("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),ps=colors("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gs=colors("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ms=colors("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_s=colors("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),ys=colors("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),vs=colors("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function ramp(t){return tt(t[t.length-1])}var xs=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(colors);const bs=ramp(xs);var Ss=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(colors);const ws=ramp(Ss);var Ts=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(colors);const Cs=ramp(Ts);var ks=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(colors);const As=ramp(ks);var Ps=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(colors);const Ms=ramp(Ps);var Is=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(colors);const Es=ramp(Is);var Os=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(colors);const Ds=ramp(Os);var Ls=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(colors);const Rs=ramp(Ls);var Ns=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(colors);const js=ramp(Ns);var Fs=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(colors);const Gs=ramp(Fs);var Vs=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(colors);const Ys=ramp(Vs);var zs=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(colors);const $s=ramp(zs);var Hs=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(colors);const Bs=ramp(Hs);var Ws=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(colors);const Us=ramp(Ws);var qs=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(colors);const Xs=ramp(qs);var Zs=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(colors);const Qs=ramp(Zs);var Ks=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(colors);const Js=ramp(Ks);var tl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(colors);const el=ramp(tl);var nl=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(colors);const rl=ramp(nl);var il=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(colors);const al=ramp(il);var ol=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(colors);const sl=ramp(ol);var ll=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(colors);const cl=ramp(ll);var ul=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(colors);const dl=ramp(ul);var hl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(colors);const fl=ramp(hl);var pl=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(colors);const gl=ramp(pl);var ml=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(colors);const _l=ramp(ml);var yl=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(colors);const vl=ramp(yl);function cividis(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const xl=ga(cubehelix_cubehelix(300,.5,0),cubehelix_cubehelix(-240,.5,1));var bl=ga(cubehelix_cubehelix(-100,.75,.35),cubehelix_cubehelix(80,1.5,.8)),Sl=ga(cubehelix_cubehelix(260,.75,.35),cubehelix_cubehelix(80,1.5,.8)),wl=cubehelix_cubehelix();function rainbow(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return wl.h=360*t-100,wl.s=1.5-1.5*e,wl.l=.8-.9*e,wl+""}var Tl=color_rgb(),Cl=Math.PI/3,kl=2*Math.PI/3;function sinebow(t){var e;return t=(.5-t)*Math.PI,Tl.r=255*(e=Math.sin(t))*e,Tl.g=255*(e=Math.sin(t+Cl))*e,Tl.b=255*(e=Math.sin(t+kl))*e,Tl+""}function turbo(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function viridis_ramp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Al=viridis_ramp(colors("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pl=viridis_ramp(colors("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ml=viridis_ramp(colors("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Il=viridis_ramp(colors("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),El=n(4771);function src_create(t){return src_select(creator(t).call(El.documentElement))}var Ol=0;function local_local(){return new Local}function Local(){this._="@"+(++Ol).toString(36)}Local.prototype=local_local.prototype={constructor:Local,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Dl=n(4771);function src_selectAll(t){return"string"==typeof t?new Selection([Dl.querySelectorAll(t)],[Dl.documentElement]):new Selection([null==t?[]:t],N)}function touches(t,e){null==e&&(e=sourceEvent().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=point(t,e[n]);return i}function d3_shape_src_constant(t){return function constant(){return t}}var Ll=Math.abs,Rl=Math.atan2,Nl=Math.cos,jl=Math.max,Fl=Math.min,Gl=Math.sin,Vl=Math.sqrt,Yl=1e-12,zl=Math.PI,$l=zl/2,Hl=2*zl;function math_asin(t){return t>=1?$l:t<=-1?-$l:Math.asin(t)}function arcInnerRadius(t){return t.innerRadius}function arcOuterRadius(t){return t.outerRadius}function arcStartAngle(t){return t.startAngle}function arcEndAngle(t){return t.endAngle}function arcPadAngle(t){return t&&t.padAngle}function cornerTangents(t,e,n,r,i,a,o){var s=t-n,l=e-r,c=(o?a:-a)/Vl(s*s+l*l),u=c*l,p=-c*s,m=t+u,_=e+p,v=n+u,b=r+p,S=(m+v)/2,w=(_+b)/2,T=v-m,C=b-_,A=T*T+C*C,P=i-a,M=m*b-v*_,I=(C<0?-1:1)*Vl(jl(0,P*P*A-M*M)),E=(M*C-T*I)/A,O=(-M*T-C*I)/A,D=(M*C+T*I)/A,L=(-M*T+C*I)/A,R=E-S,N=O-w,F=D-S,G=L-w;return R*R+N*N>F*F+G*G&&(E=D,O=L),{cx:E,cy:O,x01:-u,y01:-p,x11:E*(i/P-1),y11:O*(i/P-1)}}function arc(){var t=arcInnerRadius,e=arcOuterRadius,n=d3_shape_src_constant(0),r=null,i=arcStartAngle,a=arcEndAngle,o=arcPadAngle,s=null;function arc(){var l,c,u=+t.apply(this,arguments),p=+e.apply(this,arguments),m=i.apply(this,arguments)-$l,_=a.apply(this,arguments)-$l,v=Ll(_-m),b=_>m;if(s||(s=l=le()),p<u&&(c=p,p=u,u=c),p>Yl)if(v>Hl-Yl)s.moveTo(p*Nl(m),p*Gl(m)),s.arc(0,0,p,m,_,!b),u>Yl&&(s.moveTo(u*Nl(_),u*Gl(_)),s.arc(0,0,u,_,m,b));else{var S,w,T=m,C=_,A=m,P=_,M=v,I=v,E=o.apply(this,arguments)/2,O=E>Yl&&(r?+r.apply(this,arguments):Vl(u*u+p*p)),D=Fl(Ll(p-u)/2,+n.apply(this,arguments)),L=D,R=D;if(O>Yl){var N=math_asin(O/u*Gl(E)),F=math_asin(O/p*Gl(E));(M-=2*N)>Yl?(A+=N*=b?1:-1,P-=N):(M=0,A=P=(m+_)/2),(I-=2*F)>Yl?(T+=F*=b?1:-1,C-=F):(I=0,T=C=(m+_)/2)}var G=p*Nl(T),V=p*Gl(T),Y=u*Nl(P),z=u*Gl(P);if(D>Yl){var $,H=p*Nl(C),B=p*Gl(C),W=u*Nl(A),U=u*Gl(A);if(v<zl&&($=function intersect(t,e,n,r,i,a,o,s){var l=n-t,c=r-e,u=o-i,p=s-a,m=p*l-u*c;if(!(m*m<Yl))return[t+(m=(u*(e-a)-p*(t-i))/m)*l,e+m*c]}(G,V,W,U,H,B,Y,z))){var q=G-$[0],X=V-$[1],Z=H-$[0],Q=B-$[1],K=1/Gl(function math_acos(t){return t>1?0:t<-1?zl:Math.acos(t)}((q*Z+X*Q)/(Vl(q*q+X*X)*Vl(Z*Z+Q*Q)))/2),J=Vl($[0]*$[0]+$[1]*$[1]);L=Fl(D,(u-J)/(K-1)),R=Fl(D,(p-J)/(K+1))}}I>Yl?R>Yl?(S=cornerTangents(W,U,G,V,p,R,b),w=cornerTangents(H,B,Y,z,p,R,b),s.moveTo(S.cx+S.x01,S.cy+S.y01),R<D?s.arc(S.cx,S.cy,R,Rl(S.y01,S.x01),Rl(w.y01,w.x01),!b):(s.arc(S.cx,S.cy,R,Rl(S.y01,S.x01),Rl(S.y11,S.x11),!b),s.arc(0,0,p,Rl(S.cy+S.y11,S.cx+S.x11),Rl(w.cy+w.y11,w.cx+w.x11),!b),s.arc(w.cx,w.cy,R,Rl(w.y11,w.x11),Rl(w.y01,w.x01),!b))):(s.moveTo(G,V),s.arc(0,0,p,T,C,!b)):s.moveTo(G,V),u>Yl&&M>Yl?L>Yl?(S=cornerTangents(Y,z,H,B,u,-L,b),w=cornerTangents(G,V,W,U,u,-L,b),s.lineTo(S.cx+S.x01,S.cy+S.y01),L<D?s.arc(S.cx,S.cy,L,Rl(S.y01,S.x01),Rl(w.y01,w.x01),!b):(s.arc(S.cx,S.cy,L,Rl(S.y01,S.x01),Rl(S.y11,S.x11),!b),s.arc(0,0,u,Rl(S.cy+S.y11,S.cx+S.x11),Rl(w.cy+w.y11,w.cx+w.x11),b),s.arc(w.cx,w.cy,L,Rl(w.y11,w.x11),Rl(w.y01,w.x01),!b))):s.arc(0,0,u,P,A,b):s.lineTo(Y,z)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return arc.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-zl/2;return[Nl(r)*n,Gl(r)*n]},arc.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(+e),arc):t},arc.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:d3_shape_src_constant(+t),arc):e},arc.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:d3_shape_src_constant(+t),arc):n},arc.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:d3_shape_src_constant(+t),arc):r},arc.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:d3_shape_src_constant(+t),arc):i},arc.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:d3_shape_src_constant(+t),arc):a},arc.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:d3_shape_src_constant(+t),arc):o},arc.context=function(t){return arguments.length?(s=null==t?null:t,arc):s},arc}function Linear(t){this._context=t}function curve_linear(t){return new Linear(t)}function point_x(t){return t[0]}function point_y(t){return t[1]}function src_line(){var t=point_x,e=point_y,n=d3_shape_src_constant(!0),r=null,i=curve_linear,a=null;function line(o){var s,l,c,u=o.length,p=!1;for(null==r&&(a=i(c=le())),s=0;s<=u;++s)!(s<u&&n(l=o[s],s,o))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(l,s,o),+e(l,s,o));if(c)return a=null,c+""||null}return line.x=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(+e),line):t},line.y=function(t){return arguments.length?(e="function"==typeof t?t:d3_shape_src_constant(+t),line):e},line.defined=function(t){return arguments.length?(n="function"==typeof t?t:d3_shape_src_constant(!!t),line):n},line.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),line):i},line.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),line):r},line}function d3_shape_src_area(){var t=point_x,e=null,n=d3_shape_src_constant(0),r=point_y,i=d3_shape_src_constant(!0),a=null,o=curve_linear,s=null;function area(l){var c,u,p,m,_,v=l.length,b=!1,S=new Array(v),w=new Array(v);for(null==a&&(s=o(_=le())),c=0;c<=v;++c){if(!(c<v&&i(m=l[c],c,l))===b)if(b=!b)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),p=c-1;p>=u;--p)s.point(S[p],w[p]);s.lineEnd(),s.areaEnd()}b&&(S[c]=+t(m,c,l),w[c]=+n(m,c,l),s.point(e?+e(m,c,l):S[c],r?+r(m,c,l):w[c]))}if(_)return s=null,_+""||null}function arealine(){return src_line().defined(i).curve(o).context(a)}return area.x=function(n){return arguments.length?(t="function"==typeof n?n:d3_shape_src_constant(+n),e=null,area):t},area.x0=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(+e),area):t},area.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:d3_shape_src_constant(+t),area):e},area.y=function(t){return arguments.length?(n="function"==typeof t?t:d3_shape_src_constant(+t),r=null,area):n},area.y0=function(t){return arguments.length?(n="function"==typeof t?t:d3_shape_src_constant(+t),area):n},area.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:d3_shape_src_constant(+t),area):r},area.lineX0=area.lineY0=function(){return arealine().x(t).y(n)},area.lineY1=function(){return arealine().x(t).y(r)},area.lineX1=function(){return arealine().x(e).y(n)},area.defined=function(t){return arguments.length?(i="function"==typeof t?t:d3_shape_src_constant(!!t),area):i},area.curve=function(t){return arguments.length?(o=t,null!=a&&(s=o(a)),area):o},area.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),area):a},area}function src_descending(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function d3_shape_src_identity(t){return t}function pie(){var t=d3_shape_src_identity,e=src_descending,n=null,r=d3_shape_src_constant(0),i=d3_shape_src_constant(Hl),a=d3_shape_src_constant(0);function pie(o){var s,l,c,u,p,m=o.length,_=0,v=new Array(m),b=new Array(m),S=+r.apply(this,arguments),w=Math.min(Hl,Math.max(-Hl,i.apply(this,arguments)-S)),T=Math.min(Math.abs(w)/m,a.apply(this,arguments)),C=T*(w<0?-1:1);for(s=0;s<m;++s)(p=b[v[s]=s]=+t(o[s],s,o))>0&&(_+=p);for(null!=e?v.sort((function(t,n){return e(b[t],b[n])})):null!=n&&v.sort((function(t,e){return n(o[t],o[e])})),s=0,c=_?(w-m*C)/_:0;s<m;++s,S=u)l=v[s],u=S+((p=b[l])>0?p*c:0)+C,b[l]={data:o[l],index:s,value:p,startAngle:S,endAngle:u,padAngle:T};return b}return pie.value=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(+e),pie):t},pie.sortValues=function(t){return arguments.length?(e=t,n=null,pie):e},pie.sort=function(t){return arguments.length?(n=t,e=null,pie):n},pie.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:d3_shape_src_constant(+t),pie):r},pie.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:d3_shape_src_constant(+t),pie):i},pie.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:d3_shape_src_constant(+t),pie):a},pie}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Bl=curveRadial(curve_linear);function Radial(t){this._curve=t}function curveRadial(t){function radial(e){return new Radial(t(e))}return radial._curve=t,radial}function lineRadial(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}function src_lineRadial(){return lineRadial(src_line().curve(Bl))}function areaRadial(){var t=d3_shape_src_area().curve(Bl),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return lineRadial(n())},delete t.lineX0,t.lineEndAngle=function(){return lineRadial(r())},delete t.lineX1,t.lineInnerRadius=function(){return lineRadial(i())},delete t.lineY0,t.lineOuterRadius=function(){return lineRadial(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(curveRadial(t)):e()._curve},t}function pointRadial(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Wl=Array.prototype.slice;function linkSource(t){return t.source}function linkTarget(t){return t.target}function link_link(t){var e=linkSource,n=linkTarget,r=point_x,i=point_y,a=null;function link(){var o,s=Wl.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(a||(a=o=le()),t(a,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),o)return a=null,o+""||null}return link.source=function(t){return arguments.length?(e=t,link):e},link.target=function(t){return arguments.length?(n=t,link):n},link.x=function(t){return arguments.length?(r="function"==typeof t?t:d3_shape_src_constant(+t),link):r},link.y=function(t){return arguments.length?(i="function"==typeof t?t:d3_shape_src_constant(+t),link):i},link.context=function(t){return arguments.length?(a=null==t?null:t,link):a},link}function curveHorizontal(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function curveVertical(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function link_curveRadial(t,e,n,r,i){var a=pointRadial(e,n),o=pointRadial(e,n=(n+i)/2),s=pointRadial(r,n),l=pointRadial(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}function linkHorizontal(){return link_link(curveHorizontal)}function linkVertical(){return link_link(curveVertical)}function linkRadial(){var t=link_link(link_curveRadial);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const Ul={draw:function(t,e){var n=Math.sqrt(e/zl);t.moveTo(n,0),t.arc(0,0,n,0,Hl)}},ql={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var Xl=Math.sqrt(1/3),Zl=2*Xl;const Ql={draw:function(t,e){var n=Math.sqrt(e/Zl),r=n*Xl;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var Kl=Math.sin(zl/10)/Math.sin(7*zl/10),Jl=Math.sin(Hl/10)*Kl,tc=-Math.cos(Hl/10)*Kl;const ec={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Jl*n,i=tc*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=Hl*a/5,s=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},nc={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var rc=Math.sqrt(3);const ic={draw:function(t,e){var n=-Math.sqrt(e/(3*rc));t.moveTo(0,2*n),t.lineTo(-rc*n,-n),t.lineTo(rc*n,-n),t.closePath()}};var ac=-.5,oc=Math.sqrt(3)/2,sc=1/Math.sqrt(12),lc=3*(sc/2+1);const cc={draw:function(t,e){var n=Math.sqrt(e/lc),r=n/2,i=n*sc,a=r,o=n*sc+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(ac*r-oc*i,oc*r+ac*i),t.lineTo(ac*a-oc*o,oc*a+ac*o),t.lineTo(ac*s-oc*l,oc*s+ac*l),t.lineTo(ac*r+oc*i,ac*i-oc*r),t.lineTo(ac*a+oc*o,ac*o-oc*a),t.lineTo(ac*s+oc*l,ac*l-oc*s),t.closePath()}};var uc=[Ul,ql,Ql,nc,ec,ic,cc];function symbol(){var t=d3_shape_src_constant(Ul),e=d3_shape_src_constant(64),n=null;function symbol(){var r;if(n||(n=r=le()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return symbol.type=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(e),symbol):t},symbol.size=function(t){return arguments.length?(e="function"==typeof t?t:d3_shape_src_constant(+t),symbol):e},symbol.context=function(t){return arguments.length?(n=null==t?null:t,symbol):n},symbol}function d3_shape_src_noop(){}function basis_point(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}function curve_basis(t){return new Basis(t)}function BasisClosed(t){this._context=t}function curve_basisClosed(t){return new BasisClosed(t)}function BasisOpen(t){this._context=t}function basisOpen(t){return new BasisOpen(t)}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:basis_point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:basis_point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*o),this._beta*e[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const dc=function custom(t){function bundle(e){return 1===t?new Basis(e):new Bundle(e,t)}return bundle.beta=function(t){return custom(+t)},bundle}(.85);function cardinal_point(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const hc=function custom(t){function cardinal(e){return new Cardinal(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}CardinalClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const fc=function custom(t){function cardinal(e){return new CardinalClosed(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const pc=function custom(t){function cardinal(e){return new CardinalOpen(e,t)}return cardinal.tension=function(t){return custom(+t)},cardinal}(0);function catmullRom_point(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Yl){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Yl){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gc=function custom(t){function catmullRom(e){return t?new CatmullRom(e,t):new Cardinal(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomClosed(t,e){this._context=t,this._alpha=e}CatmullRomClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const mc=function custom(t){function catmullRom(e){return t?new CatmullRomClosed(e,t):new CardinalClosed(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function CatmullRomOpen(t,e){this._context=t,this._alpha=e}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _c=function custom(t){function catmullRom(e){return t?new CatmullRomOpen(e,t):new CardinalOpen(e,0)}return catmullRom.alpha=function(t){return custom(+t)},catmullRom}(.5);function LinearClosed(t){this._context=t}function linearClosed(t){return new LinearClosed(t)}function monotone_sign(t){return t<0?-1:1}function slope3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(monotone_sign(a)+monotone_sign(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function slope2(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function monotone_point(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function monotoneX(t){return new MonotoneX(t)}function monotoneY(t){return new MonotoneY(t)}function Natural(t){this._context=t}function controlPoints(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function natural(t){return new Natural(t)}function Step(t,e){this._context=t,this._t=e}function step(t){return new Step(t,.5)}function stepBefore(t){return new Step(t,0)}function stepAfter(t){return new Step(t,1)}function offset_none(t,e){if((i=t.length)>1)for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function order_none(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function stackValue(t,e){return t[e]}function stack(){var t=d3_shape_src_constant([]),e=order_none,n=offset_none,r=stackValue;function stack(i){var a,o,s=t.apply(this,arguments),l=i.length,c=s.length,u=new Array(c);for(a=0;a<c;++a){for(var p,m=s[a],_=u[a]=new Array(l),v=0;v<l;++v)_[v]=p=[0,+r(i[v],m,v,i)],p.data=i[v];_.key=m}for(a=0,o=e(u);a<c;++a)u[o[a]].index=a;return n(u,o),u}return stack.keys=function(e){return arguments.length?(t="function"==typeof e?e:d3_shape_src_constant(Wl.call(e)),stack):t},stack.value=function(t){return arguments.length?(r="function"==typeof t?t:d3_shape_src_constant(+t),stack):r},stack.order=function(t){return arguments.length?(e=null==t?order_none:"function"==typeof t?t:d3_shape_src_constant(Wl.call(t)),stack):e},stack.offset=function(t){return arguments.length?(n=null==t?offset_none:t,stack):n},stack}function expand(t,e){if((r=t.length)>0){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}offset_none(t,e)}}function offset_diverging(t,e){if((s=t.length)>0)for(var n,r,i,a,o,s,l=0,c=t[e[0]].length;l<c;++l)for(a=o=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function silhouette(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}offset_none(t,e)}}function wiggle(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],p=u[o][1]||0,m=(p-(u[o-1][1]||0))/2,_=0;_<s;++_){var v=t[e[_]];m+=(v[o][1]||0)-(v[o-1][1]||0)}l+=p,c+=m*p}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,offset_none(t,e)}}function appearance(t){var e=t.map(peak);return order_none(t).sort((function(t,n){return e[t]-e[n]}))}function peak(t){for(var e,n=-1,r=0,i=t.length,a=-1/0;++n<i;)(e=+t[n][1])>a&&(a=e,r=n);return r}function order_ascending(t){var e=t.map(ascending_sum);return order_none(t).sort((function(t,n){return e[t]-e[n]}))}function ascending_sum(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function order_descending(t){return order_ascending(t).reverse()}function insideOut(t){var e,n,r=t.length,i=t.map(ascending_sum),a=appearance(t),o=0,s=0,l=[],c=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)}function reverse(t){return order_none(t).reverse()}LinearClosed.prototype={areaStart:d3_shape_src_noop,areaEnd:d3_shape_src_noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,n=slope3(this,t,e)),n);break;default:monotone_point(this,this._t0,n=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=controlPoints(t),i=controlPoints(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var yc="%Y-%m-%dT%H:%M:%S.%LZ";var vc=Date.prototype.toISOString?function formatIsoNative(t){return t.toISOString()}:Vo(yc);const xc=vc;var bc=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(t){var e=new Date(t);return isNaN(e)?null:e}:Yo(yc);const Sc=bc;function src_interval(t,e,n){var r=new Timer,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?now():+n,r.restart((function tick(a){a+=i,r.restart(tick,i+=e,n),t(a)}),e,n),r)}function d3_voronoi_src_constant(t){return function(){return t}}function src_point_x(t){return t[0]}function src_point_y(t){return t[1]}function RedBlackTree(){this._=null}function RedBlackNode(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function RedBlackRotateLeft(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function RedBlackRotateRight(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function RedBlackFirst(t){for(;t.L;)t=t.L;return t}RedBlackTree.prototype={constructor:RedBlackTree,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=RedBlackFirst(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(RedBlackRotateLeft(this,n),n=(t=n).U),n.C=!1,r.C=!0,RedBlackRotateRight(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(RedBlackRotateRight(this,n),n=(t=n).U),n.C=!1,r.C=!0,RedBlackRotateLeft(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?RedBlackFirst(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,RedBlackRotateLeft(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,RedBlackRotateRight(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,RedBlackRotateLeft(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,RedBlackRotateRight(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,RedBlackRotateLeft(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,RedBlackRotateRight(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const wc=RedBlackTree;function createEdge(t,e,n,r){var i=[null,null],a=Ic.push(i)-1;return i.left=t,i.right=e,n&&setEdgeEnd(i,t,e,n),r&&setEdgeEnd(i,e,t,r),Pc[t.index].halfedges.push(a),Pc[e.index].halfedges.push(a),i}function createBorderEdge(t,e,n){var r=[e,n];return r.left=t,r}function setEdgeEnd(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function clipEdge(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],c=o[1],u=0,p=1,m=s[0]-l,_=s[1]-c;if(a=e-l,m||!(a>0)){if(a/=m,m<0){if(a<u)return;a<p&&(p=a)}else if(m>0){if(a>p)return;a>u&&(u=a)}if(a=r-l,m||!(a<0)){if(a/=m,m<0){if(a>p)return;a>u&&(u=a)}else if(m>0){if(a<u)return;a<p&&(p=a)}if(a=n-c,_||!(a>0)){if(a/=_,_<0){if(a<u)return;a<p&&(p=a)}else if(_>0){if(a>p)return;a>u&&(u=a)}if(a=i-c,_||!(a<0)){if(a/=_,_<0){if(a>p)return;a>u&&(u=a)}else if(_>0){if(a<u)return;a<p&&(p=a)}return!(u>0||p<1)||(u>0&&(t[0]=[l+u*m,c+u*_]),p<1&&(t[1]=[l+p*m,c+p*_]),!0)}}}}}function connectEdge(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],c=t.left,u=t.right,p=c[0],m=c[1],_=u[0],v=u[1],b=(p+_)/2,S=(m+v)/2;if(v===m){if(b<e||b>=r)return;if(p>_){if(l){if(l[1]>=i)return}else l=[b,n];a=[b,i]}else{if(l){if(l[1]<n)return}else l=[b,i];a=[b,n]}}else if(s=S-(o=(p-_)/(v-m))*b,o<-1||o>1)if(p>_){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(m<v){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function cellHalfedgeAngle(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function cellHalfedgeStart(t,e){return e[+(e.left!==t.site)]}function cellHalfedgeEnd(t,e){return e[+(e.left===t.site)]}var Tc,Cc=[];function Circle(){RedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function attachCircle(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,c=r[1]-s,u=a[0]-o,p=a[1]-s,m=2*(l*p-c*u);if(!(m>=-Oc)){var _=l*l+c*c,v=u*u+p*p,b=(p*_-c*v)/m,S=(l*v-u*_)/m,w=Cc.pop()||new Circle;w.arc=t,w.site=i,w.x=b+o,w.y=(w.cy=S+s)+Math.sqrt(b*b+S*S),t.circle=w;for(var T=null,C=Mc._;C;)if(w.y<C.y||w.y===C.y&&w.x<=C.x){if(!C.L){T=C.P;break}C=C.L}else{if(!C.R){T=C;break}C=C.R}Mc.insert(T,w),T||(Tc=w)}}}}function detachCircle(t){var e=t.circle;e&&(e.P||(Tc=e.N),Mc.remove(e),Cc.push(e),RedBlackNode(e),t.circle=null)}var kc=[];function Beach(){RedBlackNode(this),this.edge=this.site=this.circle=null}function createBeach(t){var e=kc.pop()||new Beach;return e.site=t,e}function detachBeach(t){detachCircle(t),Ac.remove(t),kc.push(t),RedBlackNode(t)}function removeBeach(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];detachBeach(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Ec&&Math.abs(r-l.circle.cy)<Ec;)a=l.P,s.unshift(l),detachBeach(l),l=a;s.unshift(l),detachCircle(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<Ec&&Math.abs(r-c.circle.cy)<Ec;)o=c.N,s.push(c),detachBeach(c),c=o;s.push(c),detachCircle(c);var u,p=s.length;for(u=1;u<p;++u)c=s[u],l=s[u-1],setEdgeEnd(c.edge,l.site,c.site,i);l=s[0],(c=s[p-1]).edge=createEdge(l.site,c.site,null,i),attachCircle(l),attachCircle(c)}function addBeach(t){for(var e,n,r,i,a=t[0],o=t[1],s=Ac._;s;)if((r=leftBreakPoint(s,o)-a)>Ec)s=s.L;else{if(!((i=a-rightBreakPoint(s,o))>Ec)){r>-Ec?(e=s.P,n=s):i>-Ec?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function createCell(t){return Pc[t.index]={site:t,halfedges:[]}}(t);var l=createBeach(t);if(Ac.insert(e,l),e||n){if(e===n)return detachCircle(e),n=createBeach(e.site),Ac.insert(l,n),l.edge=n.edge=createEdge(e.site,l.site),attachCircle(e),void attachCircle(n);if(n){detachCircle(e),detachCircle(n);var c=e.site,u=c[0],p=c[1],m=t[0]-u,_=t[1]-p,v=n.site,b=v[0]-u,S=v[1]-p,w=2*(m*S-_*b),T=m*m+_*_,C=b*b+S*S,A=[(S*T-_*C)/w+u,(m*C-b*T)/w+p];setEdgeEnd(n.edge,c,v,A),l.edge=createEdge(c,t,null,A),n.edge=createEdge(t,v,null,A),attachCircle(e),attachCircle(n)}else l.edge=createEdge(e.site,l.site)}}function leftBreakPoint(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],l=n[1],c=l-e;if(!c)return s;var u=s-r,p=1/a-1/c,m=u/c;return p?(-m+Math.sqrt(m*m-2*p*(u*u/(-2*c)-l+c/2+i-a/2)))/p+r:(r+s)/2}function rightBreakPoint(t,e){var n=t.N;if(n)return leftBreakPoint(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Ac,Pc,Mc,Ic,Ec=1e-6,Oc=1e-12;function triangleArea(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function lexicographic(t,e){return e[1]-t[1]||e[0]-t[0]}function Diagram(t,e){var n,r,i,a=t.sort(lexicographic).pop();for(Ic=[],Pc=new Array(t.length),Ac=new wc,Mc=new wc;;)if(i=Tc,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(addBeach(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;removeBeach(i.arc)}if(function sortCellHalfedges(){for(var t,e,n,r,i=0,a=Pc.length;i<a;++i)if((t=Pc[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=cellHalfedgeAngle(t,Ic[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function clipEdges(t,e,n,r){for(var i,a=Ic.length;a--;)connectEdge(i=Ic[a],t,e,n,r)&&clipEdge(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Ec||Math.abs(i[0][1]-i[1][1])>Ec)||delete Ic[a]}(o,s,l,c),function clipCells(t,e,n,r){var i,a,o,s,l,c,u,p,m,_,v,b,S=Pc.length,w=!0;for(i=0;i<S;++i)if(a=Pc[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)Ic[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)v=(_=cellHalfedgeEnd(a,Ic[l[s]]))[0],b=_[1],p=(u=cellHalfedgeStart(a,Ic[l[++s%c]]))[0],m=u[1],(Math.abs(v-p)>Ec||Math.abs(b-m)>Ec)&&(l.splice(s,0,Ic.push(createBorderEdge(o,_,Math.abs(v-t)<Ec&&r-b>Ec?[t,Math.abs(p-t)<Ec?m:r]:Math.abs(b-r)<Ec&&n-v>Ec?[Math.abs(m-r)<Ec?p:n,r]:Math.abs(v-n)<Ec&&b-e>Ec?[n,Math.abs(p-n)<Ec?m:e]:Math.abs(b-e)<Ec&&v-t>Ec?[Math.abs(m-e)<Ec?p:t,e]:null))-1),++c);c&&(w=!1)}if(w){var T,C,A,P=1/0;for(i=0,w=null;i<S;++i)(a=Pc[i])&&(A=(T=(o=a.site)[0]-t)*T+(C=o[1]-e)*C)<P&&(P=A,w=a);if(w){var M=[t,e],I=[t,r],E=[n,r],O=[n,e];w.halfedges.push(Ic.push(createBorderEdge(o=w.site,M,I))-1,Ic.push(createBorderEdge(o,I,E))-1,Ic.push(createBorderEdge(o,E,O))-1,Ic.push(createBorderEdge(o,O,M))-1)}}for(i=0;i<S;++i)(a=Pc[i])&&(a.halfedges.length||delete Pc[i])}(o,s,l,c)}this.edges=Ic,this.cells=Pc,Ac=Mc=Ic=Pc=null}function voronoi(){var t=src_point_x,e=src_point_y,n=null;function voronoi(r){return new Diagram(r.map((function(n,i){var a=[Math.round(t(n,i,r)/Ec)*Ec,Math.round(e(n,i,r)/Ec)*Ec];return a.index=i,a.data=n,a})),n)}return voronoi.polygons=function(t){return voronoi(t).polygons()},voronoi.links=function(t){return voronoi(t).links()},voronoi.triangles=function(t){return voronoi(t).triangles()},voronoi.x=function(e){return arguments.length?(t="function"==typeof e?e:d3_voronoi_src_constant(+e),voronoi):t},voronoi.y=function(t){return arguments.length?(e="function"==typeof t?t:d3_voronoi_src_constant(+t),voronoi):e},voronoi.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],voronoi):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},voronoi.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],voronoi):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},voronoi}function d3_zoom_src_constant(t){return function(){return t}}function ZoomEvent(t,e,n){this.target=t,this.type=e,this.transform=n}function Transform(t,e,n){this.k=t,this.x=e,this.y=n}Diagram.prototype={constructor:Diagram,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return cellHalfedgeStart(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,l=-1,c=e[i[a-1]],u=c.left===s?c.right:c.left;++l<a;)o=u,u=(c=e[i[l]]).left===s?c.right:c.left,o&&u&&r<o.index&&r<u.index&&triangleArea(s,o,u)<0&&t.push([s.data,o.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],c=e-s[1],p=l*l+c*c;p<u&&(u=p,o=s.index)}}))}while(null!==o);return a._found=r,null==n||u<=n*n?i.site:null}},Transform.prototype={constructor:Transform,scale:function(t){return 1===t?this:new Transform(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Transform(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Dc=new Transform(1,0,0);function transform_transform(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Dc;return t.__zoom}function src_noevent_nopropagation(){L.stopImmediatePropagation()}function d3_zoom_src_noevent(){L.preventDefault(),L.stopImmediatePropagation()}function zoom_defaultFilter(){return!L.ctrlKey&&!L.button}function zoom_defaultExtent(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function defaultTransform(){return this.__zoom||Dc}function defaultWheelDelta(){return-L.deltaY*(1===L.deltaMode?.05:L.deltaMode?1:.002)}function zoom_defaultTouchable(){return navigator.maxTouchPoints||"ontouchstart"in this}function defaultConstrain(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function zoom(){var t,e,n=zoom_defaultFilter,r=zoom_defaultExtent,i=defaultConstrain,a=defaultWheelDelta,o=zoom_defaultTouchable,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=src_zoom,p=P("start","zoom","end"),m=500,_=150,v=0;function zoom(t){t.property("__zoom",defaultTransform).on("wheel.zoom",wheeled).on("mousedown.zoom",mousedowned).on("dblclick.zoom",dblclicked).filter(o).on("touchstart.zoom",touchstarted).on("touchmove.zoom",touchmoved).on("touchend.zoom touchcancel.zoom",touchended).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function scale(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new Transform(e,t.x,t.y)}function translate(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Transform(t.k,r,i)}function centroid(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function schedule(t,e,n){t.on("start.zoom",(function(){gesture(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){gesture(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,a=gesture(t,i),o=r.apply(t,i),s=null==n?centroid(o):"function"==typeof n?n.apply(t,i):n,l=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=t.__zoom,p="function"==typeof e?e.apply(t,i):e,m=u(c.invert(s).concat(l/c.k),p.invert(s).concat(l/p.k));return function(t){if(1===t)t=p;else{var e=m(t),n=l/e[2];t=new Transform(n,s[0]-e[0]*n,s[1]-e[1]*n)}a.zoom(null,t)}}))}function gesture(t,e,n){return!n&&t.__zooming||new Gesture(t,e)}function Gesture(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function wheeled(){if(n.apply(this,arguments)){var t=gesture(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,a.apply(this,arguments)))),o=mouse(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[o,e.invert(o)],interrupt(this),t.start()}d3_zoom_src_noevent(),t.wheel=setTimeout((function wheelidled(){t.wheel=null,t.end()}),_),t.zoom("mouse",i(translate(scale(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}}function mousedowned(){if(!e&&n.apply(this,arguments)){var t=gesture(this,arguments,!0),r=src_select(L.view).on("mousemove.zoom",(function mousemoved(){if(d3_zoom_src_noevent(),!t.moved){var e=L.clientX-o,n=L.clientY-s;t.moved=e*e+n*n>v}t.zoom("mouse",i(translate(t.that.__zoom,t.mouse[0]=mouse(t.that),t.mouse[1]),t.extent,l))}),!0).on("mouseup.zoom",(function mouseupped(){r.on("mousemove.zoom mouseup.zoom",null),yesdrag(L.view,t.moved),d3_zoom_src_noevent(),t.end()}),!0),a=mouse(this),o=L.clientX,s=L.clientY;nodrag(L.view),src_noevent_nopropagation(),t.mouse=[a,this.__zoom.invert(a)],interrupt(this),t.start()}}function dblclicked(){if(n.apply(this,arguments)){var t=this.__zoom,e=mouse(this),a=t.invert(e),o=t.k*(L.shiftKey?.5:2),s=i(translate(scale(t,o),e,a),r.apply(this,arguments),l);d3_zoom_src_noevent(),c>0?src_select(this).transition().duration(c).call(schedule,s,e):src_select(this).call(zoom.transform,s)}}function touchstarted(){if(n.apply(this,arguments)){var e,r,i,a,o=L.touches,s=o.length,l=gesture(this,arguments,L.changedTouches.length===s);for(src_noevent_nopropagation(),r=0;r<s;++r)a=[a=touch(this,o,(i=o[r]).identifier),this.__zoom.invert(a),i.identifier],l.touch0?l.touch1||l.touch0[2]===a[2]||(l.touch1=a,l.taps=0):(l.touch0=a,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),m)),interrupt(this),l.start())}}function touchmoved(){if(this.__zooming){var e,n,r,a,o=gesture(this,arguments),s=L.changedTouches,c=s.length;for(d3_zoom_src_noevent(),t&&(t=clearTimeout(t)),o.taps=0,e=0;e<c;++e)r=touch(this,s,(n=s[e]).identifier),o.touch0&&o.touch0[2]===n.identifier?o.touch0[0]=r:o.touch1&&o.touch1[2]===n.identifier&&(o.touch1[0]=r);if(n=o.that.__zoom,o.touch1){var u=o.touch0[0],p=o.touch0[1],m=o.touch1[0],_=o.touch1[1],v=(v=m[0]-u[0])*v+(v=m[1]-u[1])*v,b=(b=_[0]-p[0])*b+(b=_[1]-p[1])*b;n=scale(n,Math.sqrt(v/b)),r=[(u[0]+m[0])/2,(u[1]+m[1])/2],a=[(p[0]+_[0])/2,(p[1]+_[1])/2]}else{if(!o.touch0)return;r=o.touch0[0],a=o.touch0[1]}o.zoom("touch",i(translate(n,r,a),o.extent,l))}}function touchended(){if(this.__zooming){var t,n,r=gesture(this,arguments),i=L.changedTouches,a=i.length;for(src_noevent_nopropagation(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),m),t=0;t<a;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var o=src_select(this).on("dblclick.zoom");o&&o.apply(this,arguments)}}}return zoom.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",defaultTransform),t!==r?schedule(t,e,n):r.interrupt().each((function(){gesture(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},zoom.scaleBy=function(t,e,n){zoom.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n)},zoom.scaleTo=function(t,e,n){zoom.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,o=null==n?centroid(t):"function"==typeof n?n.apply(this,arguments):n,s=a.invert(o),c="function"==typeof e?e.apply(this,arguments):e;return i(translate(scale(a,c),o,s),t,l)}),n)},zoom.translateBy=function(t,e,n){zoom.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},zoom.translateTo=function(t,e,n,a){zoom.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,s=null==a?centroid(t):"function"==typeof a?a.apply(this,arguments):a;return i(Dc.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),a)},Gesture.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){customEvent(new ZoomEvent(zoom,t,this.that.__zoom),p.apply,p,[t,this.that,this.args])}},zoom.wheelDelta=function(t){return arguments.length?(a="function"==typeof t?t:d3_zoom_src_constant(+t),zoom):a},zoom.filter=function(t){return arguments.length?(n="function"==typeof t?t:d3_zoom_src_constant(!!t),zoom):n},zoom.touchable=function(t){return arguments.length?(o="function"==typeof t?t:d3_zoom_src_constant(!!t),zoom):o},zoom.extent=function(t){return arguments.length?(r="function"==typeof t?t:d3_zoom_src_constant([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),zoom):r},zoom.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],zoom):[s[0],s[1]]},zoom.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],zoom):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},zoom.constrain=function(t){return arguments.length?(i=t,zoom):i},zoom.duration=function(t){return arguments.length?(c=+t,zoom):c},zoom.interpolate=function(t){return arguments.length?(u=t,zoom):u},zoom.on=function(){var t=p.on.apply(p,arguments);return t===p?zoom:t},zoom.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,zoom):Math.sqrt(v)},zoom}transform_transform.prototype=Transform.prototype},9755:function(t,e,n){var r,i=n(6885);!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}(void 0!==i?i:this,(function(n,i){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},c=a.push,u=a.indexOf,p={},m=p.toString,_=p.hasOwnProperty,v=_.toString,b=v.call(Object),S={},w=function isFunction(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},T=function isWindow(t){return null!=t&&t===t.window},C=n.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function DOMEval(t,e,n){var r,i,a=(n=n||C).createElement("script");if(a.text=t,e)for(r in A)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&a.setAttribute(r,i);n.head.appendChild(a).parentNode.removeChild(a)}function toType(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?p[m.call(t)]||"object":typeof t}var P="3.7.1",M=/HTML$/i,jQuery=function(t,e){return new jQuery.fn.init(t,e)};function isArrayLike(t){var e=!!t&&"length"in t&&t.length,n=toType(t);return!w(t)&&!T(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function nodeName(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}jQuery.fn=jQuery.prototype={jquery:P,constructor:jQuery,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=jQuery.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return jQuery.each(this,t)},map:function(t){return this.pushStack(jQuery.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(jQuery.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(jQuery.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},jQuery.extend=jQuery.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||w(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&o!==r&&(c&&r&&(jQuery.isPlainObject(r)||(i=Array.isArray(r)))?(n=o[e],a=i&&!Array.isArray(n)?[]:i||jQuery.isPlainObject(n)?n:{},i=!1,o[e]=jQuery.extend(c,a,r)):void 0!==r&&(o[e]=r));return o},jQuery.extend({expando:"jQuery"+(P+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==m.call(t))&&(!(e=o(t))||"function"==typeof(n=_.call(e,"constructor")&&e.constructor)&&v.call(n)===b)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){DOMEval(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(isArrayLike(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},text:function(t){var e,n="",r=0,i=t.nodeType;if(!i)for(;e=t[r++];)n+=jQuery.text(e);return 1===i||11===i?t.textContent:9===i?t.documentElement.textContent:3===i||4===i?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(isArrayLike(Object(t))?jQuery.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:u.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!M.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,a=t.length,o=!n;i<a;i++)!e(t[i],i)!==o&&r.push(t[i]);return r},map:function(t,e,n){var r,i,a=0,o=[];if(isArrayLike(t))for(r=t.length;a<r;a++)null!=(i=e(t[a],a,n))&&o.push(i);else for(a in t)null!=(i=e(t[a],a,n))&&o.push(i);return l(o)},guid:1,support:S}),"function"==typeof Symbol&&(jQuery.fn[Symbol.iterator]=a[Symbol.iterator]),jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){p["[object "+e+"]"]=e.toLowerCase()}));var I=a.pop,E=a.sort,O=a.splice,D="[\\x20\\t\\r\\n\\f]",L=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");jQuery.contains=function(t,e){var n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var R=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function fcssescape(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}jQuery.escapeSelector=function(t){return(t+"").replace(R,fcssescape)};var N=C,F=c;!function(){var t,e,r,i,o,l,c,p,m,v,b=F,w=jQuery.expando,T=0,C=0,A=createCache(),P=createCache(),M=createCache(),R=createCache(),sortOrder=function(t,e){return t===e&&(o=!0),0},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Y="\\["+D+"*("+V+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+D+"*\\]",z=":("+V+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Y+")*)|.*)\\)|)",$=new RegExp(D+"+","g"),H=new RegExp("^"+D+"*,"+D+"*"),B=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),W=new RegExp(D+"|>"),U=new RegExp(z),q=new RegExp("^"+V+"$"),X={ID:new RegExp("^#("+V+")"),CLASS:new RegExp("^\\.("+V+")"),TAG:new RegExp("^("+V+"|[*])"),ATTR:new RegExp("^"+Y),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,tt=new RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),funescape=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},unloadHandler=function(){setDocument()},et=addCombinator((function(t){return!0===t.disabled&&nodeName(t,"fieldset")}),{dir:"parentNode",next:"legend"});try{b.apply(a=s.call(N.childNodes),N.childNodes),a[N.childNodes.length].nodeType}catch(t){b={apply:function(t,e){F.apply(t,s.call(e))},call:function(t){F.apply(t,s.call(arguments,1))}}}function find(t,e,n,r){var i,a,o,s,c,u,_,v=e&&e.ownerDocument,T=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return n;if(!r&&(setDocument(e),e=e||l,p)){if(11!==T&&(c=K.exec(t)))if(i=c[1]){if(9===T){if(!(o=e.getElementById(i)))return n;if(o.id===i)return b.call(n,o),n}else if(v&&(o=v.getElementById(i))&&find.contains(e,o)&&o.id===i)return b.call(n,o),n}else{if(c[2])return b.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&e.getElementsByClassName)return b.apply(n,e.getElementsByClassName(i)),n}if(!(R[t+" "]||m&&m.test(t))){if(_=t,v=e,1===T&&(W.test(t)||B.test(t))){for((v=J.test(t)&&testContext(e.parentNode)||e)==e&&S.scope||((s=e.getAttribute("id"))?s=jQuery.escapeSelector(s):e.setAttribute("id",s=w)),a=(u=tokenize(t)).length;a--;)u[a]=(s?"#"+s:":scope")+" "+toSelector(u[a]);_=u.join(",")}try{return b.apply(n,v.querySelectorAll(_)),n}catch(e){R(t,!0)}finally{s===w&&e.removeAttribute("id")}}}return select(t.replace(L,"$1"),e,n,r)}function createCache(){var t=[];return function cache(n,r){return t.push(n+" ")>e.cacheLength&&delete cache[t.shift()],cache[n+" "]=r}}function markFunction(t){return t[w]=!0,t}function assert(t){var e=l.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function createInputPseudo(t){return function(e){return nodeName(e,"input")&&e.type===t}}function createButtonPseudo(t){return function(e){return(nodeName(e,"input")||nodeName(e,"button"))&&e.type===t}}function createDisabledPseudo(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&et(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function createPositionalPseudo(t){return markFunction((function(e){return e=+e,markFunction((function(n,r){for(var i,a=t([],n.length,e),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))}))}))}function testContext(t){return t&&void 0!==t.getElementsByTagName&&t}function setDocument(t){var n,r=t?t.ownerDocument||t:N;return r!=l&&9===r.nodeType&&r.documentElement?(c=(l=r).documentElement,p=!jQuery.isXMLDoc(l),v=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&N!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",unloadHandler),S.getById=assert((function(t){return c.appendChild(t).id=jQuery.expando,!l.getElementsByName||!l.getElementsByName(jQuery.expando).length})),S.disconnectedMatch=assert((function(t){return v.call(t,"*")})),S.scope=assert((function(){return l.querySelectorAll(":scope")})),S.cssHas=assert((function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}})),S.getById?(e.filter.ID=function(t){var e=t.replace(tt,funescape);return function(t){return t.getAttribute("id")===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n=e.getElementById(t);return n?[n]:[]}}):(e.filter.ID=function(t){var e=t.replace(tt,funescape);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},e.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n,r,i,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(i=e.getElementsByName(t),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),e.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},e.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&p)return e.getElementsByClassName(t)},m=[],assert((function(t){var e;c.appendChild(t).innerHTML="<a id='"+w+"' href='' disabled='disabled'></a><select id='"+w+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||m.push("\\["+D+"*(?:value|"+G+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]"),t.querySelectorAll(":checked").length||m.push(":checked"),(e=l.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),c.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),(e=l.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||m.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")})),S.cssHas||m.push(":has"),m=m.length&&new RegExp(m.join("|")),sortOrder=function(t,e){if(t===e)return o=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!S.sortDetached&&e.compareDocumentPosition(t)===n?t===l||t.ownerDocument==N&&find.contains(N,t)?-1:e===l||e.ownerDocument==N&&find.contains(N,e)?1:i?u.call(i,t)-u.call(i,e):0:4&n?-1:1)},l):l}for(t in find.matches=function(t,e){return find(t,null,null,e)},find.matchesSelector=function(t,e){if(setDocument(t),p&&!R[e+" "]&&(!m||!m.test(e)))try{var n=v.call(t,e);if(n||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){R(e,!0)}return find(e,l,null,[t]).length>0},find.contains=function(t,e){return(t.ownerDocument||t)!=l&&setDocument(t),jQuery.contains(t,e)},find.attr=function(t,n){(t.ownerDocument||t)!=l&&setDocument(t);var r=e.attrHandle[n.toLowerCase()],i=r&&_.call(e.attrHandle,n.toLowerCase())?r(t,n,!p):void 0;return void 0!==i?i:t.getAttribute(n)},find.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},jQuery.uniqueSort=function(t){var e,n=[],r=0,a=0;if(o=!S.sortStable,i=!S.sortStable&&s.call(t,0),E.call(t,sortOrder),o){for(;e=t[a++];)e===t[a]&&(r=n.push(a));for(;r--;)O.call(t,n[r],1)}return i=null,t},jQuery.fn.uniqueSort=function(){return this.pushStack(jQuery.uniqueSort(s.apply(this)))},e=jQuery.expr={cacheLength:50,createPseudo:markFunction,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(tt,funescape),t[3]=(t[3]||t[4]||t[5]||"").replace(tt,funescape),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||find.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&find.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=tokenize(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(tt,funescape).toLowerCase();return"*"===t?function(){return!0}:function(t){return nodeName(t,e)}},CLASS:function(t){var e=A[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&A(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=find.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,p,m,_,v=a!==o?"nextSibling":"previousSibling",b=e.parentNode,S=s&&e.nodeName.toLowerCase(),C=!l&&!s,A=!1;if(b){if(a){for(;v;){for(p=e;p=p[v];)if(s?nodeName(p,S):1===p.nodeType)return!1;_=v="only"===t&&!_&&"nextSibling"}return!0}if(_=[o?b.firstChild:b.lastChild],o&&C){for(A=(m=(c=(u=b[w]||(b[w]={}))[t]||[])[0]===T&&c[1])&&c[2],p=m&&b.childNodes[m];p=++m&&p&&p[v]||(A=m=0)||_.pop();)if(1===p.nodeType&&++A&&p===e){u[t]=[T,m,A];break}}else if(C&&(A=m=(c=(u=e[w]||(e[w]={}))[t]||[])[0]===T&&c[1]),!1===A)for(;(p=++m&&p&&p[v]||(A=m=0)||_.pop())&&(!(s?nodeName(p,S):1===p.nodeType)||!++A||(C&&((u=p[w]||(p[w]={}))[t]=[T,A]),p!==e)););return(A-=i)===r||A%r==0&&A/r>=0}}},PSEUDO:function(t,n){var r,i=e.pseudos[t]||e.setFilters[t.toLowerCase()]||find.error("unsupported pseudo: "+t);return i[w]?i(n):i.length>1?(r=[t,t,"",n],e.setFilters.hasOwnProperty(t.toLowerCase())?markFunction((function(t,e){for(var r,a=i(t,n),o=a.length;o--;)t[r=u.call(t,a[o])]=!(e[r]=a[o])})):function(t){return i(t,0,r)}):i}},pseudos:{not:markFunction((function(t){var e=[],n=[],r=compile(t.replace(L,"$1"));return r[w]?markFunction((function(t,e,n,i){for(var a,o=r(t,null,i,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))})):function(t,i,a){return e[0]=t,r(e,null,a,n),e[0]=null,!n.pop()}})),has:markFunction((function(t){return function(e){return find(t,e).length>0}})),contains:markFunction((function(t){return t=t.replace(tt,funescape),function(e){return(e.textContent||jQuery.text(e)).indexOf(t)>-1}})),lang:markFunction((function(t){return q.test(t||"")||find.error("unsupported lang: "+t),t=t.replace(tt,funescape).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===c},focus:function(t){return t===function safeActiveElement(){try{return l.activeElement}catch(t){}}()&&l.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:createDisabledPseudo(!1),disabled:createDisabledPseudo(!0),checked:function(t){return nodeName(t,"input")&&!!t.checked||nodeName(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!e.pseudos.empty(t)},header:function(t){return Q.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){return nodeName(t,"input")&&"button"===t.type||nodeName(t,"button")},text:function(t){var e;return nodeName(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:createPositionalPseudo((function(){return[0]})),last:createPositionalPseudo((function(t,e){return[e-1]})),eq:createPositionalPseudo((function(t,e,n){return[n<0?n+e:n]})),even:createPositionalPseudo((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:createPositionalPseudo((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:createPositionalPseudo((function(t,e,n){var r;for(r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:createPositionalPseudo((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}},e.pseudos.nth=e.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})e.pseudos[t]=createInputPseudo(t);for(t in{submit:!0,reset:!0})e.pseudos[t]=createButtonPseudo(t);function setFilters(){}function tokenize(t,n){var r,i,a,o,s,l,c,u=P[t+" "];if(u)return n?0:u.slice(0);for(s=t,l=[],c=e.preFilter;s;){for(o in r&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),r=!1,(i=B.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(L," ")}),s=s.slice(r.length)),e.filter)!(i=X[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?find.error(t):P(t,l).slice(0)}function toSelector(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function addCombinator(t,e,n){var r=e.dir,i=e.next,a=i||r,o=n&&"parentNode"===a,s=C++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||o)return t(e,n,i);return!1}:function(e,n,l){var c,u,p=[T,s];if(l){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[r];)if(1===e.nodeType||o)if(u=e[w]||(e[w]={}),i&&nodeName(e,i))e=e[r]||e;else{if((c=u[a])&&c[0]===T&&c[1]===s)return p[2]=c[2];if(u[a]=p,p[2]=t(e,n,l))return!0}return!1}}function elementMatcher(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function condense(t,e,n,r,i){for(var a,o=[],s=0,l=t.length,c=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,r,i)||(o.push(a),c&&e.push(s)));return o}function setMatcher(t,e,n,r,i,a){return r&&!r[w]&&(r=setMatcher(r)),i&&!i[w]&&(i=setMatcher(i,a)),markFunction((function(a,o,s,l){var c,p,m,_,v=[],S=[],w=o.length,T=a||function multipleContexts(t,e,n){for(var r=0,i=e.length;r<i;r++)find(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),C=!t||!a&&e?T:condense(T,v,t,s,l);if(n?n(C,_=i||(a?t:w||r)?[]:o,s,l):_=C,r)for(c=condense(_,S),r(c,[],s,l),p=c.length;p--;)(m=c[p])&&(_[S[p]]=!(C[S[p]]=m));if(a){if(i||t){if(i){for(c=[],p=_.length;p--;)(m=_[p])&&c.push(C[p]=m);i(null,_=[],c,l)}for(p=_.length;p--;)(m=_[p])&&(c=i?u.call(a,m):v[p])>-1&&(a[c]=!(o[c]=m))}}else _=condense(_===o?_.splice(w,_.length):_),i?i(null,o,_,l):b.apply(o,_)}))}function matcherFromTokens(t){for(var n,i,a,o=t.length,s=e.relative[t[0].type],l=s||e.relative[" "],c=s?1:0,p=addCombinator((function(t){return t===n}),l,!0),m=addCombinator((function(t){return u.call(n,t)>-1}),l,!0),_=[function(t,e,i){var a=!s&&(i||e!=r)||((n=e).nodeType?p(t,e,i):m(t,e,i));return n=null,a}];c<o;c++)if(i=e.relative[t[c].type])_=[addCombinator(elementMatcher(_),i)];else{if((i=e.filter[t[c].type].apply(null,t[c].matches))[w]){for(a=++c;a<o&&!e.relative[t[a].type];a++);return setMatcher(c>1&&elementMatcher(_),c>1&&toSelector(t.slice(0,c-1).concat({value:" "===t[c-2].type?"*":""})).replace(L,"$1"),i,c<a&&matcherFromTokens(t.slice(c,a)),a<o&&matcherFromTokens(t=t.slice(a)),a<o&&toSelector(t))}_.push(i)}return elementMatcher(_)}function compile(t,n){var i,a=[],o=[],s=M[t+" "];if(!s){for(n||(n=tokenize(t)),i=n.length;i--;)(s=matcherFromTokens(n[i]))[w]?a.push(s):o.push(s);s=M(t,function matcherFromGroupMatchers(t,n){var i=n.length>0,a=t.length>0,superMatcher=function(o,s,c,u,m){var _,v,S,w=0,C="0",A=o&&[],P=[],M=r,E=o||a&&e.find.TAG("*",m),O=T+=null==M?1:Math.random()||.1,D=E.length;for(m&&(r=s==l||s||m);C!==D&&null!=(_=E[C]);C++){if(a&&_){for(v=0,s||_.ownerDocument==l||(setDocument(_),c=!p);S=t[v++];)if(S(_,s||l,c)){b.call(u,_);break}m&&(T=O)}i&&((_=!S&&_)&&w--,o&&A.push(_))}if(w+=C,i&&C!==w){for(v=0;S=n[v++];)S(A,P,s,c);if(o){if(w>0)for(;C--;)A[C]||P[C]||(P[C]=I.call(u));P=condense(P)}b.apply(u,P),m&&!o&&P.length>0&&w+n.length>1&&jQuery.uniqueSort(u)}return m&&(T=O,r=M),A};return i?markFunction(superMatcher):superMatcher}(o,a)),s.selector=t}return s}function select(t,n,r,i){var a,o,s,l,c,u="function"==typeof t&&t,m=!i&&tokenize(t=u.selector||t);if(r=r||[],1===m.length){if((o=m[0]=m[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&9===n.nodeType&&p&&e.relative[o[1].type]){if(!(n=(e.find.ID(s.matches[0].replace(tt,funescape),n)||[])[0]))return r;u&&(n=n.parentNode),t=t.slice(o.shift().value.length)}for(a=X.needsContext.test(t)?0:o.length;a--&&(s=o[a],!e.relative[l=s.type]);)if((c=e.find[l])&&(i=c(s.matches[0].replace(tt,funescape),J.test(o[0].type)&&testContext(n.parentNode)||n))){if(o.splice(a,1),!(t=i.length&&toSelector(o)))return b.apply(r,i),r;break}}return(u||compile(t,m))(i,n,!p,r,!n||J.test(t)&&testContext(n.parentNode)||n),r}setFilters.prototype=e.filters=e.pseudos,e.setFilters=new setFilters,S.sortStable=w.split("").sort(sortOrder).join("")===w,setDocument(),S.sortDetached=assert((function(t){return 1&t.compareDocumentPosition(l.createElement("fieldset"))})),jQuery.find=find,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=jQuery.uniqueSort,find.compile=compile,find.select=select,find.setDocument=setDocument,find.tokenize=tokenize,find.escape=jQuery.escapeSelector,find.getText=jQuery.text,find.isXML=jQuery.isXMLDoc,find.selectors=jQuery.expr,find.support=jQuery.support,find.uniqueSort=jQuery.uniqueSort}();var dir=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&jQuery(t).is(n))break;r.push(t)}return r},siblings=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},G=jQuery.expr.match.needsContext,V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function winnow(t,e,n){return w(e)?jQuery.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?jQuery.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?jQuery.grep(t,(function(t){return u.call(e,t)>-1!==n})):jQuery.filter(e,t,n)}jQuery.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?jQuery.find.matchesSelector(r,t)?[r]:[]:jQuery.find.matches(t,jQuery.grep(e,(function(t){return 1===t.nodeType})))},jQuery.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(jQuery(t).filter((function(){for(e=0;e<r;e++)if(jQuery.contains(i[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)jQuery.find(t,i[e],n);return r>1?jQuery.uniqueSort(n):n},filter:function(t){return this.pushStack(winnow(this,t||[],!1))},not:function(t){return this.pushStack(winnow(this,t||[],!0))},is:function(t){return!!winnow(this,"string"==typeof t&&G.test(t)?jQuery(t):t||[],!1).length}});var Y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(jQuery.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Y,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:z.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof jQuery?e[0]:e,jQuery.merge(this,jQuery.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:C,!0)),V.test(r[1])&&jQuery.isPlainObject(e))for(r in e)w(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=C.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):w(t)?void 0!==n.ready?n.ready(t):t(jQuery):jQuery.makeArray(t,this)}).prototype=jQuery.fn,Y=jQuery(C);var $=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function sibling(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}jQuery.fn.extend({has:function(t){var e=jQuery(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(jQuery.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,i=this.length,a=[],o="string"!=typeof t&&jQuery(t);if(!G.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&jQuery.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?jQuery.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?u.call(jQuery(t),this[0]):u.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),jQuery.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return dir(t,"parentNode")},parentsUntil:function(t,e,n){return dir(t,"parentNode",n)},next:function(t){return sibling(t,"nextSibling")},prev:function(t){return sibling(t,"previousSibling")},nextAll:function(t){return dir(t,"nextSibling")},prevAll:function(t){return dir(t,"previousSibling")},nextUntil:function(t,e,n){return dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return dir(t,"previousSibling",n)},siblings:function(t){return siblings((t.parentNode||{}).firstChild,t)},children:function(t){return siblings(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(nodeName(t,"template")&&(t=t.content||t),jQuery.merge([],t.childNodes))}},(function(t,e){jQuery.fn[t]=function(n,r){var i=jQuery.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=jQuery.filter(r,i)),this.length>1&&(H[t]||jQuery.uniqueSort(i),$.test(t)&&i.reverse()),this.pushStack(i)}}));var B=/[^\x20\t\r\n\f]+/g;function Identity(t){return t}function Thrower(t){throw t}function adoptValue(t,e,n,r){var i;try{t&&w(i=t.promise)?i.call(t).done(e).fail(n):t&&w(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}jQuery.Callbacks=function(t){t="string"==typeof t?function createOptions(t){var e={};return jQuery.each(t.match(B)||[],(function(t,n){e[n]=!0})),e}(t):jQuery.extend({},t);var e,n,r,i,a=[],o=[],s=-1,fire=function(){for(i=i||t.once,r=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,i&&(a=n?[]:"")},l={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function add(e){jQuery.each(e,(function(e,n){w(n)?t.unique&&l.has(n)||a.push(n):n&&n.length&&"string"!==toType(n)&&add(n)}))}(arguments),n&&!e&&fire()),this},remove:function(){return jQuery.each(arguments,(function(t,e){for(var n;(n=jQuery.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(t){return t?jQuery.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||e||(a=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||fire()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},jQuery.extend({Deferred:function(t){var e=[["notify","progress",jQuery.Callbacks("memory"),jQuery.Callbacks("memory"),2],["resolve","done",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),0,"resolved"],["reject","fail",jQuery.Callbacks("once memory"),jQuery.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return jQuery.Deferred((function(n){jQuery.each(e,(function(e,r){var i=w(t[r[4]])&&t[r[4]];a[r[1]]((function(){var t=i&&i.apply(this,arguments);t&&w(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,i){var a=0;function resolve(t,e,r,i){return function(){var o=this,s=arguments,mightThrow=function(){var n,l;if(!(t<a)){if((n=r.apply(o,s))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,w(l)?i?l.call(n,resolve(a,e,Identity,i),resolve(a,e,Thrower,i)):(a++,l.call(n,resolve(a,e,Identity,i),resolve(a,e,Thrower,i),resolve(a,e,Identity,e.notifyWith))):(r!==Identity&&(o=void 0,s=[n]),(i||e.resolveWith)(o,s))}},l=i?mightThrow:function(){try{mightThrow()}catch(n){jQuery.Deferred.exceptionHook&&jQuery.Deferred.exceptionHook(n,l.error),t+1>=a&&(r!==Thrower&&(o=void 0,s=[n]),e.rejectWith(o,s))}};t?l():(jQuery.Deferred.getErrorHook?l.error=jQuery.Deferred.getErrorHook():jQuery.Deferred.getStackHook&&(l.error=jQuery.Deferred.getStackHook()),n.setTimeout(l))}}return jQuery.Deferred((function(n){e[0][3].add(resolve(0,n,w(i)?i:Identity,n.notifyWith)),e[1][3].add(resolve(0,n,w(t)?t:Identity)),e[2][3].add(resolve(0,n,w(r)?r:Thrower))})).promise()},promise:function(t){return null!=t?jQuery.extend(t,i):i}},a={};return jQuery.each(e,(function(t,n){var o=n[2],s=n[5];i[n[1]]=o.add,s&&o.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(n[3].fire),a[n[0]]=function(){return a[n[0]+"With"](this===a?void 0:this,arguments),this},a[n[0]+"With"]=o.fireWith})),i.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,r=Array(n),i=s.call(arguments),a=jQuery.Deferred(),updateFunc=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?s.call(arguments):n,--e||a.resolveWith(r,i)}};if(e<=1&&(adoptValue(t,a.done(updateFunc(n)).resolve,a.reject,!e),"pending"===a.state()||w(i[n]&&i[n].then)))return a.then();for(;n--;)adoptValue(i[n],updateFunc(n),a.reject);return a.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;jQuery.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},jQuery.readyException=function(t){n.setTimeout((function(){throw t}))};var U=jQuery.Deferred();function completed(){C.removeEventListener("DOMContentLoaded",completed),n.removeEventListener("load",completed),jQuery.ready()}jQuery.fn.ready=function(t){return U.then(t).catch((function(t){jQuery.readyException(t)})),this},jQuery.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,!0!==t&&--jQuery.readyWait>0||U.resolveWith(C,[jQuery]))}}),jQuery.ready.then=U.then,"complete"===C.readyState||"loading"!==C.readyState&&!C.documentElement.doScroll?n.setTimeout(jQuery.ready):(C.addEventListener("DOMContentLoaded",completed),n.addEventListener("load",completed));var access=function(t,e,n,r,i,a,o){var s=0,l=t.length,c=null==n;if("object"===toType(n))for(s in i=!0,n)access(t,e,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,w(r)||(o=!0),c&&(o?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(jQuery(t),n)})),e))for(;s<l;s++)e(t[s],n,o?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):l?e(t[0],n):a},q=/^-ms-/,X=/-([a-z])/g;function fcamelCase(t,e){return e.toUpperCase()}function camelCase(t){return t.replace(q,"ms-").replace(X,fcamelCase)}var acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Data(){this.expando=jQuery.expando+Data.uid++}Data.uid=1,Data.prototype={cache:function(t){var e=t[this.expando];return e||(e={},acceptData(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[camelCase(e)]=n;else for(r in e)i[camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(camelCase):(e=camelCase(e))in r?[e]:e.match(B)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||jQuery.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!jQuery.isEmptyObject(e)}};var Z=new Data,Q=new Data,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function dataAttr(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function getData(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:K.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}jQuery.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),jQuery.fn.extend({data:function(t,e){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(i=Q.get(a),1===a.nodeType&&!Z.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=camelCase(r.slice(5)),dataAttr(a,r,i[r]));Z.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each((function(){Q.set(this,t)})):access(this,(function(e){var n;if(a&&void 0===e)return void 0!==(n=Q.get(a,t))||void 0!==(n=dataAttr(a,t))?n:void 0;this.each((function(){Q.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Q.remove(this,t)}))}}),jQuery.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),n&&(!r||Array.isArray(n)?r=Z.access(t,e,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=jQuery.queue(t,e),r=n.length,i=n.shift(),a=jQuery._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete a.stop,i.call(t,(function(){jQuery.dequeue(t,e)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:jQuery.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),jQuery.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?jQuery.queue(this[0],t):void 0===e?this:this.each((function(){var n=jQuery.queue(this,t,e);jQuery._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&jQuery.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){jQuery.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=jQuery.Deferred(),a=this,o=this.length,resolve=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=Z.get(a[o],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(resolve));return resolve(),i.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],rt=C.documentElement,isAttached=function(t){return jQuery.contains(t.ownerDocument,t)},it={composed:!0};rt.getRootNode&&(isAttached=function(t){return jQuery.contains(t.ownerDocument,t)||t.getRootNode(it)===t.ownerDocument});var isHiddenWithinTree=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&isAttached(t)&&"none"===jQuery.css(t,"display")};function adjustCSS(t,e,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return jQuery.css(t,e,"")},l=s(),c=n&&n[3]||(jQuery.cssNumber[e]?"":"px"),u=t.nodeType&&(jQuery.cssNumber[e]||"px"!==c&&+l)&&et.exec(jQuery.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;o--;)jQuery.style(t,e,u+c),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),u/=a;u*=2,jQuery.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var at={};function getDefaultDisplay(t){var e,n=t.ownerDocument,r=t.nodeName,i=at[r];return i||(e=n.body.appendChild(n.createElement(r)),i=jQuery.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),at[r]=i,i)}function showHide(t,e){for(var n,r,i=[],a=0,o=t.length;a<o;a++)(r=t[a]).style&&(n=r.style.display,e?("none"===n&&(i[a]=Z.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&isHiddenWithinTree(r)&&(i[a]=getDefaultDisplay(r))):"none"!==n&&(i[a]="none",Z.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(t[a].style.display=i[a]);return t}jQuery.fn.extend({show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){isHiddenWithinTree(this)?jQuery(this).show():jQuery(this).hide()}))}});var ot,st,lt=/^(?:checkbox|radio)$/i,ct=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ut=/^$|^module$|\/(?:java|ecma)script/i;ot=C.createDocumentFragment().appendChild(C.createElement("div")),(st=C.createElement("input")).setAttribute("type","radio"),st.setAttribute("checked","checked"),st.setAttribute("name","t"),ot.appendChild(st),S.checkClone=ot.cloneNode(!0).cloneNode(!0).lastChild.checked,ot.innerHTML="<textarea>x</textarea>",S.noCloneChecked=!!ot.cloneNode(!0).lastChild.defaultValue,ot.innerHTML="<option></option>",S.option=!!ot.lastChild;var dt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function getAll(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&nodeName(t,e)?jQuery.merge([t],n):n}function setGlobalEval(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td,S.option||(dt.optgroup=dt.option=[1,"<select multiple='multiple'>","</select>"]);var ht=/<|&#?\w+;/;function buildFragment(t,e,n,r,i){for(var a,o,s,l,c,u,p=e.createDocumentFragment(),m=[],_=0,v=t.length;_<v;_++)if((a=t[_])||0===a)if("object"===toType(a))jQuery.merge(m,a.nodeType?[a]:a);else if(ht.test(a)){for(o=o||p.appendChild(e.createElement("div")),s=(ct.exec(a)||["",""])[1].toLowerCase(),l=dt[s]||dt._default,o.innerHTML=l[1]+jQuery.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;jQuery.merge(m,o.childNodes),(o=p.firstChild).textContent=""}else m.push(e.createTextNode(a));for(p.textContent="",_=0;a=m[_++];)if(r&&jQuery.inArray(a,r)>-1)i&&i.push(a);else if(c=isAttached(a),o=getAll(p.appendChild(a),"script"),c&&setGlobalEval(o),n)for(u=0;a=o[u++];)ut.test(a.type||"")&&n.push(a);return p}var ft=/^([^.]*)(?:\.(.+)|)/;function returnTrue(){return!0}function returnFalse(){return!1}function on(t,e,n,r,i,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)on(t,s,n,r,e[s],a);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=returnFalse;else if(!i)return t;return 1===a&&(o=i,i=function(t){return jQuery().off(t),o.apply(this,arguments)},i.guid=o.guid||(o.guid=jQuery.guid++)),t.each((function(){jQuery.event.add(this,e,i,r,n)}))}function leverageNative(t,e,n){n?(Z.set(t,e,!1),jQuery.event.add(t,e,{namespace:!1,handler:function(t){var n,r=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(r)(jQuery.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=s.call(arguments),Z.set(this,e,r),this[e](),n=Z.get(this,e),Z.set(this,e,!1),r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else r&&(Z.set(this,e,jQuery.event.trigger(r[0],r.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=returnTrue)}})):void 0===Z.get(t,e)&&jQuery.event.add(t,e,returnTrue)}jQuery.event={global:{},add:function(t,e,n,r,i){var a,o,s,l,c,u,p,m,_,v,b,S=Z.get(t);if(acceptData(t))for(n.handler&&(n=(a=n).handler,i=a.selector),i&&jQuery.find.matchesSelector(rt,i),n.guid||(n.guid=jQuery.guid++),(l=S.events)||(l=S.events=Object.create(null)),(o=S.handle)||(o=S.handle=function(e){return void 0!==jQuery&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(B)||[""]).length;c--;)_=b=(s=ft.exec(e[c])||[])[1],v=(s[2]||"").split(".").sort(),_&&(p=jQuery.event.special[_]||{},_=(i?p.delegateType:p.bindType)||_,p=jQuery.event.special[_]||{},u=jQuery.extend({type:_,origType:b,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:v.join(".")},a),(m=l[_])||((m=l[_]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,r,v,o)||t.addEventListener&&t.addEventListener(_,o)),p.add&&(p.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?m.splice(m.delegateCount++,0,u):m.push(u),jQuery.event.global[_]=!0)},remove:function(t,e,n,r,i){var a,o,s,l,c,u,p,m,_,v,b,S=Z.hasData(t)&&Z.get(t);if(S&&(l=S.events)){for(c=(e=(e||"").match(B)||[""]).length;c--;)if(_=b=(s=ft.exec(e[c])||[])[1],v=(s[2]||"").split(".").sort(),_){for(p=jQuery.event.special[_]||{},m=l[_=(r?p.delegateType:p.bindType)||_]||[],s=s[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=m.length;a--;)u=m[a],!i&&b!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(m.splice(a,1),u.selector&&m.delegateCount--,p.remove&&p.remove.call(t,u));o&&!m.length&&(p.teardown&&!1!==p.teardown.call(t,v,S.handle)||jQuery.removeEvent(t,_,S.handle),delete l[_])}else for(_ in l)jQuery.event.remove(t,_+e[c],n,r,!0);jQuery.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,a,o,s=new Array(arguments.length),l=jQuery.event.fix(t),c=(Z.get(this,"events")||Object.create(null))[l.type]||[],u=jQuery.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(o=jQuery.event.handlers.call(this,l,c),e=0;(i=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(r=((jQuery.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,r,i,a,o,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[i=(r=e[n]).selector+" "]&&(o[i]=r.needsContext?jQuery(i,this).index(c)>-1:jQuery.find(i,this,null,[c]).length),o[i]&&a.push(r);a.length&&s.push({elem:c,handlers:a})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(jQuery.Event.prototype,t,{enumerable:!0,configurable:!0,get:w(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[jQuery.expando]?t:new jQuery.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return lt.test(e.type)&&e.click&&nodeName(e,"input")&&leverageNative(e,"click",!0),!1},trigger:function(t){var e=this||t;return lt.test(e.type)&&e.click&&nodeName(e,"input")&&leverageNative(e,"click"),!0},_default:function(t){var e=t.target;return lt.test(e.type)&&e.click&&nodeName(e,"input")&&Z.get(e,"click")||nodeName(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},jQuery.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},jQuery.Event=function(t,e){if(!(this instanceof jQuery.Event))return new jQuery.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?returnTrue:returnFalse,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&jQuery.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=returnTrue,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=returnTrue,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},jQuery.event.addProp),jQuery.each({focus:"focusin",blur:"focusout"},(function(t,e){function focusMappedHandler(t){if(C.documentMode){var n=Z.get(this,"handle"),r=jQuery.event.fix(t);r.type="focusin"===t.type?"focus":"blur",r.isSimulated=!0,n(t),r.target===r.currentTarget&&n(r)}else jQuery.event.simulate(e,t.target,jQuery.event.fix(t))}jQuery.event.special[t]={setup:function(){var n;if(leverageNative(this,t,!0),!C.documentMode)return!1;(n=Z.get(this,e))||this.addEventListener(e,focusMappedHandler),Z.set(this,e,(n||0)+1)},trigger:function(){return leverageNative(this,t),!0},teardown:function(){var t;if(!C.documentMode)return!1;(t=Z.get(this,e)-1)?Z.set(this,e,t):(this.removeEventListener(e,focusMappedHandler),Z.remove(this,e))},_default:function(e){return Z.get(e.target,t)},delegateType:e},jQuery.event.special[e]={setup:function(){var n=this.ownerDocument||this.document||this,r=C.documentMode?this:n,i=Z.get(r,e);i||(C.documentMode?this.addEventListener(e,focusMappedHandler):n.addEventListener(t,focusMappedHandler,!0)),Z.set(r,e,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=C.documentMode?this:n,i=Z.get(r,e)-1;i?Z.set(r,e,i):(C.documentMode?this.removeEventListener(e,focusMappedHandler):n.removeEventListener(t,focusMappedHandler,!0),Z.remove(r,e))}}})),jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){jQuery.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||jQuery.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),jQuery.fn.extend({on:function(t,e,n,r){return on(this,t,e,n,r)},one:function(t,e,n,r){return on(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,jQuery(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=returnFalse),this.each((function(){jQuery.event.remove(this,t,n,e)}))}});var pt=/<script|<style|<link/i,gt=/checked\s*(?:[^=]|=\s*.checked.)/i,mt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function manipulationTarget(t,e){return nodeName(t,"table")&&nodeName(11!==e.nodeType?e:e.firstChild,"tr")&&jQuery(t).children("tbody")[0]||t}function disableScript(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function restoreScript(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function cloneCopyEvent(t,e){var n,r,i,a,o,s;if(1===e.nodeType){if(Z.hasData(t)&&(s=Z.get(t).events))for(i in Z.remove(e,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)jQuery.event.add(e,i,s[i][n]);Q.hasData(t)&&(a=Q.access(t),o=jQuery.extend({},a),Q.set(e,o))}}function fixInput(t,e){var n=e.nodeName.toLowerCase();"input"===n&&lt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function domManip(t,e,n,r){e=l(e);var i,a,o,s,c,u,p=0,m=t.length,_=m-1,v=e[0],b=w(v);if(b||m>1&&"string"==typeof v&&!S.checkClone&&gt.test(v))return t.each((function(i){var a=t.eq(i);b&&(e[0]=v.call(this,i,a.html())),domManip(a,e,n,r)}));if(m&&(a=(i=buildFragment(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(s=(o=jQuery.map(getAll(i,"script"),disableScript)).length;p<m;p++)c=i,p!==_&&(c=jQuery.clone(c,!0,!0),s&&jQuery.merge(o,getAll(c,"script"))),n.call(t[p],c,p);if(s)for(u=o[o.length-1].ownerDocument,jQuery.map(o,restoreScript),p=0;p<s;p++)c=o[p],ut.test(c.type||"")&&!Z.access(c,"globalEval")&&jQuery.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?jQuery._evalUrl&&!c.noModule&&jQuery._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):DOMEval(c.textContent.replace(mt,""),c,u))}return t}function remove(t,e,n){for(var r,i=e?jQuery.filter(e,t):t,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||jQuery.cleanData(getAll(r)),r.parentNode&&(n&&isAttached(r)&&setGlobalEval(getAll(r,"script")),r.parentNode.removeChild(r));return t}jQuery.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,a,o,s=t.cloneNode(!0),l=isAttached(t);if(!(S.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||jQuery.isXMLDoc(t)))for(o=getAll(s),r=0,i=(a=getAll(t)).length;r<i;r++)fixInput(a[r],o[r]);if(e)if(n)for(a=a||getAll(t),o=o||getAll(s),r=0,i=a.length;r<i;r++)cloneCopyEvent(a[r],o[r]);else cloneCopyEvent(t,s);return(o=getAll(s,"script")).length>0&&setGlobalEval(o,!l&&getAll(t,"script")),s},cleanData:function(t){for(var e,n,r,i=jQuery.event.special,a=0;void 0!==(n=t[a]);a++)if(acceptData(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?jQuery.event.remove(n,r):jQuery.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),jQuery.fn.extend({detach:function(t){return remove(this,t,!0)},remove:function(t){return remove(this,t)},text:function(t){return access(this,(function(t){return void 0===t?jQuery.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return domManip(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||manipulationTarget(this,t).appendChild(t)}))},prepend:function(){return domManip(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=manipulationTarget(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return domManip(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return domManip(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(jQuery.cleanData(getAll(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return jQuery.clone(this,t,e)}))},html:function(t){return access(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!pt.test(t)&&!dt[(ct.exec(t)||["",""])[1].toLowerCase()]){t=jQuery.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(jQuery.cleanData(getAll(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return domManip(this,arguments,(function(e){var n=this.parentNode;jQuery.inArray(this,t)<0&&(jQuery.cleanData(getAll(this)),n&&n.replaceChild(e,this))}),t)}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){jQuery.fn[t]=function(t){for(var n,r=[],i=jQuery(t),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),jQuery(i[o])[e](n),c.apply(r,n.get());return this.pushStack(r)}}));var _t=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),yt=/^--/,getStyles=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},swap=function(t,e,n){var r,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=a[i];return r},vt=new RegExp(nt.join("|"),"i");function curCSS(t,e,n){var r,i,a,o,s=yt.test(e),l=t.style;return(n=n||getStyles(t))&&(o=n.getPropertyValue(e)||n[e],s&&o&&(o=o.replace(L,"$1")||void 0),""!==o||isAttached(t)||(o=jQuery.style(t,e)),!S.pixelBoxStyles()&&_t.test(o)&&vt.test(e)&&(r=l.width,i=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=o,o=n.width,l.width=r,l.minWidth=i,l.maxWidth=a)),void 0!==o?o+"":o}function addGetHookIf(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function computeStyleTests(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(s).appendChild(l);var a=n.getComputedStyle(l);t="1%"!==a.top,o=12===roundPixelMeasures(a.marginLeft),l.style.right="60%",i=36===roundPixelMeasures(a.right),e=36===roundPixelMeasures(a.width),l.style.position="absolute",r=12===roundPixelMeasures(l.offsetWidth/3),rt.removeChild(s),l=null}}function roundPixelMeasures(t){return Math.round(parseFloat(t))}var t,e,r,i,a,o,s=C.createElement("div"),l=C.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle="content-box"===l.style.backgroundClip,jQuery.extend(S,{boxSizingReliable:function(){return computeStyleTests(),e},pixelBoxStyles:function(){return computeStyleTests(),i},pixelPosition:function(){return computeStyleTests(),t},reliableMarginLeft:function(){return computeStyleTests(),o},scrollboxSize:function(){return computeStyleTests(),r},reliableTrDimensions:function(){var t,e,r,i;return null==a&&(t=C.createElement("table"),e=C.createElement("tr"),r=C.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="box-sizing:content-box;border:1px solid",e.style.height="1px",r.style.height="9px",r.style.display="block",rt.appendChild(t).appendChild(e).appendChild(r),i=n.getComputedStyle(e),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===e.offsetHeight,rt.removeChild(t)),a}}))}();var xt=["Webkit","Moz","ms"],bt=C.createElement("div").style,St={};function finalPropName(t){var e=jQuery.cssProps[t]||St[t];return e||(t in bt?t:St[t]=function vendorPropName(t){for(var e=t[0].toUpperCase()+t.slice(1),n=xt.length;n--;)if((t=xt[n]+e)in bt)return t}(t)||t)}var wt=/^(none|table(?!-c[ea]).+)/,Tt={position:"absolute",visibility:"hidden",display:"block"},Ct={letterSpacing:"0",fontWeight:"400"};function setPositiveNumber(t,e,n){var r=et.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function boxModelAdjustment(t,e,n,r,i,a){var o="width"===e?1:0,s=0,l=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=jQuery.css(t,n+nt[o],!0,i)),r?("content"===n&&(l-=jQuery.css(t,"padding"+nt[o],!0,i)),"margin"!==n&&(l-=jQuery.css(t,"border"+nt[o]+"Width",!0,i))):(l+=jQuery.css(t,"padding"+nt[o],!0,i),"padding"!==n?l+=jQuery.css(t,"border"+nt[o]+"Width",!0,i):s+=jQuery.css(t,"border"+nt[o]+"Width",!0,i));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l+c}function getWidthOrHeight(t,e,n){var r=getStyles(t),i=(!S.boxSizingReliable()||n)&&"border-box"===jQuery.css(t,"boxSizing",!1,r),a=i,o=curCSS(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(_t.test(o)){if(!n)return o;o="auto"}return(!S.boxSizingReliable()&&i||!S.reliableTrDimensions()&&nodeName(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===jQuery.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===jQuery.css(t,"boxSizing",!1,r),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+boxModelAdjustment(t,e,n||(i?"border":"content"),a,r,o)+"px"}function Tween(t,e,n,r,i){return new Tween.prototype.init(t,e,n,r,i)}jQuery.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=curCSS(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,o,s=camelCase(e),l=yt.test(e),c=t.style;if(l||(e=finalPropName(s)),o=jQuery.cssHooks[e]||jQuery.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(t,!1,r))?i:c[e];"string"===(a=typeof n)&&(i=et.exec(n))&&i[1]&&(n=adjustCSS(t,e,i),a="number"),null!=n&&n==n&&("number"!==a||l||(n+=i&&i[3]||(jQuery.cssNumber[s]?"":"px")),S.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,r))||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,a,o,s=camelCase(e);return yt.test(e)||(e=finalPropName(s)),(o=jQuery.cssHooks[e]||jQuery.cssHooks[s])&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=curCSS(t,e,r)),"normal"===i&&e in Ct&&(i=Ct[e]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),jQuery.each(["height","width"],(function(t,e){jQuery.cssHooks[e]={get:function(t,n,r){if(n)return!wt.test(jQuery.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?getWidthOrHeight(t,e,r):swap(t,Tt,(function(){return getWidthOrHeight(t,e,r)}))},set:function(t,n,r){var i,a=getStyles(t),o=!S.scrollboxSize()&&"absolute"===a.position,s=(o||r)&&"border-box"===jQuery.css(t,"boxSizing",!1,a),l=r?boxModelAdjustment(t,e,r,s,a):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-boxModelAdjustment(t,e,"border",!1,a)-.5)),l&&(i=et.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=jQuery.css(t,e)),setPositiveNumber(0,n,l)}}})),jQuery.cssHooks.marginLeft=addGetHookIf(S.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(curCSS(t,"marginLeft"))||t.getBoundingClientRect().left-swap(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),jQuery.each({margin:"",padding:"",border:"Width"},(function(t,e){jQuery.cssHooks[t+e]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+nt[r]+e]=a[r]||a[r-2]||a[0];return i}},"margin"!==t&&(jQuery.cssHooks[t+e].set=setPositiveNumber)})),jQuery.fn.extend({css:function(t,e){return access(this,(function(t,e,n){var r,i,a={},o=0;if(Array.isArray(e)){for(r=getStyles(t),i=e.length;o<i;o++)a[e[o]]=jQuery.css(t,e[o],!1,r);return a}return void 0!==n?jQuery.style(t,e,n):jQuery.css(t,e)}),t,e,arguments.length>1)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(t,e,n,r,i,a){this.elem=t,this.prop=n,this.easing=i||jQuery.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(jQuery.cssNumber[n]?"":"px")},cur:function(){var t=Tween.propHooks[this.prop];return t&&t.get?t.get(this):Tween.propHooks._default.get(this)},run:function(t){var e,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=e=jQuery.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=jQuery.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){jQuery.fx.step[t.prop]?jQuery.fx.step[t.prop](t):1!==t.elem.nodeType||!jQuery.cssHooks[t.prop]&&null==t.elem.style[finalPropName(t.prop)]?t.elem[t.prop]=t.now:jQuery.style(t.elem,t.prop,t.now+t.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},jQuery.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var kt,At,Pt=/^(?:toggle|show|hide)$/,Mt=/queueHooks$/;function schedule(){At&&(!1===C.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(schedule):n.setTimeout(schedule,jQuery.fx.interval),jQuery.fx.tick())}function createFxNow(){return n.setTimeout((function(){kt=void 0})),kt=Date.now()}function genFx(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=nt[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function createTween(t,e,n){for(var r,i=(Animation.tweeners[e]||[]).concat(Animation.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,e,t))return r}function Animation(t,e,n){var r,i,a=0,o=Animation.prefilters.length,s=jQuery.Deferred().always((function(){delete tick.elem})),tick=function(){if(i)return!1;for(var e=kt||createFxNow(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),a=0,o=l.tweens.length;a<o;a++)l.tweens[a].run(r);return s.notifyWith(t,[l,r,n]),r<1&&o?n:(o||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:jQuery.extend({},e),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},n),originalProperties:e,originalOptions:n,startTime:kt||createFxNow(),duration:n.duration,tweens:[],createTween:function(e,n){var r=jQuery.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function propFilter(t,e){var n,r,i,a,o;for(n in t)if(i=e[r=camelCase(n)],a=t[n],Array.isArray(a)&&(i=a[1],a=t[n]=a[0]),n!==r&&(t[r]=a,delete t[n]),(o=jQuery.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete t[r],a)n in t||(t[n]=a[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);a<o;a++)if(r=Animation.prefilters[a].call(l,t,c,l.opts))return w(r.stop)&&(jQuery._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return jQuery.map(c,createTween,l),w(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),jQuery.fx.timer(jQuery.extend(tick,{elem:t,anim:l,queue:l.opts.queue})),l}jQuery.Animation=jQuery.extend(Animation,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return adjustCSS(n.elem,t,et.exec(e),n),n}]},tweener:function(t,e){w(t)?(e=t,t=["*"]):t=t.match(B);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Animation.tweeners[n]=Animation.tweeners[n]||[],Animation.tweeners[n].unshift(e)},prefilters:[function defaultPrefilter(t,e,n){var r,i,a,o,s,l,c,u,p="width"in e||"height"in e,m=this,_={},v=t.style,b=t.nodeType&&isHiddenWithinTree(t),S=Z.get(t,"fxshow");for(r in n.queue||(null==(o=jQuery._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,m.always((function(){m.always((function(){o.unqueued--,jQuery.queue(t,"fx").length||o.empty.fire()}))}))),e)if(i=e[r],Pt.test(i)){if(delete e[r],a=a||"toggle"===i,i===(b?"hide":"show")){if("show"!==i||!S||void 0===S[r])continue;b=!0}_[r]=S&&S[r]||jQuery.style(t,r)}if((l=!jQuery.isEmptyObject(e))||!jQuery.isEmptyObject(_))for(r in p&&1===t.nodeType&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],null==(c=S&&S.display)&&(c=Z.get(t,"display")),"none"===(u=jQuery.css(t,"display"))&&(c?u=c:(showHide([t],!0),c=t.style.display||c,u=jQuery.css(t,"display"),showHide([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===jQuery.css(t,"float")&&(l||(m.done((function(){v.display=c})),null==c&&(u=v.display,c="none"===u?"":u)),v.display="inline-block")),n.overflow&&(v.overflow="hidden",m.always((function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}))),l=!1,_)l||(S?"hidden"in S&&(b=S.hidden):S=Z.access(t,"fxshow",{display:c}),a&&(S.hidden=!b),b&&showHide([t],!0),m.done((function(){for(r in b||showHide([t]),Z.remove(t,"fxshow"),_)jQuery.style(t,r,_[r])}))),l=createTween(b?S[r]:0,r,m),r in S||(S[r]=l.start,b&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?Animation.prefilters.unshift(t):Animation.prefilters.push(t)}}),jQuery.speed=function(t,e,n){var r=t&&"object"==typeof t?jQuery.extend({},t):{complete:n||!n&&e||w(t)&&t,duration:t,easing:n&&e||e&&!w(e)&&e};return jQuery.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in jQuery.fx.speeds?r.duration=jQuery.fx.speeds[r.duration]:r.duration=jQuery.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){w(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(t,e,n,r){return this.filter(isHiddenWithinTree).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=jQuery.isEmptyObject(t),a=jQuery.speed(e,n,r),doAnimation=function(){var e=Animation(this,jQuery.extend({},t),a);(i||Z.get(this,"finish"))&&e.stop(!0)};return doAnimation.finish=doAnimation,i||!1===a.queue?this.each(doAnimation):this.queue(a.queue,doAnimation)},stop:function(t,e,n){var stopQueue=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",i=jQuery.timers,a=Z.get(this);if(r)a[r]&&a[r].stop&&stopQueue(a[r]);else for(r in a)a[r]&&a[r].stop&&Mt.test(r)&&stopQueue(a[r]);for(r=i.length;r--;)i[r].elem!==this||null!=t&&i[r].queue!==t||(i[r].anim.stop(n),e=!1,i.splice(r,1));!e&&n||jQuery.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],a=jQuery.timers,o=r?r.length:0;for(n.finish=!0,jQuery.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),jQuery.each(["toggle","show","hide"],(function(t,e){var n=jQuery.fn[e];jQuery.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(genFx(e,!0),t,r,i)}})),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){jQuery.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),jQuery.timers=[],jQuery.fx.tick=function(){var t,e=0,n=jQuery.timers;for(kt=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||jQuery.fx.stop(),kt=void 0},jQuery.fx.timer=function(t){jQuery.timers.push(t),jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){At||(At=!0,schedule())},jQuery.fx.stop=function(){At=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(t,e){return t=jQuery.fx&&jQuery.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}}))},function(){var t=C.createElement("input"),e=C.createElement("select").appendChild(C.createElement("option"));t.type="checkbox",S.checkOn=""!==t.value,S.optSelected=e.selected,(t=C.createElement("input")).value="t",t.type="radio",S.radioValue="t"===t.value}();var It,Et=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(t,e){return access(this,jQuery.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){jQuery.removeAttr(this,t)}))}}),jQuery.extend({attr:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?jQuery.prop(t,e,n):(1===a&&jQuery.isXMLDoc(t)||(i=jQuery.attrHooks[e.toLowerCase()]||(jQuery.expr.match.bool.test(e)?It:void 0)),void 0!==n?null===n?void jQuery.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=jQuery.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!S.radioValue&&"radio"===e&&nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(B);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),It={set:function(t,e,n){return!1===e?jQuery.removeAttr(t,n):t.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=Et[e]||jQuery.find.attr;Et[e]=function(t,e,r){var i,a,o=e.toLowerCase();return r||(a=Et[o],Et[o]=i,i=null!=n(t,e,r)?o:null,Et[o]=a),i}}));var Ot=/^(?:input|select|textarea|button)$/i,Dt=/^(?:a|area)$/i;function stripAndCollapse(t){return(t.match(B)||[]).join(" ")}function getClass(t){return t.getAttribute&&t.getAttribute("class")||""}function classesToArray(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}jQuery.fn.extend({prop:function(t,e){return access(this,jQuery.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[jQuery.propFix[t]||t]}))}}),jQuery.extend({prop:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&jQuery.isXMLDoc(t)||(e=jQuery.propFix[e]||e,i=jQuery.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=jQuery.find.attr(t,"tabindex");return e?parseInt(e,10):Ot.test(t.nodeName)||Dt.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),S.optSelected||(jQuery.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){jQuery.propFix[this.toLowerCase()]=this})),jQuery.fn.extend({addClass:function(t){var e,n,r,i,a,o;return w(t)?this.each((function(e){jQuery(this).addClass(t.call(this,e,getClass(this)))})):(e=classesToArray(t)).length?this.each((function(){if(r=getClass(this),n=1===this.nodeType&&" "+stripAndCollapse(r)+" "){for(a=0;a<e.length;a++)i=e[a],n.indexOf(" "+i+" ")<0&&(n+=i+" ");o=stripAndCollapse(n),r!==o&&this.setAttribute("class",o)}})):this},removeClass:function(t){var e,n,r,i,a,o;return w(t)?this.each((function(e){jQuery(this).removeClass(t.call(this,e,getClass(this)))})):arguments.length?(e=classesToArray(t)).length?this.each((function(){if(r=getClass(this),n=1===this.nodeType&&" "+stripAndCollapse(r)+" "){for(a=0;a<e.length;a++)for(i=e[a];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");o=stripAndCollapse(n),r!==o&&this.setAttribute("class",o)}})):this:this.attr("class","")},toggleClass:function(t,e){var n,r,i,a,o=typeof t,s="string"===o||Array.isArray(t);return w(t)?this.each((function(n){jQuery(this).toggleClass(t.call(this,n,getClass(this),e),e)})):"boolean"==typeof e&&s?e?this.addClass(t):this.removeClass(t):(n=classesToArray(t),this.each((function(){if(s)for(a=jQuery(this),i=0;i<n.length;i++)r=n[i],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==t&&"boolean"!==o||((r=getClass(this))&&Z.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Z.get(this,"__className__")||""))})))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+stripAndCollapse(getClass(n))+" ").indexOf(e)>-1)return!0;return!1}});var Lt=/\r/g;jQuery.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=w(t),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,jQuery(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=jQuery.map(i,(function(t){return null==t?"":t+""}))),(e=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))}))):i?(e=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Lt,""):null==n?"":n:void 0}}),jQuery.extend({valHooks:{option:{get:function(t){var e=jQuery.find.attr(t,"value");return null!=e?e:stripAndCollapse(jQuery.text(t))}},select:{get:function(t){var e,n,r,i=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:i.length;for(r=a<0?l:o?a:0;r<l;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!nodeName(n.parentNode,"optgroup"))){if(e=jQuery(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,a=jQuery.makeArray(e),o=i.length;o--;)((r=i[o]).selected=jQuery.inArray(jQuery.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),jQuery.each(["radio","checkbox"],(function(){jQuery.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=jQuery.inArray(jQuery(t).val(),e)>-1}},S.checkOn||(jQuery.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var Rt=n.location,Nt={guid:Date.now()},jt=/\?/;jQuery.parseXML=function(t){var e,r;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return r=e&&e.getElementsByTagName("parsererror")[0],e&&!r||jQuery.error("Invalid XML: "+(r?jQuery.map(r.childNodes,(function(t){return t.textContent})).join("\n"):t)),e};var Ft=/^(?:focusinfocus|focusoutblur)$/,stopPropagationCallback=function(t){t.stopPropagation()};jQuery.extend(jQuery.event,{trigger:function(t,e,r,i){var a,o,s,l,c,u,p,m,v=[r||C],b=_.call(t,"type")?t.type:t,S=_.call(t,"namespace")?t.namespace.split("."):[];if(o=m=s=r=r||C,3!==r.nodeType&&8!==r.nodeType&&!Ft.test(b+jQuery.event.triggered)&&(b.indexOf(".")>-1&&(S=b.split("."),b=S.shift(),S.sort()),c=b.indexOf(":")<0&&"on"+b,(t=t[jQuery.expando]?t:new jQuery.Event(b,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=S.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+S.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:jQuery.makeArray(e,[t]),p=jQuery.event.special[b]||{},i||!p.trigger||!1!==p.trigger.apply(r,e))){if(!i&&!p.noBubble&&!T(r)){for(l=p.delegateType||b,Ft.test(l+b)||(o=o.parentNode);o;o=o.parentNode)v.push(o),s=o;s===(r.ownerDocument||C)&&v.push(s.defaultView||s.parentWindow||n)}for(a=0;(o=v[a++])&&!t.isPropagationStopped();)m=o,t.type=a>1?l:p.bindType||b,(u=(Z.get(o,"events")||Object.create(null))[t.type]&&Z.get(o,"handle"))&&u.apply(o,e),(u=c&&o[c])&&u.apply&&acceptData(o)&&(t.result=u.apply(o,e),!1===t.result&&t.preventDefault());return t.type=b,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),e)||!acceptData(r)||c&&w(r[b])&&!T(r)&&((s=r[c])&&(r[c]=null),jQuery.event.triggered=b,t.isPropagationStopped()&&m.addEventListener(b,stopPropagationCallback),r[b](),t.isPropagationStopped()&&m.removeEventListener(b,stopPropagationCallback),jQuery.event.triggered=void 0,s&&(r[c]=s)),t.result}},simulate:function(t,e,n){var r=jQuery.extend(new jQuery.Event,n,{type:t,isSimulated:!0});jQuery.event.trigger(r,null,e)}}),jQuery.fn.extend({trigger:function(t,e){return this.each((function(){jQuery.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return jQuery.event.trigger(t,e,n,!0)}});var Gt=/\[\]$/,Vt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;function buildParams(t,e,n,r){var i;if(Array.isArray(e))jQuery.each(e,(function(e,i){n||Gt.test(t)?r(t,i):buildParams(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)}));else if(n||"object"!==toType(e))r(t,e);else for(i in e)buildParams(t+"["+i+"]",e[i],n,r)}jQuery.param=function(t,e){var n,r=[],add=function(t,e){var n=w(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!jQuery.isPlainObject(t))jQuery.each(t,(function(){add(this.name,this.value)}));else for(n in t)buildParams(n,t[n],e,add);return r.join("&")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=jQuery.prop(this,"elements");return t?jQuery.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!jQuery(this).is(":disabled")&&zt.test(this.nodeName)&&!Yt.test(t)&&(this.checked||!lt.test(t))})).map((function(t,e){var n=jQuery(this).val();return null==n?null:Array.isArray(n)?jQuery.map(n,(function(t){return{name:e.name,value:t.replace(Vt,"\r\n")}})):{name:e.name,value:n.replace(Vt,"\r\n")}})).get()}});var $t=/%20/g,Ht=/#.*$/,Bt=/([?&])_=[^&]*/,Wt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,qt=/^\/\//,Xt={},Zt={},Qt="*/".concat("*"),Kt=C.createElement("a");function addToPrefiltersOrTransports(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,a=e.toLowerCase().match(B)||[];if(w(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function inspectPrefiltersOrTransports(t,e,n,r){var i={},a=t===Zt;function inspect(o){var s;return i[o]=!0,jQuery.each(t[o]||[],(function(t,o){var l=o(e,n,r);return"string"!=typeof l||a||i[l]?a?!(s=l):void 0:(e.dataTypes.unshift(l),inspect(l),!1)})),s}return inspect(e.dataTypes[0])||!i["*"]&&inspect("*")}function ajaxExtend(t,e){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&jQuery.extend(!0,t,r),t}Kt.href=Rt.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Rt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?ajaxExtend(ajaxExtend(t,jQuery.ajaxSettings),e):ajaxExtend(jQuery.ajaxSettings,t)},ajaxPrefilter:addToPrefiltersOrTransports(Xt),ajaxTransport:addToPrefiltersOrTransports(Zt),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,a,o,s,l,c,u,p,m,_=jQuery.ajaxSetup({},e),v=_.context||_,b=_.context&&(v.nodeType||v.jquery)?jQuery(v):jQuery.event,S=jQuery.Deferred(),w=jQuery.Callbacks("once memory"),T=_.statusCode||{},A={},P={},M="canceled",I={readyState:0,getResponseHeader:function(t){var e;if(c){if(!o)for(o={};e=Wt.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=P[t.toLowerCase()]=P[t.toLowerCase()]||t,A[t]=e),this},overrideMimeType:function(t){return null==c&&(_.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)I.always(t[I.status]);else for(e in t)T[e]=[T[e],t[e]];return this},abort:function(t){var e=t||M;return r&&r.abort(e),done(0,e),this}};if(S.promise(I),_.url=((t||_.url||Rt.href)+"").replace(qt,Rt.protocol+"//"),_.type=e.method||e.type||_.method||_.type,_.dataTypes=(_.dataType||"*").toLowerCase().match(B)||[""],null==_.crossDomain){l=C.createElement("a");try{l.href=_.url,l.href=l.href,_.crossDomain=Kt.protocol+"//"+Kt.host!=l.protocol+"//"+l.host}catch(t){_.crossDomain=!0}}if(_.data&&_.processData&&"string"!=typeof _.data&&(_.data=jQuery.param(_.data,_.traditional)),inspectPrefiltersOrTransports(Xt,_,e,I),c)return I;for(p in(u=jQuery.event&&_.global)&&0==jQuery.active++&&jQuery.event.trigger("ajaxStart"),_.type=_.type.toUpperCase(),_.hasContent=!Ut.test(_.type),i=_.url.replace(Ht,""),_.hasContent?_.data&&_.processData&&0===(_.contentType||"").indexOf("application/x-www-form-urlencoded")&&(_.data=_.data.replace($t,"+")):(m=_.url.slice(i.length),_.data&&(_.processData||"string"==typeof _.data)&&(i+=(jt.test(i)?"&":"?")+_.data,delete _.data),!1===_.cache&&(i=i.replace(Bt,"$1"),m=(jt.test(i)?"&":"?")+"_="+Nt.guid+++m),_.url=i+m),_.ifModified&&(jQuery.lastModified[i]&&I.setRequestHeader("If-Modified-Since",jQuery.lastModified[i]),jQuery.etag[i]&&I.setRequestHeader("If-None-Match",jQuery.etag[i])),(_.data&&_.hasContent&&!1!==_.contentType||e.contentType)&&I.setRequestHeader("Content-Type",_.contentType),I.setRequestHeader("Accept",_.dataTypes[0]&&_.accepts[_.dataTypes[0]]?_.accepts[_.dataTypes[0]]+("*"!==_.dataTypes[0]?", "+Qt+"; q=0.01":""):_.accepts["*"]),_.headers)I.setRequestHeader(p,_.headers[p]);if(_.beforeSend&&(!1===_.beforeSend.call(v,I,_)||c))return I.abort();if(M="abort",w.add(_.complete),I.done(_.success),I.fail(_.error),r=inspectPrefiltersOrTransports(Zt,_,e,I)){if(I.readyState=1,u&&b.trigger("ajaxSend",[I,_]),c)return I;_.async&&_.timeout>0&&(s=n.setTimeout((function(){I.abort("timeout")}),_.timeout));try{c=!1,r.send(A,done)}catch(t){if(c)throw t;done(-1,t)}}else done(-1,"No Transport");function done(t,e,o,l){var p,m,C,A,P,M=e;c||(c=!0,s&&n.clearTimeout(s),r=void 0,a=l||"",I.readyState=t>0?4:0,p=t>=200&&t<300||304===t,o&&(A=function ajaxHandleResponses(t,e,n){for(var r,i,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(_,I,o)),!p&&jQuery.inArray("script",_.dataTypes)>-1&&jQuery.inArray("json",_.dataTypes)<0&&(_.converters["text script"]=function(){}),A=function ajaxConvert(t,e,n,r){var i,a,o,s,l,c={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)c[o.toLowerCase()]=t.converters[o];for(a=u.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(i in c)if((s=i.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[i]:!0!==c[i]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(_,A,I,p),p?(_.ifModified&&((P=I.getResponseHeader("Last-Modified"))&&(jQuery.lastModified[i]=P),(P=I.getResponseHeader("etag"))&&(jQuery.etag[i]=P)),204===t||"HEAD"===_.type?M="nocontent":304===t?M="notmodified":(M=A.state,m=A.data,p=!(C=A.error))):(C=M,!t&&M||(M="error",t<0&&(t=0))),I.status=t,I.statusText=(e||M)+"",p?S.resolveWith(v,[m,M,I]):S.rejectWith(v,[I,M,C]),I.statusCode(T),T=void 0,u&&b.trigger(p?"ajaxSuccess":"ajaxError",[I,_,p?m:C]),w.fireWith(v,[I,M]),u&&(b.trigger("ajaxComplete",[I,_]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}return I},getJSON:function(t,e,n){return jQuery.get(t,e,n,"json")},getScript:function(t,e){return jQuery.get(t,void 0,e,"script")}}),jQuery.each(["get","post"],(function(t,e){jQuery[e]=function(t,n,r,i){return w(n)&&(i=i||r,r=n,n=void 0),jQuery.ajax(jQuery.extend({url:t,type:e,dataType:i,data:n,success:r},jQuery.isPlainObject(t)&&t))}})),jQuery.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),jQuery._evalUrl=function(t,e,n){return jQuery.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){jQuery.globalEval(t,e,n)}})},jQuery.fn.extend({wrapAll:function(t){var e;return this[0]&&(w(t)&&(t=t.call(this[0])),e=jQuery(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return w(t)?this.each((function(e){jQuery(this).wrapInner(t.call(this,e))})):this.each((function(){var e=jQuery(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=w(t);return this.each((function(n){jQuery(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){jQuery(this).replaceWith(this.childNodes)})),this}}),jQuery.expr.pseudos.hidden=function(t){return!jQuery.expr.pseudos.visible(t)},jQuery.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},jQuery.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Jt={0:200,1223:204},te=jQuery.ajaxSettings.xhr();S.cors=!!te&&"withCredentials"in te,S.ajax=te=!!te,jQuery.ajaxTransport((function(t){var e,r;if(S.cors||te&&!t.crossDomain)return{send:function(i,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Jt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),jQuery.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return jQuery.globalEval(t),t}}}),jQuery.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),jQuery.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=jQuery("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),C.head.appendChild(e[0])},abort:function(){n&&n()}}}));var ee,ne=[],re=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ne.pop()||jQuery.expando+"_"+Nt.guid++;return this[t]=!0,t}}),jQuery.ajaxPrefilter("json jsonp",(function(t,e,r){var i,a,o,s=!1!==t.jsonp&&(re.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&re.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=w(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(re,"$1"+i):!1!==t.jsonp&&(t.url+=(jt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||jQuery.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=n[i],n[i]=function(){o=arguments},r.always((function(){void 0===a?jQuery(n).removeProp(i):n[i]=a,t[i]&&(t.jsonpCallback=e.jsonpCallback,ne.push(i)),o&&w(a)&&a(o[0]),o=a=void 0})),"script"})),S.createHTMLDocument=((ee=C.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ee.childNodes.length),jQuery.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(S.createHTMLDocument?((r=(e=C.implementation.createHTMLDocument("")).createElement("base")).href=C.location.href,e.head.appendChild(r)):e=C),a=!n&&[],(i=V.exec(t))?[e.createElement(i[1])]:(i=buildFragment([t],e,a),a&&a.length&&jQuery(a).remove(),jQuery.merge([],i.childNodes)));var r,i,a},jQuery.fn.load=function(t,e,n){var r,i,a,o=this,s=t.indexOf(" ");return s>-1&&(r=stripAndCollapse(t.slice(s)),t=t.slice(0,s)),w(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),o.length>0&&jQuery.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done((function(t){a=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(t)).find(r):t)})).always(n&&function(t,e){o.each((function(){n.apply(this,a||[t.responseText,e,t])}))}),this},jQuery.expr.pseudos.animated=function(t){return jQuery.grep(jQuery.timers,(function(e){return t===e.elem})).length},jQuery.offset={setOffset:function(t,e,n){var r,i,a,o,s,l,c=jQuery.css(t,"position"),u=jQuery(t),p={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=jQuery.css(t,"top"),l=jQuery.css(t,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(r=u.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),w(e)&&(e=e.call(t,n,jQuery.extend({},s))),null!=e.top&&(p.top=e.top-s.top+o),null!=e.left&&(p.left=e.left-s.left+i),"using"in e?e.using.call(t,p):u.css(p)}},jQuery.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){jQuery.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===jQuery.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===jQuery.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=jQuery(t).offset()).top+=jQuery.css(t,"borderTopWidth",!0),i.left+=jQuery.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-jQuery.css(r,"marginTop",!0),left:e.left-i.left-jQuery.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===jQuery.css(t,"position");)t=t.offsetParent;return t||rt}))}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;jQuery.fn[t]=function(r){return access(this,(function(t,r,i){var a;if(T(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===i)return a?a[e]:t[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):t[r]=i}),t,r,arguments.length)}})),jQuery.each(["top","left"],(function(t,e){jQuery.cssHooks[e]=addGetHookIf(S.pixelPosition,(function(t,n){if(n)return n=curCSS(t,e),_t.test(n)?jQuery(t).position()[e]+"px":n}))})),jQuery.each({Height:"height",Width:"width"},(function(t,e){jQuery.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){jQuery.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return access(this,(function(e,n,i){var a;return T(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===i?jQuery.css(e,n,s):jQuery.style(e,n,i,s)}),e,o?i:void 0,o)}}))})),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){jQuery.fn[e]=function(t){return this.on(e,t)}})),jQuery.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),jQuery.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){jQuery.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var ie=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;jQuery.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),w(t))return r=s.call(arguments,2),i=function(){return t.apply(e||this,r.concat(s.call(arguments)))},i.guid=t.guid=t.guid||jQuery.guid++,i},jQuery.holdReady=function(t){t?jQuery.readyWait++:jQuery.ready(!0)},jQuery.isArray=Array.isArray,jQuery.parseJSON=JSON.parse,jQuery.nodeName=nodeName,jQuery.isFunction=w,jQuery.isWindow=T,jQuery.camelCase=camelCase,jQuery.type=toType,jQuery.now=Date.now,jQuery.isNumeric=function(t){var e=jQuery.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},jQuery.trim=function(t){return null==t?"":(t+"").replace(ie,"$1")},void 0===(r=function(){return jQuery}.apply(e,[]))||(t.exports=r);var ae=n.jQuery,oe=n.$;return jQuery.noConflict=function(t){return n.$===jQuery&&(n.$=oe),t&&n.jQuery===jQuery&&(n.jQuery=ae),jQuery},void 0===i&&(n.jQuery=n.$=jQuery),jQuery}))},7729:(t,e,n)=>{var r,i,a,o=n(6885),s=n(4771);i=[n(9755)],r=function(t){var e,n,r,i,a,l,c="Close",u="BeforeClose",p="AfterClose",m="BeforeAppend",_="MarkupParse",v="Open",b="Change",S="mfp",w="."+S,T="mfp-ready",C="mfp-removing",A="mfp-prevent-close",MagnificPopup=function(){},P=!!o.jQuery,M=t(o),_mfpOn=function(t,n){e.ev.on(S+t+w,n)},_getEl=function(e,n,r,i){var a=s.createElement("div");return a.className="mfp-"+e,r&&(a.innerHTML=r),i?n&&n.appendChild(a):(a=t(a),n&&a.appendTo(n)),a},_mfpTrigger=function(n,r){e.ev.triggerHandler(S+n,r),e.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),e.st.callbacks[n]&&e.st.callbacks[n].apply(e,t.isArray(r)?r:[r]))},_getCloseBtn=function(n){return n===l&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),l=n),e.currTemplate.closeBtn},_checkInstance=function(){t.magnificPopup.instance||((e=new MagnificPopup).init(),t.magnificPopup.instance=e)},supportsTransitions=function(){var t=s.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var n=navigator.appVersion;e.isLowIE=e.isIE8=s.all&&!s.addEventListener,e.isAndroid=/android/gi.test(n),e.isIOS=/iphone|ipad|ipod/gi.test(n),e.supportsTransition=supportsTransitions(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=t(s),e.popupsCache={}},open:function(n){var i;if(!1===n.isObj){e.items=n.items.toArray(),e.index=0;var o,l=n.items;for(i=0;i<l.length;i++)if((o=l[i]).parsed&&(o=o.el[0]),o===n.el[0]){e.index=i;break}}else e.items=t.isArray(n.items)?n.items:[n.items],e.index=n.index||0;if(!e.isOpen){e.types=[],a="",n.mainEl&&n.mainEl.length?e.ev=n.mainEl.eq(0):e.ev=r,n.key?(e.popupsCache[n.key]||(e.popupsCache[n.key]={}),e.currTemplate=e.popupsCache[n.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,n),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=_getEl("bg").on("click"+w,(function(){e.close()})),e.wrap=_getEl("wrap").attr("tabindex",-1).on("click"+w,(function(t){e._checkIfClose(t.target)&&e.close()})),e.container=_getEl("container",e.wrap)),e.contentContainer=_getEl("content"),e.st.preloader&&(e.preloader=_getEl("preloader",e.container,e.st.tLoading));var c=t.magnificPopup.modules;for(i=0;i<c.length;i++){var u=c[i];u=u.charAt(0).toUpperCase()+u.slice(1),e["init"+u].call(e)}_mfpTrigger("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(_mfpOn(_,(function(t,e,n,r){n.close_replaceWith=_getCloseBtn(r.type)})),a+=" mfp-close-btn-in"):e.wrap.append(_getCloseBtn())),e.st.alignTop&&(a+=" mfp-align-top"),e.fixedContentPos?e.wrap.css({overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}):e.wrap.css({top:M.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:r.height(),position:"absolute"}),e.st.enableEscapeKey&&r.on("keyup"+w,(function(t){27===t.keyCode&&e.close()})),M.on("resize"+w,(function(){e.updateSize()})),e.st.closeOnContentClick||(a+=" mfp-auto-cursor"),a&&e.wrap.addClass(a);var p=e.wH=M.height(),m={};if(e.fixedContentPos&&e._hasScrollBar(p)){var b=e._getScrollbarSize();b&&(m.marginRight=b)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):m.overflow="hidden");var S=e.st.mainClass;return e.isIE7&&(S+=" mfp-ie7"),S&&e._addClassToMFP(S),e.updateItemHTML(),_mfpTrigger("BuildControls"),t("html").css(m),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(s.body)),e._lastFocusedEl=s.activeElement,setTimeout((function(){e.content?(e._addClassToMFP(T),e._setFocus()):e.bgOverlay.addClass(T),r.on("focusin"+w,e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(p),_mfpTrigger(v),n}e.updateItemHTML()},close:function(){e.isOpen&&(_mfpTrigger(u),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(C),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){_mfpTrigger(c);var n=C+" "+T+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(n+=e.st.mainClass+" "),e._removeClassFromMFP(n),e.fixedContentPos){var i={marginRight:""};e.isIE7?t("body, html").css("overflow",""):i.overflow="",t("html").css(i)}r.off("keyup"+w+" focusin"+w),e.ev.off(w),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e.st.autoFocusLast&&e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,_mfpTrigger(p)},updateSize:function(t){if(e.isIOS){var n=s.documentElement.clientWidth/o.innerWidth,r=o.innerHeight*n;e.wrap.css("height",r),e.wH=r}else e.wH=t||M.height();e.fixedContentPos||e.wrap.css("height",e.wH),_mfpTrigger("Resize")},updateItemHTML:function(){var n=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),n.parsed||(n=e.parseEl(e.index));var r=n.type;if(_mfpTrigger("BeforeChange",[e.currItem?e.currItem.type:"",r]),e.currItem=n,!e.currTemplate[r]){var a=!!e.st[r]&&e.st[r].markup;_mfpTrigger("FirstMarkupParse",a),e.currTemplate[r]=!a||t(a)}i&&i!==n.type&&e.container.removeClass("mfp-"+i+"-holder");var o=e["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,e.currTemplate[r]);e.appendContent(o,r),n.preloaded=!0,_mfpTrigger(b,n),i=n.type,e.container.prepend(e.contentContainer),_mfpTrigger("AfterChange")},appendContent:function(t,n){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[n]?e.content.find(".mfp-close").length||e.content.append(_getCloseBtn()):e.content=t:e.content="",_mfpTrigger(m),e.container.addClass("mfp-"+n+"-holder"),e.contentContainer.append(e.content)},parseEl:function(n){var r,i=e.items[n];if(i.tagName?i={el:t(i)}:(r=i.type,i={data:i,src:i.src}),i.el){for(var a=e.types,o=0;o<a.length;o++)if(i.el.hasClass("mfp-"+a[o])){r=a[o];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||e.st.type||"inline",i.index=n,i.parsed=!0,e.items[n]=i,_mfpTrigger("ElementParse",i),e.items[n]},addGroup:function(t,n){var eHandler=function(r){r.mfpEl=this,e._openClick(r,t,n)};n||(n={});var r="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(r).on(r,eHandler)):(n.isObj=!1,n.delegate?t.off(r).on(r,n.delegate,eHandler):(n.items=t,t.off(r).on(r,eHandler)))},_openClick:function(n,r,i){if((void 0!==i.midClick?i.midClick:t.magnificPopup.defaults.midClick)||!(2===n.which||n.ctrlKey||n.metaKey||n.altKey||n.shiftKey)){var a=void 0!==i.disableOn?i.disableOn:t.magnificPopup.defaults.disableOn;if(a)if(t.isFunction(a)){if(!a.call(e))return!0}else if(M.width()<a)return!0;n.type&&(n.preventDefault(),e.isOpen&&n.stopPropagation()),i.el=t(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),e.open(i)}},updateStatus:function(t,r){if(e.preloader){n!==t&&e.container.removeClass("mfp-s-"+n),r||"loading"!==t||(r=e.st.tLoading);var i={status:t,text:r};_mfpTrigger("UpdateStatus",i),t=i.status,r=i.text,e.preloader.html(r),e.preloader.find("a").on("click",(function(t){t.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(n){if(!t(n).hasClass(A)){var r=e.st.closeOnContentClick,i=e.st.closeOnBgClick;if(r&&i)return!0;if(!e.content||t(n).hasClass("mfp-close")||e.preloader&&n===e.preloader[0])return!0;if(n===e.content[0]||t.contains(e.content[0],n)){if(r)return!0}else if(i&&t.contains(s,n))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?r.height():s.body.scrollHeight)>(t||M.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(n){if(n.target!==e.wrap[0]&&!t.contains(e.wrap[0],n.target))return e._setFocus(),!1},_parseMarkup:function(e,n,r){var i;r.data&&(n=t.extend(r.data,n)),_mfpTrigger(_,[e,n,r]),t.each(n,(function(n,r){if(void 0===r||!1===r)return!0;if((i=n.split("_")).length>1){var a=e.find(w+"-"+i[0]);if(a.length>0){var o=i[1];"replaceWith"===o?a[0]!==r[0]&&a.replaceWith(r):"img"===o?a.is("img")?a.attr("src",r):a.replaceWith(t("<img>").attr("src",r).attr("class",a.attr("class"))):a.attr(i[1],r)}}else e.find(w+"-"+n).html(r)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=s.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",s.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,s.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(e,n){return _checkInstance(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=n||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,n){n.options&&(t.magnificPopup.defaults[e]=n.options),t.extend(this.proto,n.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},t.fn.magnificPopup=function(n){_checkInstance();var r=t(this);if("string"==typeof n)if("open"===n){var i,a=P?r.data("magnificPopup"):r[0].magnificPopup,o=parseInt(arguments[1],10)||0;a.items?i=a.items[o]:(i=r,a.delegate&&(i=i.find(a.delegate)),i=i.eq(o)),e._openClick({mfpEl:i},r,a)}else e.isOpen&&e[n].apply(e,Array.prototype.slice.call(arguments,1));else n=t.extend(!0,{},n),P?r.data("magnificPopup",n):r[0].magnificPopup=n,e.addGroup(r,n);return r};var I,E,O,D="inline",_putInlineElementsBack=function(){O&&(E.after(O.addClass(I)).detach(),O=null)};t.magnificPopup.registerModule(D,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(D),_mfpOn(c+"."+D,(function(){_putInlineElementsBack()}))},getInline:function(n,r){if(_putInlineElementsBack(),n.src){var i=e.st.inline,a=t(n.src);if(a.length){var o=a[0].parentNode;o&&o.tagName&&(E||(I=i.hiddenClass,E=_getEl(I),I="mfp-"+I),O=a.after(E).detach().removeClass(I)),e.updateStatus("ready")}else e.updateStatus("error",i.tNotFound),a=t("<div>");return n.inlineElement=a,a}return e.updateStatus("ready"),e._parseMarkup(r,{},n),r}}});var L,R="ajax",_removeAjaxCursor=function(){L&&t(s.body).removeClass(L)},_destroyAjaxRequest=function(){_removeAjaxCursor(),e.req&&e.req.abort()};t.magnificPopup.registerModule(R,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(R),L=e.st.ajax.cursor,_mfpOn(c+"."+R,_destroyAjaxRequest),_mfpOn("BeforeChange."+R,_destroyAjaxRequest)},getAjax:function(n){L&&t(s.body).addClass(L),e.updateStatus("loading");var r=t.extend({url:n.src,success:function(r,i,a){var o={data:r,xhr:a};_mfpTrigger("ParseAjax",o),e.appendContent(t(o.data),R),n.finished=!0,_removeAjaxCursor(),e._setFocus(),setTimeout((function(){e.wrap.addClass(T)}),16),e.updateStatus("ready"),_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor(),n.finished=n.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",n.src))}},e.st.ajax.settings);return e.req=t.ajax(r),""}}});var N,_getTitle=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=e.st.image.titleSrc;if(r){if(t.isFunction(r))return r.call(e,n);if(n.el)return n.el.attr(r)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=e.st.image,r=".image";e.types.push("image"),_mfpOn(v+r,(function(){"image"===e.currItem.type&&n.cursor&&t(s.body).addClass(n.cursor)})),_mfpOn(c+r,(function(){n.cursor&&t(s.body).removeClass(n.cursor),M.off("resize"+w)})),_mfpOn("Resize"+r,e.resizeImage),e.isLowIE&&_mfpOn("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var n=0;e.isLowIE&&(n=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-n)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,N&&clearInterval(N),t.isCheckingImgSize=!1,_mfpTrigger("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var n=0,r=t.img[0],mfpSetInterval=function(i){N&&clearInterval(N),N=setInterval((function(){r.naturalWidth>0?e._onImageHasSize(t):(n>200&&clearInterval(N),3==++n?mfpSetInterval(10):40===n?mfpSetInterval(50):100===n&&mfpSetInterval(500))}),i)};mfpSetInterval(1)},getImage:function(n,r){var i=0,onLoadComplete=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,_mfpTrigger("ImageLoadComplete")):++i<200?setTimeout(onLoadComplete,100):onLoadError())},onLoadError=function(){n&&(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("error",a.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},a=e.st.image,o=r.find(".mfp-img");if(o.length){var l=s.createElement("img");l.className="mfp-img",n.el&&n.el.find("img").length&&(l.alt=n.el.find("img").attr("alt")),n.img=t(l).on("load.mfploader",onLoadComplete).on("error.mfploader",onLoadError),l.src=n.src,o.is("img")&&(n.img=n.img.clone()),(l=n.img[0]).naturalWidth>0?n.hasSize=!0:l.width||(n.hasSize=!1)}return e._parseMarkup(r,{title:_getTitle(n),img_replaceWith:n.img},n),e.resizeImage(),n.hasSize?(N&&clearInterval(N),n.loadError?(r.addClass("mfp-loading"),e.updateStatus("error",a.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),e.updateStatus("ready")),r):(e.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),e.findImageSize(n)),r)}}});var F,getHasMozTransform=function(){return void 0===F&&(F=void 0!==s.createElement("p").style.MozTransform),F};t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,n=e.st.zoom,r=".zoom";if(n.enabled&&e.supportsTransition){var i,a,o=n.duration,getElToAnimate=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},a="transition";return i["-webkit-"+a]=i["-moz-"+a]=i["-o-"+a]=i[a]=r,e.css(i),e},showMainContent=function(){e.content.css("visibility","visible")};_mfpOn("BuildControls"+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void showMainContent();(a=getElToAnimate(t)).css(e._getOffset()),e.wrap.append(a),i=setTimeout((function(){a.css(e._getOffset(!0)),i=setTimeout((function(){showMainContent(),setTimeout((function(){a.remove(),t=a=null,_mfpTrigger("ZoomAnimationEnded")}),16)}),o)}),16)}})),_mfpOn(u+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.st.removalDelay=o,!t){if(!(t=e._getItemToZoom()))return;a=getElToAnimate(t)}a.css(e._getOffset(!0)),e.wrap.append(a),e.content.css("visibility","hidden"),setTimeout((function(){a.css(e._getOffset())}),16)}})),_mfpOn(c+r,(function(){e._allowZoom()&&(showMainContent(),a&&a.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(n){var r,i=(r=n?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),a=parseInt(r.css("padding-top"),10),s=parseInt(r.css("padding-bottom"),10);i.top-=t(o).scrollTop()-a;var l={width:r.width(),height:(P?r.innerHeight():r[0].offsetHeight)-s-a};return getHasMozTransform()?l["-moz-transform"]=l.transform="translate("+i.left+"px,"+i.top+"px)":(l.left=i.left,l.top=i.top),l}}});var G="iframe",V="//about:blank",_fixIframeBugs=function(t){if(e.currTemplate[G]){var n=e.currTemplate[G].find("iframe");n.length&&(t||(n[0].src=V),e.isIE8&&n.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(G,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(G),_mfpOn("BeforeChange",(function(t,e,n){e!==n&&(e===G?_fixIframeBugs():n===G&&_fixIframeBugs(!0))})),_mfpOn(c+"."+G,(function(){_fixIframeBugs()}))},getIframe:function(n,r){var i=n.src,a=e.st.iframe;t.each(a.patterns,(function(){if(i.indexOf(this.index)>-1)return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1}));var o={};return a.srcAction&&(o[a.srcAction]=i),e._parseMarkup(r,o,n),e.updateStatus("ready"),r}}});var _getLoopedId=function(t){var n=e.items.length;return t>n-1?t-n:t<0?n+t:t},_replaceCurrTotal=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=e.st.gallery,i=".mfp-gallery";if(e.direction=!0,!n||!n.enabled)return!1;a+=" mfp-gallery",_mfpOn(v+i,(function(){n.navigateByImgClick&&e.wrap.on("click"+i,".mfp-img",(function(){if(e.items.length>1)return e.next(),!1})),r.on("keydown"+i,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),_mfpOn("UpdateStatus"+i,(function(t,n){n.text&&(n.text=_replaceCurrTotal(n.text,e.currItem.index,e.items.length))})),_mfpOn(_+i,(function(t,r,i,a){var o=e.items.length;i.counter=o>1?_replaceCurrTotal(n.tCounter,a.index,o):""})),_mfpOn("BuildControls"+i,(function(){if(e.items.length>1&&n.arrows&&!e.arrowLeft){var r=n.arrowMarkup,i=e.arrowLeft=t(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(A),a=e.arrowRight=t(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(A);i.click((function(){e.prev()})),a.click((function(){e.next()})),e.container.append(i.add(a))}})),_mfpOn(b+i,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),_mfpOn(c+i,(function(){r.off(i),e.wrap.off("click"+i),e.arrowRight=e.arrowLeft=null}))},next:function(){e.direction=!0,e.index=_getLoopedId(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=_getLoopedId(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,n=e.st.gallery.preload,r=Math.min(n[0],e.items.length),i=Math.min(n[1],e.items.length);for(t=1;t<=(e.direction?i:r);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?r:i);t++)e._preloadItem(e.index-t)},_preloadItem:function(n){if(n=_getLoopedId(n),!e.items[n].preloaded){var r=e.items[n];r.parsed||(r=e.parseEl(n)),_mfpTrigger("LazyLoad",r),"image"===r.type&&(r.img=t('<img class="mfp-img" />').on("load.mfploader",(function(){r.hasSize=!0})).on("error.mfploader",(function(){r.hasSize=!0,r.loadError=!0,_mfpTrigger("LazyLoadError",r)})).attr("src",r.src)),r.preloaded=!0}}}});var Y="retina";t.magnificPopup.registerModule(Y,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,(function(t){return"@2x"+t}))},ratio:1},proto:{initRetina:function(){if(o.devicePixelRatio>1){var t=e.st.retina,n=t.ratio;(n=isNaN(n)?n():n)>1&&(_mfpOn("ImageHasSize."+Y,(function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})})),_mfpOn("ElementParse."+Y,(function(e,r){r.src=t.replaceSrc(r,n)})))}}}}),_checkInstance()},void 0===(a="function"==typeof r?r.apply(e,i):r)||(t.exports=a)},381:function(t,e,n){(t=n.nmd(t)).exports=function(){"use strict";var e,n;function hooks(){return e.apply(null,arguments)}function setHookCallback(t){e=t}function isArray(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function isObject(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function hasOwnProp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function isObjectEmpty(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(hasOwnProp(t,e))return!1;return!0}function isUndefined(t){return void 0===t}function isNumber(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function isDate(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function map(t,e){var n,r=[],i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function extend(t,e){for(var n in e)hasOwnProp(e,n)&&(t[n]=e[n]);return hasOwnProp(e,"toString")&&(t.toString=e.toString),hasOwnProp(e,"valueOf")&&(t.valueOf=e.valueOf),t}function createUTC(t,e,n,r){return createLocalOrUTC(t,e,n,r,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(t){return null==t._pf&&(t._pf=defaultParsingFlags()),t._pf}function isValid(t){var e=null,r=!1,i=t._d&&!isNaN(t._d.getTime());return i&&(e=getParsingFlags(t),r=n.call(e.parsedDateParts,(function(t){return null!=t})),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)),null!=Object.isFrozen&&Object.isFrozen(t)?i:(t._isValid=i,t._isValid)}function createInvalid(t){var e=createUTC(NaN);return null!=t?extend(getParsingFlags(e),t):getParsingFlags(e).userInvalidated=!0,e}n=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var r=hooks.momentProperties=[],i=!1;function copyConfig(t,e){var n,i,a,o=r.length;if(isUndefined(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),isUndefined(e._i)||(t._i=e._i),isUndefined(e._f)||(t._f=e._f),isUndefined(e._l)||(t._l=e._l),isUndefined(e._strict)||(t._strict=e._strict),isUndefined(e._tzm)||(t._tzm=e._tzm),isUndefined(e._isUTC)||(t._isUTC=e._isUTC),isUndefined(e._offset)||(t._offset=e._offset),isUndefined(e._pf)||(t._pf=getParsingFlags(e)),isUndefined(e._locale)||(t._locale=e._locale),o>0)for(n=0;n<o;n++)isUndefined(a=e[i=r[n]])||(t[i]=a);return t}function Moment(t){copyConfig(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===i&&(i=!0,hooks.updateOffset(this),i=!1)}function isMoment(t){return t instanceof Moment||null!=t&&null!=t._isAMomentObject}function warn(t){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function deprecate(t,e){var n=!0;return extend((function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,t),n){var r,i,a,o=[],s=arguments.length;for(i=0;i<s;i++){if(r="","object"==typeof arguments[i]){for(a in r+="\n["+i+"] ",arguments[0])hasOwnProp(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[i];o.push(r)}warn(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)}),e)}var a,o={};function deprecateSimple(t,e){null!=hooks.deprecationHandler&&hooks.deprecationHandler(t,e),o[t]||(warn(e),o[t]=!0)}function isFunction(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function set(t){var e,n;for(n in t)hasOwnProp(t,n)&&(isFunction(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(t,e){var n,r=extend({},t);for(n in e)hasOwnProp(e,n)&&(isObject(t[n])&&isObject(e[n])?(r[n]={},extend(r[n],t[n]),extend(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)hasOwnProp(t,n)&&!hasOwnProp(e,n)&&isObject(t[n])&&(r[n]=extend({},r[n]));return r}function Locale(t){null!=t&&this.set(t)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null,a=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)hasOwnProp(t,e)&&n.push(e);return n};var s={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return isFunction(r)?r.call(e,n):r}function zeroFill(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var l=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,c=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,u={},p={};function addFormatToken(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(p[t]=i),e&&(p[e[0]]=function(){return zeroFill(i.apply(this,arguments),e[1],e[2])}),n&&(p[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function removeFormattingTokens(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function makeFormatFunction(t){var e,n,r=t.match(l);for(e=0,n=r.length;e<n;e++)p[r[e]]?r[e]=p[r[e]]:r[e]=removeFormattingTokens(r[e]);return function(e){var i,a="";for(i=0;i<n;i++)a+=isFunction(r[i])?r[i].call(e,t):r[i];return a}}function formatMoment(t,e){return t.isValid()?(e=expandFormat(e,t.localeData()),u[e]=u[e]||makeFormatFunction(e),u[e](t)):t.localeData().invalidDate()}function expandFormat(t,e){var n=5;function replaceLongDateFormatTokens(t){return e.longDateFormat(t)||t}for(c.lastIndex=0;n>=0&&c.test(t);)t=t.replace(c,replaceLongDateFormatTokens),c.lastIndex=0,n-=1;return t}var m={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(l).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var _="Invalid date";function invalidDate(){return this._invalidDate}var v="%d",b=/\d{1,2}/;function ordinal(t){return this._ordinal.replace("%d",t)}var S={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(t,e,n,r){var i=this._relativeTime[n];return isFunction(i)?i(t,e,n,r):i.replace(/%d/i,t)}function pastFuture(t,e){var n=this._relativeTime[t>0?"future":"past"];return isFunction(n)?n(e):n.replace(/%s/i,e)}var w={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(t){return"string"==typeof t?w[t]||w[t.toLowerCase()]:void 0}function normalizeObjectUnits(t){var e,n,r={};for(n in t)hasOwnProp(t,n)&&(e=normalizeUnits(n))&&(r[e]=t[n]);return r}var T={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(t){var e,n=[];for(e in t)hasOwnProp(t,e)&&n.push({unit:e,priority:T[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}var C,A=/\d/,P=/\d\d/,M=/\d{3}/,I=/\d{4}/,E=/[+-]?\d{6}/,O=/\d\d?/,D=/\d\d\d\d?/,L=/\d\d\d\d\d\d?/,R=/\d{1,3}/,N=/\d{1,4}/,F=/[+-]?\d{1,6}/,G=/\d+/,V=/[+-]?\d+/,Y=/Z|[+-]\d\d:?\d\d/gi,z=/Z|[+-]\d\d(?::?\d\d)?/gi,$=/[+-]?\d+(\.\d{1,3})?/,H=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,B=/^[1-9]\d?/,W=/^([1-9]\d|\d)/;function addRegexToken(t,e,n){C[t]=isFunction(e)?e:function(t,r){return t&&n?n:e}}function getParseRegexForToken(t,e){return hasOwnProp(C,t)?C[t](e._strict,e._locale):new RegExp(unescapeFormat(t))}function unescapeFormat(t){return regexEscape(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i})))}function regexEscape(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function toInt(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=absFloor(e)),n}C={};var U={};function addParseToken(t,e){var n,r,i=e;for("string"==typeof t&&(t=[t]),isNumber(e)&&(i=function(t,n){n[e]=toInt(t)}),r=t.length,n=0;n<r;n++)U[t[n]]=i}function addWeekParseToken(t,e){addParseToken(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function addTimeToArrayFromToken(t,e,n){null!=e&&hasOwnProp(U,t)&&U[t](e,n._a,n,t)}function isLeapYear(t){return t%4==0&&t%100!=0||t%400==0}var q=0,X=1,Z=2,Q=3,K=4,J=5,tt=6,et=7,nt=8;function daysInYear(t){return isLeapYear(t)?366:365}addFormatToken("Y",0,0,(function(){var t=this.year();return t<=9999?zeroFill(t,4):"+"+t})),addFormatToken(0,["YY",2],0,(function(){return this.year()%100})),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addRegexToken("Y",V),addRegexToken("YY",O,P),addRegexToken("YYYY",N,I),addRegexToken("YYYYY",F,E),addRegexToken("YYYYYY",F,E),addParseToken(["YYYYY","YYYYYY"],q),addParseToken("YYYY",(function(t,e){e[q]=2===t.length?hooks.parseTwoDigitYear(t):toInt(t)})),addParseToken("YY",(function(t,e){e[q]=hooks.parseTwoDigitYear(t)})),addParseToken("Y",(function(t,e){e[q]=parseInt(t,10)})),hooks.parseTwoDigitYear=function(t){return toInt(t)+(toInt(t)>68?1900:2e3)};var rt,it=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(t,e){return function(n){return null!=n?(set$1(this,t,n),hooks.updateOffset(this,e),this):get(this,t)}}function get(t,e){if(!t.isValid())return NaN;var n=t._d,r=t._isUTC;switch(e){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function set$1(t,e,n){var r,i,a,o,s;if(t.isValid()&&!isNaN(n)){switch(r=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}a=n,o=t.month(),s=29!==(s=t.date())||1!==o||isLeapYear(a)?s:28,i?r.setUTCFullYear(a,o,s):r.setFullYear(a,o,s)}}function stringGet(t){return isFunction(this[t=normalizeUnits(t)])?this[t]():this}function stringSet(t,e){if("object"==typeof t){var n,r=getPrioritizedUnits(t=normalizeObjectUnits(t)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(isFunction(this[t=normalizeUnits(t)]))return this[t](e);return this}function mod(t,e){return(t%e+e)%e}function daysInMonth(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=mod(e,12);return t+=(e-n)/12,1===n?isLeapYear(t)?29:28:31-n%7%2}rt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},addFormatToken("M",["MM",2],"Mo",(function(){return this.month()+1})),addFormatToken("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),addFormatToken("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),addRegexToken("M",O,B),addRegexToken("MM",O,P),addRegexToken("MMM",(function(t,e){return e.monthsShortRegex(t)})),addRegexToken("MMMM",(function(t,e){return e.monthsRegex(t)})),addParseToken(["M","MM"],(function(t,e){e[X]=toInt(t)-1})),addParseToken(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[X]=i:getParsingFlags(n).invalidMonth=t}));var at="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ot="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,lt=H,ct=H;function localeMonths(t,e){return t?isArray(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||st).test(e)?"format":"standalone"][t.month()]:isArray(this._months)?this._months:this._months.standalone}function localeMonthsShort(t,e){return t?isArray(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[st.test(e)?"format":"standalone"][t.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=createUTC([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=rt.call(this._shortMonthsParse,o))?i:null:-1!==(i=rt.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=rt.call(this._shortMonthsParse,o))||-1!==(i=rt.call(this._longMonthsParse,o))?i:null:-1!==(i=rt.call(this._longMonthsParse,o))||-1!==(i=rt.call(this._shortMonthsParse,o))?i:null}function localeMonthsParse(t,e,n){var r,i,a;if(this._monthsParseExact)return handleStrictParse.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=createUTC([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function setMonth(t,e){if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=toInt(e);else if(!isNumber(e=t.localeData().monthsParse(e)))return t;var n=e,r=t.date();return r=r<29?r:Math.min(r,daysInMonth(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,r):t._d.setMonth(n,r),t}function getSetMonth(t){return null!=t?(setMonth(this,t),hooks.updateOffset(this,!0),this):get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(t){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=lt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(t){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),t?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=ct),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(t,e){return e.length-t.length}var t,e,n,r,i=[],a=[],o=[];for(t=0;t<12;t++)e=createUTC([2e3,t]),n=regexEscape(this.monthsShort(e,"")),r=regexEscape(this.months(e,"")),i.push(n),a.push(r),o.push(r),o.push(n);i.sort(cmpLenRev),a.sort(cmpLenRev),o.sort(cmpLenRev),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function createDate(t,e,n,r,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,a,o),s}function createUTCDate(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function firstWeekOffset(t,e,n){var r=7+e-n;return-(7+createUTCDate(t,0,r).getUTCDay()-e)%7+r-1}function dayOfYearFromWeeks(t,e,n,r,i){var a,o,s=1+7*(e-1)+(7+n-r)%7+firstWeekOffset(t,r,i);return s<=0?o=daysInYear(a=t-1)+s:s>daysInYear(t)?(a=t+1,o=s-daysInYear(t)):(a=t,o=s),{year:a,dayOfYear:o}}function weekOfYear(t,e,n){var r,i,a=firstWeekOffset(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?r=o+weeksInYear(i=t.year()-1,e,n):o>weeksInYear(t.year(),e,n)?(r=o-weeksInYear(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function weeksInYear(t,e,n){var r=firstWeekOffset(t,e,n),i=firstWeekOffset(t+1,e,n);return(daysInYear(t)-r+i)/7}function localeWeek(t){return weekOfYear(t,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addRegexToken("w",O,B),addRegexToken("ww",O,P),addRegexToken("W",O,B),addRegexToken("WW",O,P),addWeekParseToken(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=toInt(t)}));var ut={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function getSetISOWeek(t){var e=weekOfYear(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function parseWeekday(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function parseIsoWeekday(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function shiftWeekdays(t,e){return t.slice(e,7).concat(t.slice(0,e))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),addFormatToken("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),addFormatToken("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addRegexToken("d",O),addRegexToken("e",O),addRegexToken("E",O),addRegexToken("dd",(function(t,e){return e.weekdaysMinRegex(t)})),addRegexToken("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),addRegexToken("dddd",(function(t,e){return e.weekdaysRegex(t)})),addWeekParseToken(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:getParsingFlags(n).invalidWeekday=t})),addWeekParseToken(["d","e","E"],(function(t,e,n,r){e[r]=toInt(t)}));var dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ft="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),pt=H,gt=H,mt=H;function localeWeekdays(t,e){var n=isArray(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?shiftWeekdays(n,this._week.dow):t?n[t.day()]:n}function localeWeekdaysShort(t){return!0===t?shiftWeekdays(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function localeWeekdaysMin(t){return!0===t?shiftWeekdays(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function handleStrictParse$1(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=createUTC([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=rt.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=rt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=rt.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=rt.call(this._weekdaysParse,o))||-1!==(i=rt.call(this._shortWeekdaysParse,o))||-1!==(i=rt.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=rt.call(this._shortWeekdaysParse,o))||-1!==(i=rt.call(this._weekdaysParse,o))||-1!==(i=rt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=rt.call(this._minWeekdaysParse,o))||-1!==(i=rt.call(this._weekdaysParse,o))||-1!==(i=rt.call(this._shortWeekdaysParse,o))?i:null}function localeWeekdaysParse(t,e,n){var r,i,a;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=createUTC([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function getSetDayOfWeek(t){if(!this.isValid())return null!=t?this:NaN;var e=get(this,"Day");return null!=t?(t=parseWeekday(t,this.localeData()),this.add(t-e,"d")):e}function getSetLocaleDayOfWeek(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function getSetISODayOfWeek(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=parseIsoWeekday(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function weekdaysRegex(t){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=pt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(t){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(t){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(t,e){return e.length-t.length}var t,e,n,r,i,a=[],o=[],s=[],l=[];for(t=0;t<7;t++)e=createUTC([2e3,1]).day(t),n=regexEscape(this.weekdaysMin(e,"")),r=regexEscape(this.weekdaysShort(e,"")),i=regexEscape(this.weekdays(e,"")),a.push(n),o.push(r),s.push(i),l.push(n),l.push(r),l.push(i);a.sort(cmpLenRev),o.sort(cmpLenRev),s.sort(cmpLenRev),l.sort(cmpLenRev),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(t,e){addFormatToken(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function matchMeridiem(t,e){return e._meridiemParse}function localeIsPM(t){return"p"===(t+"").toLowerCase().charAt(0)}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,(function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)})),addFormatToken("hmmss",0,0,(function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)})),addFormatToken("Hmm",0,0,(function(){return""+this.hours()+zeroFill(this.minutes(),2)})),addFormatToken("Hmmss",0,0,(function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)})),meridiem("a",!0),meridiem("A",!1),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",O,W),addRegexToken("h",O,B),addRegexToken("k",O,B),addRegexToken("HH",O,P),addRegexToken("hh",O,P),addRegexToken("kk",O,P),addRegexToken("hmm",D),addRegexToken("hmmss",L),addRegexToken("Hmm",D),addRegexToken("Hmmss",L),addParseToken(["H","HH"],Q),addParseToken(["k","kk"],(function(t,e,n){var r=toInt(t);e[Q]=24===r?0:r})),addParseToken(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),addParseToken(["h","hh"],(function(t,e,n){e[Q]=toInt(t),getParsingFlags(n).bigHour=!0})),addParseToken("hmm",(function(t,e,n){var r=t.length-2;e[Q]=toInt(t.substr(0,r)),e[K]=toInt(t.substr(r)),getParsingFlags(n).bigHour=!0})),addParseToken("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Q]=toInt(t.substr(0,r)),e[K]=toInt(t.substr(r,2)),e[J]=toInt(t.substr(i)),getParsingFlags(n).bigHour=!0})),addParseToken("Hmm",(function(t,e,n){var r=t.length-2;e[Q]=toInt(t.substr(0,r)),e[K]=toInt(t.substr(r))})),addParseToken("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[Q]=toInt(t.substr(0,r)),e[K]=toInt(t.substr(r,2)),e[J]=toInt(t.substr(i))}));var _t=/[ap]\.?m?\.?/i,yt=makeGetSet("Hours",!0);function localeMeridiem(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var vt,xt={calendar:s,longDateFormat:m,invalidDate:_,ordinal:v,dayOfMonthOrdinalParse:b,relativeTime:S,months:at,monthsShort:ot,week:ut,weekdays:dt,weekdaysMin:ft,weekdaysShort:ht,meridiemParse:_t},bt={},St={};function commonPrefix(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function normalizeLocale(t){return t?t.toLowerCase().replace("_","-"):t}function chooseLocale(t){for(var e,n,r,i,a=0;a<t.length;){for(e=(i=normalizeLocale(t[a]).split("-")).length,n=(n=normalizeLocale(t[a+1]))?n.split("-"):null;e>0;){if(r=loadLocale(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&commonPrefix(i,n)>=e-1)break;e--}a++}return vt}function isLocaleNameSane(t){return!(!t||!t.match("^[^/\\\\]*$"))}function loadLocale(e){var n=null;if(void 0===bt[e]&&t&&t.exports&&isLocaleNameSane(e))try{n=vt._abbr,Object(function webpackMissingModule(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}()),getSetGlobalLocale(n)}catch(t){bt[e]=null}return bt[e]}function getSetGlobalLocale(t,e){var n;return t&&((n=isUndefined(e)?getLocale(t):defineLocale(t,e))?vt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),vt._abbr}function defineLocale(t,e){if(null!==e){var n,r=xt;if(e.abbr=t,null!=bt[t])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=bt[t]._config;else if(null!=e.parentLocale)if(null!=bt[e.parentLocale])r=bt[e.parentLocale]._config;else{if(null==(n=loadLocale(e.parentLocale)))return St[e.parentLocale]||(St[e.parentLocale]=[]),St[e.parentLocale].push({name:t,config:e}),null;r=n._config}return bt[t]=new Locale(mergeConfigs(r,e)),St[t]&&St[t].forEach((function(t){defineLocale(t.name,t.config)})),getSetGlobalLocale(t),bt[t]}return delete bt[t],null}function updateLocale(t,e){if(null!=e){var n,r,i=xt;null!=bt[t]&&null!=bt[t].parentLocale?bt[t].set(mergeConfigs(bt[t]._config,e)):(null!=(r=loadLocale(t))&&(i=r._config),e=mergeConfigs(i,e),null==r&&(e.abbr=t),(n=new Locale(e)).parentLocale=bt[t],bt[t]=n),getSetGlobalLocale(t)}else null!=bt[t]&&(null!=bt[t].parentLocale?(bt[t]=bt[t].parentLocale,t===getSetGlobalLocale()&&getSetGlobalLocale(t)):null!=bt[t]&&delete bt[t]);return bt[t]}function getLocale(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return vt;if(!isArray(t)){if(e=loadLocale(t))return e;t=[t]}return chooseLocale(t)}function listLocales(){return a(bt)}function checkOverflow(t){var e,n=t._a;return n&&-2===getParsingFlags(t).overflow&&(e=n[X]<0||n[X]>11?X:n[Z]<1||n[Z]>daysInMonth(n[q],n[X])?Z:n[Q]<0||n[Q]>24||24===n[Q]&&(0!==n[K]||0!==n[J]||0!==n[tt])?Q:n[K]<0||n[K]>59?K:n[J]<0||n[J]>59?J:n[tt]<0||n[tt]>999?tt:-1,getParsingFlags(t)._overflowDayOfYear&&(e<q||e>Z)&&(e=Z),getParsingFlags(t)._overflowWeeks&&-1===e&&(e=et),getParsingFlags(t)._overflowWeekday&&-1===e&&(e=nt),getParsingFlags(t).overflow=e),t}var wt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ct=/Z|[+-]\d\d(?::?\d\d)?/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],At=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Pt=/^\/?Date\((-?\d+)/i,Mt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,It={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(t){var e,n,r,i,a,o,s=t._i,l=wt.exec(s)||Tt.exec(s),c=kt.length,u=At.length;if(l){for(getParsingFlags(t).iso=!0,e=0,n=c;e<n;e++)if(kt[e][1].exec(l[1])){i=kt[e][0],r=!1!==kt[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=u;e<n;e++)if(At[e][1].exec(l[3])){a=(l[2]||" ")+At[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!Ct.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),configFromStringAndFormat(t)}else t._isValid=!1}function extractFromRFC2822Strings(t,e,n,r,i,a){var o=[untruncateYear(t),ot.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function untruncateYear(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function preprocessRFC2822(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(t,e,n){return!t||ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(getParsingFlags(n).weekdayMismatch=!0,n._isValid=!1,!1)}function calculateOffset(t,e,n){if(t)return It[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function configFromRFC2822(t){var e,n=Mt.exec(preprocessRFC2822(t._i));if(n){if(e=extractFromRFC2822Strings(n[4],n[3],n[2],n[5],n[6],n[7]),!checkWeekday(n[1],e,t))return;t._a=e,t._tzm=calculateOffset(n[8],n[9],n[10]),t._d=createUTCDate.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),getParsingFlags(t).rfc2822=!0}else t._isValid=!1}function configFromString(t){var e=Pt.exec(t._i);null===e?(configFromISO(t),!1===t._isValid&&(delete t._isValid,configFromRFC2822(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:hooks.createFromInputFallback(t)))):t._d=new Date(+e[1])}function defaults(t,e,n){return null!=t?t:null!=e?e:n}function currentDateArray(t){var e=new Date(hooks.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function configFromArray(t){var e,n,r,i,a,o=[];if(!t._d){for(r=currentDateArray(t),t._w&&null==t._a[Z]&&null==t._a[X]&&dayOfYearFromWeekInfo(t),null!=t._dayOfYear&&(a=defaults(t._a[q],r[q]),(t._dayOfYear>daysInYear(a)||0===t._dayOfYear)&&(getParsingFlags(t)._overflowDayOfYear=!0),n=createUTCDate(a,0,t._dayOfYear),t._a[X]=n.getUTCMonth(),t._a[Z]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Q]&&0===t._a[K]&&0===t._a[J]&&0===t._a[tt]&&(t._nextDay=!0,t._a[Q]=0),t._d=(t._useUTC?createUTCDate:createDate).apply(null,o),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Q]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(getParsingFlags(t).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(t){var e,n,r,i,a,o,s,l,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,n=defaults(e.GG,t._a[q],weekOfYear(createLocal(),1,4).year),r=defaults(e.W,1),((i=defaults(e.E,1))<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,c=weekOfYear(createLocal(),a,o),n=defaults(e.gg,t._a[q],c.year),r=defaults(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(l=!0):null!=e.e?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),r<1||r>weeksInYear(n,a,o)?getParsingFlags(t)._overflowWeeks=!0:null!=l?getParsingFlags(t)._overflowWeekday=!0:(s=dayOfYearFromWeeks(n,r,i,a,o),t._a[q]=s.year,t._dayOfYear=s.dayOfYear)}function configFromStringAndFormat(t){if(t._f!==hooks.ISO_8601)if(t._f!==hooks.RFC_2822){t._a=[],getParsingFlags(t).empty=!0;var e,n,r,i,a,o,s,c=""+t._i,u=c.length,m=0;for(s=(r=expandFormat(t._f,t._locale).match(l)||[]).length,e=0;e<s;e++)i=r[e],(n=(c.match(getParseRegexForToken(i,t))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&getParsingFlags(t).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),m+=n.length),p[i]?(n?getParsingFlags(t).empty=!1:getParsingFlags(t).unusedTokens.push(i),addTimeToArrayFromToken(i,n,t)):t._strict&&!n&&getParsingFlags(t).unusedTokens.push(i);getParsingFlags(t).charsLeftOver=u-m,c.length>0&&getParsingFlags(t).unusedInput.push(c),t._a[Q]<=12&&!0===getParsingFlags(t).bigHour&&t._a[Q]>0&&(getParsingFlags(t).bigHour=void 0),getParsingFlags(t).parsedDateParts=t._a.slice(0),getParsingFlags(t).meridiem=t._meridiem,t._a[Q]=meridiemFixWrap(t._locale,t._a[Q],t._meridiem),null!==(o=getParsingFlags(t).era)&&(t._a[q]=t._locale.erasConvertYear(o,t._a[q])),configFromArray(t),checkOverflow(t)}else configFromRFC2822(t);else configFromISO(t)}function meridiemFixWrap(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function configFromStringAndArray(t){var e,n,r,i,a,o,s=!1,l=t._f.length;if(0===l)return getParsingFlags(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<l;i++)a=0,o=!1,e=copyConfig({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],configFromStringAndFormat(e),isValid(e)&&(o=!0),a+=getParsingFlags(e).charsLeftOver,a+=10*getParsingFlags(e).unusedTokens.length,getParsingFlags(e).score=a,s?a<r&&(r=a,n=e):(null==r||a<r||o)&&(r=a,n=e,o&&(s=!0));extend(t,n||e)}function configFromObject(t){if(!t._d){var e=normalizeObjectUnits(t._i),n=void 0===e.day?e.date:e.day;t._a=map([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),configFromArray(t)}}function createFromConfig(t){var e=new Moment(checkOverflow(prepareConfig(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function prepareConfig(t){var e=t._i,n=t._f;return t._locale=t._locale||getLocale(t._l),null===e||void 0===n&&""===e?createInvalid({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),isMoment(e)?new Moment(checkOverflow(e)):(isDate(e)?t._d=e:isArray(n)?configFromStringAndArray(t):n?configFromStringAndFormat(t):configFromInput(t),isValid(t)||(t._d=null),t))}function configFromInput(t){var e=t._i;isUndefined(e)?t._d=new Date(hooks.now()):isDate(e)?t._d=new Date(e.valueOf()):"string"==typeof e?configFromString(t):isArray(e)?(t._a=map(e.slice(0),(function(t){return parseInt(t,10)})),configFromArray(t)):isObject(e)?configFromObject(t):isNumber(e)?t._d=new Date(e):hooks.createFromInputFallback(t)}function createLocalOrUTC(t,e,n,r,i){var a={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(isObject(t)&&isObjectEmpty(t)||isArray(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=t,a._f=e,a._strict=r,createFromConfig(a)}function createLocal(t,e,n,r){return createLocalOrUTC(t,e,n,r,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var Et=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=createLocal.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:createInvalid()})),Ot=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=createLocal.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:createInvalid()}));function pickBy(t,e){var n,r;if(1===e.length&&isArray(e[0])&&(e=e[0]),!e.length)return createLocal();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function min(){return pickBy("isBefore",[].slice.call(arguments,0))}function max(){return pickBy("isAfter",[].slice.call(arguments,0))}var now=function(){return Date.now?Date.now():+new Date},Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(t){var e,n,r=!1,i=Dt.length;for(e in t)if(hasOwnProp(t,e)&&(-1===rt.call(Dt,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<i;++n)if(t[Dt[n]]){if(r)return!1;parseFloat(t[Dt[n]])!==toInt(t[Dt[n]])&&(r=!0)}return!0}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(t){var e=normalizeObjectUnits(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=isDurationValid(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(t){return t instanceof Duration}function absRound(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function compareArrays(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&toInt(t[r])!==toInt(e[r]))&&o++;return o+a}function offset(t,e){addFormatToken(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+zeroFill(~~(t/60),2)+e+zeroFill(~~t%60,2)}))}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",z),addRegexToken("ZZ",z),addParseToken(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=offsetFromString(z,t)}));var Lt=/([\+\-]|\d\d)/gi;function offsetFromString(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Lt)||["-",0,0])[1]+toInt(n[2]))?0:"+"===n[0]?r:-r}function cloneWithOffset(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(isMoment(t)||isDate(t)?t.valueOf():createLocal(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),hooks.updateOffset(n,!1),n):createLocal(t).local()}function getDateOffset(t){return-Math.round(t._d.getTimezoneOffset())}function getSetOffset(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=offsetFromString(z,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=getDateOffset(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?addSubtract(this,createDuration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:getDateOffset(this)}function getSetZone(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function setOffsetToUTC(t){return this.utcOffset(0,t)}function setOffsetToLocal(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=offsetFromString(Y,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(t){return!!this.isValid()&&(t=t?createLocal(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var t,e={};return copyConfig(e,this),(e=prepareConfig(e))._a?(t=e._isUTC?createUTC(e._a):createLocal(e._a),this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return!!this.isValid()&&!this._isUTC}function isUtcOffset(){return!!this.isValid()&&this._isUTC}function isUtc(){return!!this.isValid()&&this._isUTC&&0===this._offset}hooks.updateOffset=function(){};var Rt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Nt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(t,e){var n,r,i,a=t,o=null;return isDuration(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:isNumber(t)||!isNaN(+t)?(a={},e?a[e]=+t:a.milliseconds=+t):(o=Rt.exec(t))?(n="-"===o[1]?-1:1,a={y:0,d:toInt(o[Z])*n,h:toInt(o[Q])*n,m:toInt(o[K])*n,s:toInt(o[J])*n,ms:toInt(absRound(1e3*o[tt]))*n}):(o=Nt.exec(t))?(n="-"===o[1]?-1:1,a={y:parseIso(o[2],n),M:parseIso(o[3],n),w:parseIso(o[4],n),d:parseIso(o[5],n),h:parseIso(o[6],n),m:parseIso(o[7],n),s:parseIso(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=momentsDifference(createLocal(a.from),createLocal(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new Duration(a),isDuration(t)&&hasOwnProp(t,"_locale")&&(r._locale=t._locale),isDuration(t)&&hasOwnProp(t,"_isValid")&&(r._isValid=t._isValid),r}function parseIso(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function positiveMomentsDifference(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function momentsDifference(t,e){var n;return t.isValid()&&e.isValid()?(e=cloneWithOffset(e,t),t.isBefore(e)?n=positiveMomentsDifference(t,e):((n=positiveMomentsDifference(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function createAdder(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(deprecateSimple(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),addSubtract(this,createDuration(n,r),t),this}}function addSubtract(t,e,n,r){var i=e._milliseconds,a=absRound(e._days),o=absRound(e._months);t.isValid()&&(r=null==r||r,o&&setMonth(t,get(t,"Month")+o*n),a&&set$1(t,"Date",get(t,"Date")+a*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&hooks.updateOffset(t,a||o))}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var jt=createAdder(1,"add"),Ft=createAdder(-1,"subtract");function isString(t){return"string"==typeof t||t instanceof String}function isMomentInput(t){return isMoment(t)||isDate(t)||isString(t)||isNumber(t)||isNumberOrStringArray(t)||isMomentInputObject(t)||null==t}function isMomentInputObject(t){var e,n,r=isObject(t)&&!isObjectEmpty(t),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o=a.length;for(e=0;e<o;e+=1)n=a[e],i=i||hasOwnProp(t,n);return r&&i}function isNumberOrStringArray(t){var e=isArray(t),n=!1;return e&&(n=0===t.filter((function(e){return!isNumber(e)&&isString(t)})).length),e&&n}function isCalendarSpec(t){var e,n,r=isObject(t)&&!isObjectEmpty(t),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<a.length;e+=1)n=a[e],i=i||hasOwnProp(t,n);return r&&i}function getCalendarFormat(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function calendar$1(t,e){1===arguments.length&&(arguments[0]?isMomentInput(arguments[0])?(t=arguments[0],e=void 0):isCalendarSpec(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||createLocal(),r=cloneWithOffset(n,this).startOf("day"),i=hooks.calendarFormat(this,r)||"sameElse",a=e&&(isFunction(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,createLocal(n)))}function clone(){return new Moment(this)}function isAfter(t,e){var n=isMoment(t)?t:createLocal(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=normalizeUnits(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function isBefore(t,e){var n=isMoment(t)?t:createLocal(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=normalizeUnits(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function isBetween(t,e,n,r){var i=isMoment(t)?t:createLocal(t),a=isMoment(e)?e:createLocal(e);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function isSame(t,e){var n,r=isMoment(t)?t:createLocal(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=normalizeUnits(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function isSameOrAfter(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function isSameOrBefore(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function diff(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=cloneWithOffset(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=normalizeUnits(e)){case"year":a=monthDiff(this,r)/12;break;case"month":a=monthDiff(this,r);break;case"quarter":a=monthDiff(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:absFloor(a)}function monthDiff(t,e){if(t.date()<e.date())return-monthDiff(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?formatMoment(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",formatMoment(n,"Z")):formatMoment(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(t+e+n+r)}function format(t){t||(t=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var e=formatMoment(this,t);return this.localeData().postformat(e)}function from(t,e){return this.isValid()&&(isMoment(t)&&t.isValid()||createLocal(t).isValid())?createDuration({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fromNow(t){return this.from(createLocal(),t)}function to(t,e){return this.isValid()&&(isMoment(t)&&t.isValid()||createLocal(t).isValid())?createDuration({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function toNow(t){return this.to(createLocal(),t)}function locale(t){var e;return void 0===t?this._locale._abbr:(null!=(e=getLocale(t))&&(this._locale=e),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Gt=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function localeData(){return this._locale}var Vt=1e3,Yt=60*Vt,zt=60*Yt,$t=3506328*zt;function mod$1(t,e){return(t%e+e)%e}function localStartOfDate(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-$t:new Date(t,e,n).valueOf()}function utcStartOfDate(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-$t:Date.UTC(t,e,n)}function startOf(t){var e,n;if(void 0===(t=normalizeUnits(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?utcStartOfDate:localStartOfDate,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=mod$1(e+(this._isUTC?0:this.utcOffset()*Yt),zt);break;case"minute":e=this._d.valueOf(),e-=mod$1(e,Yt);break;case"second":e=this._d.valueOf(),e-=mod$1(e,Vt)}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function endOf(t){var e,n;if(void 0===(t=normalizeUnits(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?utcStartOfDate:localStartOfDate,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=zt-mod$1(e+(this._isUTC?0:this.utcOffset()*Yt),zt)-1;break;case"minute":e=this._d.valueOf(),e+=Yt-mod$1(e,Yt)-1;break;case"second":e=this._d.valueOf(),e+=Vt-mod$1(e,Vt)-1}return this._d.setTime(e),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function toObject(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function localeEras(t,e){var n,r,i,a=this._eras||getLocale("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"==typeof a[n].since&&(i=hooks(a[n].since).startOf("day"),a[n].since=i.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":i=hooks(a[n].until).startOf("day").valueOf(),a[n].until=i.valueOf()}return a}function localeErasParse(t,e,n){var r,i,a,o,s,l=this.eras();for(t=t.toUpperCase(),r=0,i=l.length;r<i;++r)if(a=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),s=l[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return l[r];break;case"NNNN":if(a===t)return l[r];break;case"NNNNN":if(s===t)return l[r]}else if([a,o,s].indexOf(t)>=0)return l[r]}function localeErasConvertYear(t,e){var n=t.since<=t.until?1:-1;return void 0===e?hooks(t.since).year():hooks(t.since).year()+(e-t.offset)*n}function getEraName(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""}function getEraNarrow(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""}function getEraAbbr(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""}function getEraYear(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-hooks(i[t].since).year())*n+i[t].offset;return this.year()}function erasNameRegex(t){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),t?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(t){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),t?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(t){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),t?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(t,e){return e.erasAbbrRegex(t)}function matchEraName(t,e){return e.erasNameRegex(t)}function matchEraNarrow(t,e){return e.erasNarrowRegex(t)}function matchEraYearOrdinal(t,e){return e._eraYearOrdinalRegex||G}function computeErasParse(){var t,e,n,r,i,a=[],o=[],s=[],l=[],c=this.eras();for(t=0,e=c.length;t<e;++t)n=regexEscape(c[t].name),r=regexEscape(c[t].abbr),i=regexEscape(c[t].narrow),o.push(n),a.push(r),s.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function addWeekYearFormatToken(t,e){addFormatToken(0,[t,t.length],0,e)}function getSetWeekYear(t){return getSetWeekYearHelper.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(t){return getSetWeekYearHelper.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var t=this.localeData()._week;return weeksInYear(this.year(),t.dow,t.doy)}function getWeeksInWeekYear(){var t=this.localeData()._week;return weeksInYear(this.weekYear(),t.dow,t.doy)}function getSetWeekYearHelper(t,e,n,r,i){var a;return null==t?weekOfYear(this,r,i).year:(e>(a=weeksInYear(t,r,i))&&(e=a),setWeekAll.call(this,t,e,n,r,i))}function setWeekAll(t,e,n,r,i){var a=dayOfYearFromWeeks(t,e,n,r,i),o=createUTCDate(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function getSetQuarter(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}addFormatToken("N",0,0,"eraAbbr"),addFormatToken("NN",0,0,"eraAbbr"),addFormatToken("NNN",0,0,"eraAbbr"),addFormatToken("NNNN",0,0,"eraName"),addFormatToken("NNNNN",0,0,"eraNarrow"),addFormatToken("y",["y",1],"yo","eraYear"),addFormatToken("y",["yy",2],0,"eraYear"),addFormatToken("y",["yyy",3],0,"eraYear"),addFormatToken("y",["yyyy",4],0,"eraYear"),addRegexToken("N",matchEraAbbr),addRegexToken("NN",matchEraAbbr),addRegexToken("NNN",matchEraAbbr),addRegexToken("NNNN",matchEraName),addRegexToken("NNNNN",matchEraNarrow),addParseToken(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?getParsingFlags(n).era=i:getParsingFlags(n).invalidEra=t})),addRegexToken("y",G),addRegexToken("yy",G),addRegexToken("yyy",G),addRegexToken("yyyy",G),addRegexToken("yo",matchEraYearOrdinal),addParseToken(["y","yy","yyy","yyyy"],q),addParseToken(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[q]=n._locale.eraYearOrdinalParse(t,i):e[q]=parseInt(t,10)})),addFormatToken(0,["gg",2],0,(function(){return this.weekYear()%100})),addFormatToken(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addRegexToken("G",V),addRegexToken("g",V),addRegexToken("GG",O,P),addRegexToken("gg",O,P),addRegexToken("GGGG",N,I),addRegexToken("gggg",N,I),addRegexToken("GGGGG",F,E),addRegexToken("ggggg",F,E),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=toInt(t)})),addWeekParseToken(["gg","GG"],(function(t,e,n,r){e[r]=hooks.parseTwoDigitYear(t)})),addFormatToken("Q",0,"Qo","quarter"),addRegexToken("Q",A),addParseToken("Q",(function(t,e){e[X]=3*(toInt(t)-1)})),addFormatToken("D",["DD",2],"Do","date"),addRegexToken("D",O,B),addRegexToken("DD",O,P),addRegexToken("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),addParseToken(["D","DD"],Z),addParseToken("Do",(function(t,e){e[Z]=toInt(t.match(O)[0])}));var Ht=makeGetSet("Date",!0);function getSetDayOfYear(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addRegexToken("DDD",R),addRegexToken("DDDD",M),addParseToken(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=toInt(t)})),addFormatToken("m",["mm",2],0,"minute"),addRegexToken("m",O,W),addRegexToken("mm",O,P),addParseToken(["m","mm"],K);var Bt=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addRegexToken("s",O,W),addRegexToken("ss",O,P),addParseToken(["s","ss"],J);var Wt,Ut,qt=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,(function(){return~~(this.millisecond()/100)})),addFormatToken(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),addFormatToken(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),addFormatToken(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),addFormatToken(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),addFormatToken(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),addFormatToken(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),addRegexToken("S",R,A),addRegexToken("SS",R,P),addRegexToken("SSS",R,M),Wt="SSSS";Wt.length<=9;Wt+="S")addRegexToken(Wt,G);function parseMs(t,e){e[tt]=toInt(1e3*("0."+t))}for(Wt="S";Wt.length<=9;Wt+="S")addParseToken(Wt,parseMs);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}Ut=makeGetSet("Milliseconds",!1),addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Xt=Moment.prototype;function createUnix(t){return createLocal(1e3*t)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(t){return t}Xt.add=jt,Xt.calendar=calendar$1,Xt.clone=clone,Xt.diff=diff,Xt.endOf=endOf,Xt.format=format,Xt.from=from,Xt.fromNow=fromNow,Xt.to=to,Xt.toNow=toNow,Xt.get=stringGet,Xt.invalidAt=invalidAt,Xt.isAfter=isAfter,Xt.isBefore=isBefore,Xt.isBetween=isBetween,Xt.isSame=isSame,Xt.isSameOrAfter=isSameOrAfter,Xt.isSameOrBefore=isSameOrBefore,Xt.isValid=isValid$2,Xt.lang=Gt,Xt.locale=locale,Xt.localeData=localeData,Xt.max=Ot,Xt.min=Et,Xt.parsingFlags=parsingFlags,Xt.set=stringSet,Xt.startOf=startOf,Xt.subtract=Ft,Xt.toArray=toArray,Xt.toObject=toObject,Xt.toDate=toDate,Xt.toISOString=toISOString,Xt.inspect=inspect,"undefined"!=typeof Symbol&&null!=Symbol.for&&(Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Xt.toJSON=toJSON,Xt.toString=toString,Xt.unix=unix,Xt.valueOf=valueOf,Xt.creationData=creationData,Xt.eraName=getEraName,Xt.eraNarrow=getEraNarrow,Xt.eraAbbr=getEraAbbr,Xt.eraYear=getEraYear,Xt.year=it,Xt.isLeapYear=getIsLeapYear,Xt.weekYear=getSetWeekYear,Xt.isoWeekYear=getSetISOWeekYear,Xt.quarter=Xt.quarters=getSetQuarter,Xt.month=getSetMonth,Xt.daysInMonth=getDaysInMonth,Xt.week=Xt.weeks=getSetWeek,Xt.isoWeek=Xt.isoWeeks=getSetISOWeek,Xt.weeksInYear=getWeeksInYear,Xt.weeksInWeekYear=getWeeksInWeekYear,Xt.isoWeeksInYear=getISOWeeksInYear,Xt.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear,Xt.date=Ht,Xt.day=Xt.days=getSetDayOfWeek,Xt.weekday=getSetLocaleDayOfWeek,Xt.isoWeekday=getSetISODayOfWeek,Xt.dayOfYear=getSetDayOfYear,Xt.hour=Xt.hours=yt,Xt.minute=Xt.minutes=Bt,Xt.second=Xt.seconds=qt,Xt.millisecond=Xt.milliseconds=Ut,Xt.utcOffset=getSetOffset,Xt.utc=setOffsetToUTC,Xt.local=setOffsetToLocal,Xt.parseZone=setOffsetToParsedOffset,Xt.hasAlignedHourOffset=hasAlignedHourOffset,Xt.isDST=isDaylightSavingTime,Xt.isLocal=isLocal,Xt.isUtcOffset=isUtcOffset,Xt.isUtc=isUtc,Xt.isUTC=isUtc,Xt.zoneAbbr=getZoneAbbr,Xt.zoneName=getZoneName,Xt.dates=deprecate("dates accessor is deprecated. Use date instead.",Ht),Xt.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Xt.years=deprecate("years accessor is deprecated. Use year instead",it),Xt.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),Xt.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var Zt=Locale.prototype;function get$1(t,e,n,r){var i=getLocale(),a=createUTC().set(r,e);return i[n](a,t)}function listMonthsImpl(t,e,n){if(isNumber(t)&&(e=t,t=void 0),t=t||"",null!=e)return get$1(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=get$1(t,r,n,"month");return i}function listWeekdaysImpl(t,e,n,r){"boolean"==typeof t?(isNumber(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,isNumber(e)&&(n=e,e=void 0),e=e||"");var i,a=getLocale(),o=t?a._week.dow:0,s=[];if(null!=n)return get$1(e,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=get$1(e,(i+o)%7,r,"day");return s}function listMonths(t,e){return listMonthsImpl(t,e,"months")}function listMonthsShort(t,e){return listMonthsImpl(t,e,"monthsShort")}function listWeekdays(t,e,n){return listWeekdaysImpl(t,e,n,"weekdays")}function listWeekdaysShort(t,e,n){return listWeekdaysImpl(t,e,n,"weekdaysShort")}function listWeekdaysMin(t,e,n){return listWeekdaysImpl(t,e,n,"weekdaysMin")}Zt.calendar=calendar,Zt.longDateFormat=longDateFormat,Zt.invalidDate=invalidDate,Zt.ordinal=ordinal,Zt.preparse=preParsePostFormat,Zt.postformat=preParsePostFormat,Zt.relativeTime=relativeTime,Zt.pastFuture=pastFuture,Zt.set=set,Zt.eras=localeEras,Zt.erasParse=localeErasParse,Zt.erasConvertYear=localeErasConvertYear,Zt.erasAbbrRegex=erasAbbrRegex,Zt.erasNameRegex=erasNameRegex,Zt.erasNarrowRegex=erasNarrowRegex,Zt.months=localeMonths,Zt.monthsShort=localeMonthsShort,Zt.monthsParse=localeMonthsParse,Zt.monthsRegex=monthsRegex,Zt.monthsShortRegex=monthsShortRegex,Zt.week=localeWeek,Zt.firstDayOfYear=localeFirstDayOfYear,Zt.firstDayOfWeek=localeFirstDayOfWeek,Zt.weekdays=localeWeekdays,Zt.weekdaysMin=localeWeekdaysMin,Zt.weekdaysShort=localeWeekdaysShort,Zt.weekdaysParse=localeWeekdaysParse,Zt.weekdaysRegex=weekdaysRegex,Zt.weekdaysShortRegex=weekdaysShortRegex,Zt.weekdaysMinRegex=weekdaysMinRegex,Zt.isPM=localeIsPM,Zt.meridiem=localeMeridiem,getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===toInt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var Qt=Math.abs;function abs(){var t=this._data;return this._milliseconds=Qt(this._milliseconds),this._days=Qt(this._days),this._months=Qt(this._months),t.milliseconds=Qt(t.milliseconds),t.seconds=Qt(t.seconds),t.minutes=Qt(t.minutes),t.hours=Qt(t.hours),t.months=Qt(t.months),t.years=Qt(t.years),this}function addSubtract$1(t,e,n,r){var i=createDuration(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function add$1(t,e){return addSubtract$1(this,t,e,1)}function subtract$1(t,e){return addSubtract$1(this,t,e,-1)}function absCeil(t){return t<0?Math.floor(t):Math.ceil(t)}function bubble(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*absCeil(monthsToDays(s)+o),o=0,s=0),l.milliseconds=a%1e3,t=absFloor(a/1e3),l.seconds=t%60,e=absFloor(t/60),l.minutes=e%60,n=absFloor(e/60),l.hours=n%24,o+=absFloor(n/24),s+=i=absFloor(daysToMonths(o)),o-=absCeil(monthsToDays(i)),r=absFloor(s/12),s%=12,l.days=o,l.months=s,l.years=r,this}function daysToMonths(t){return 4800*t/146097}function monthsToDays(t){return 146097*t/4800}function as(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=normalizeUnits(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+daysToMonths(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(monthsToDays(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function makeAs(t){return function(){return this.as(t)}}var Kt=makeAs("ms"),Jt=makeAs("s"),te=makeAs("m"),ee=makeAs("h"),ne=makeAs("d"),re=makeAs("w"),ie=makeAs("M"),ae=makeAs("Q"),oe=makeAs("y"),se=Kt;function clone$1(){return createDuration(this)}function get$2(t){return t=normalizeUnits(t),this.isValid()?this[t+"s"]():NaN}function makeGetter(t){return function(){return this.isValid()?this._data[t]:NaN}}var le=makeGetter("milliseconds"),ce=makeGetter("seconds"),ue=makeGetter("minutes"),de=makeGetter("hours"),he=makeGetter("days"),fe=makeGetter("months"),pe=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var ge=Math.round,me={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function relativeTime$1(t,e,n,r){var i=createDuration(t).abs(),a=ge(i.as("s")),o=ge(i.as("m")),s=ge(i.as("h")),l=ge(i.as("d")),c=ge(i.as("M")),u=ge(i.as("w")),p=ge(i.as("y")),m=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(m=m||u<=1&&["w"]||u<n.w&&["ww",u]),(m=m||c<=1&&["M"]||c<n.M&&["MM",c]||p<=1&&["y"]||["yy",p])[2]=e,m[3]=+t>0,m[4]=r,substituteTimeAgo.apply(null,m)}function getSetRelativeTimeRounding(t){return void 0===t?ge:"function"==typeof t&&(ge=t,!0)}function getSetRelativeTimeThreshold(t,e){return void 0!==me[t]&&(void 0===e?me[t]:(me[t]=e,"s"===t&&(me.ss=e-1),!0))}function humanize(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=me;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"==typeof e&&(a=Object.assign({},me,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),r=relativeTime$1(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var _e=Math.abs;function sign(t){return(t>0)-(t<0)||+t}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,a,o,s,l=_e(this._milliseconds)/1e3,c=_e(this._days),u=_e(this._months),p=this.asSeconds();return p?(t=absFloor(l/60),e=absFloor(t/60),l%=60,t%=60,n=absFloor(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=p<0?"-":"",a=sign(this._months)!==sign(p)?"-":"",o=sign(this._days)!==sign(p)?"-":"",s=sign(this._milliseconds)!==sign(p)?"-":"",i+"P"+(n?a+n+"Y":"")+(u?a+u+"M":"")+(c?o+c+"D":"")+(e||t||l?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(l?s+r+"S":"")):"P0D"}var ye=Duration.prototype;return ye.isValid=isValid$1,ye.abs=abs,ye.add=add$1,ye.subtract=subtract$1,ye.as=as,ye.asMilliseconds=Kt,ye.asSeconds=Jt,ye.asMinutes=te,ye.asHours=ee,ye.asDays=ne,ye.asWeeks=re,ye.asMonths=ie,ye.asQuarters=ae,ye.asYears=oe,ye.valueOf=se,ye._bubble=bubble,ye.clone=clone$1,ye.get=get$2,ye.milliseconds=le,ye.seconds=ce,ye.minutes=ue,ye.hours=de,ye.days=he,ye.weeks=weeks,ye.months=fe,ye.years=pe,ye.humanize=humanize,ye.toISOString=toISOString$1,ye.toString=toISOString$1,ye.toJSON=toISOString$1,ye.locale=locale,ye.localeData=localeData,ye.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),ye.lang=Gt,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",V),addRegexToken("X",$),addParseToken("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),addParseToken("x",(function(t,e,n){n._d=new Date(toInt(t))})),hooks.version="2.30.1",setHookCallback(createLocal),hooks.fn=Xt,hooks.min=min,hooks.max=max,hooks.now=now,hooks.utc=createUTC,hooks.unix=createUnix,hooks.months=listMonths,hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=listWeekdays,hooks.parseZone=createInZone,hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=listMonthsShort,hooks.weekdaysMin=listWeekdaysMin,hooks.defineLocale=defineLocale,hooks.updateLocale=updateLocale,hooks.locales=listLocales,hooks.weekdaysShort=listWeekdaysShort,hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=getSetRelativeTimeRounding,hooks.relativeTimeThreshold=getSetRelativeTimeThreshold,hooks.calendarFormat=getCalendarFormat,hooks.prototype=Xt,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks}()},4319:function(t,e,n){var r=n(6885);!function(e,i){"use strict";var a;try{a=n(381)}catch(t){}t.exports=function(t){var e="function"==typeof t,n=!!r.addEventListener,i=r.document,a=r.setTimeout,addEvent=function(t,e,r,i){n?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r)},removeEvent=function(t,e,r,i){n?t.removeEventListener(e,r,!!i):t.detachEvent("on"+e,r)},trim=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},hasClass=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},addClass=function(t,e){hasClass(t,e)||(t.className=""===t.className?e:t.className+" "+e)},removeClass=function(t,e){t.className=trim((" "+t.className+" ").replace(" "+e+" "," "))},isArray=function(t){return/Array/.test(Object.prototype.toString.call(t))},isDate=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},isWeekend=function(t){var e=t.getDay();return 0===e||6===e},isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth=function(t,e){return[31,isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},setToStartOfDay=function(t){isDate(t)&&t.setHours(0,0,0,0)},compareDates=function(t,e){return t.getTime()===e.getTime()},extend=function(t,e,n){var r,i;for(r in e)(i=void 0!==t[r])&&"object"==typeof e[r]&&null!==e[r]&&void 0===e[r].nodeName?isDate(e[r])?n&&(t[r]=new Date(e[r].getTime())):isArray(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=extend({},e[r],n):!n&&i||(t[r]=e[r]);return t},fireEvent=function(t,e,n){var r;i.createEvent?((r=i.createEvent("HTMLEvents")).initEvent(e,!0,!1),r=extend(r,n),t.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=extend(r,n),t.fireEvent("on"+e,r))},adjustCalendar=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},o={field:null,bound:void 0,ariaLabel:"Use the arrow keys to pick a date",position:"bottom left",reposition:!0,format:"YYYY-MM-DD",toString:null,parse:null,defaultDate:null,setDefaultDate:!1,firstDay:0,firstWeekOfYearMinDays:4,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,pickWholeWeek:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,enableSelectionDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,blurFieldOnSelect:!0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null,keyboardInput:!0},renderDayName=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},renderDay=function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),t.enableSelectionDaysInNextAndPreviousMonths||e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},isoWeek=function(t,e){t.setHours(0,0,0,0);var n=t.getDate(),r=t.getDay(),i=e,a=i-1,o=7,prevWeekDay=function(t){return(t+o-1)%o};t.setDate(n+a-prevWeekDay(r));var s=new Date(t.getFullYear(),0,i),l=864e5,c=(t.getTime()-s.getTime())/l;return 1+Math.round((c-a+prevWeekDay(s.getDay()))/o)},renderWeek=function(n,r,i,a){var o=new Date(i,r,n);return'<td class="pika-week">'+(e?t(o).isoWeek():isoWeek(o,a))+"</td>"},renderRow=function(t,e,n,r){return'<tr class="pika-row'+(n?" pick-whole-week":"")+(r?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"},renderBody=function(t){return"<tbody>"+t.join("")+"</tbody>"},renderHead=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+renderDayName(t,e)+'">'+renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"},renderTitle=function(t,e,n,r,i,a){var o,s,l,c,u,p=t._o,m=n===p.minYear,_=n===p.maxYear,v='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',b=!0,S=!0;for(l=[],o=0;o<12;o++)l.push('<option value="'+(n===i?o-e:12+o-e)+'"'+(o===r?' selected="selected"':"")+(m&&o<p.minMonth||_&&o>p.maxMonth?' disabled="disabled"':"")+">"+p.i18n.months[o]+"</option>");for(c='<div class="pika-label">'+p.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",isArray(p.yearRange)?(o=p.yearRange[0],s=p.yearRange[1]+1):(o=n-p.yearRange,s=1+n+p.yearRange),l=[];o<s&&o<=p.maxYear;o++)o>=p.minYear&&l.push('<option value="'+o+'"'+(o===n?' selected="selected"':"")+">"+o+"</option>");return u='<div class="pika-label">'+n+p.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",p.showMonthAfterYear?v+=u+c:v+=c+u,m&&(0===r||p.minMonth>=r)&&(b=!1),_&&(11===r||p.maxMonth<=r)&&(S=!1),0===e&&(v+='<button class="pika-prev'+(b?"":" is-disabled")+'" type="button">'+p.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(v+='<button class="pika-next'+(S?"":" is-disabled")+'" type="button">'+p.i18n.nextMonth+"</button>"),v+"</div>"},renderTable=function(t,e,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+renderHead(t)+renderBody(e)+"</table>"},Pikaday=function(o){var s=this,l=s.config(o);s._onMouseDown=function(t){if(s._v){var e=(t=t||r.event).target||t.srcElement;if(e)if(hasClass(e,"is-disabled")||(!hasClass(e,"pika-button")||hasClass(e,"is-empty")||hasClass(e.parentNode,"is-disabled")?hasClass(e,"pika-prev")?s.prevMonth():hasClass(e,"pika-next")&&s.nextMonth():(s.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),l.bound&&a((function(){s.hide(),l.blurFieldOnSelect&&l.field&&l.field.blur()}),100))),hasClass(e,"pika-select"))s._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},s._onChange=function(t){var e=(t=t||r.event).target||t.srcElement;e&&(hasClass(e,"pika-select-month")?s.gotoMonth(e.value):hasClass(e,"pika-select-year")&&s.gotoYear(e.value))},s._onKeyChange=function(t){if(t=t||r.event,s.isVisible())switch(t.keyCode){case 13:case 27:l.field&&l.field.blur();break;case 37:s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7);break;case 8:case 46:s.setDate(null)}},s._parseFieldValue=function(){if(l.parse)return l.parse(l.field.value,l.format);if(e){var n=t(l.field.value,l.format,l.formatStrict);return n&&n.isValid()?n.toDate():null}return new Date(Date.parse(l.field.value))},s._onInputChange=function(t){var e;t.firedBy!==s&&(e=s._parseFieldValue(),isDate(e)&&s.setDate(e),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var t=i.activeElement;do{if(hasClass(t,"pika-single"))return}while(t=t.parentNode);s._c||(s._b=a((function(){s.hide()}),50)),s._c=!1},s._onClick=function(t){var e=(t=t||r.event).target||t.srcElement,i=e;if(e){!n&&hasClass(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),addEvent(e,"change",s._onChange)));do{if(hasClass(i,"pika-single")||i===l.trigger)return}while(i=i.parentNode);s._v&&e!==l.trigger&&i!==l.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),addEvent(s.el,"mousedown",s._onMouseDown,!0),addEvent(s.el,"touchend",s._onMouseDown,!0),addEvent(s.el,"change",s._onChange),l.keyboardInput&&addEvent(i,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?i.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),addEvent(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=s._parseFieldValue(),l.setDefaultDate=!0));var c=l.defaultDate;isDate(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",addEvent(l.trigger,"click",s._onInputClick),addEvent(l.trigger,"focus",s._onInputFocus),addEvent(l.trigger,"blur",s._onInputBlur)):this.show()};return Pikaday.prototype={config:function(t){this._o||(this._o=extend({},o,!0));var e=extend(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,isDate(e.minDate)||(e.minDate=!1),isDate(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),isArray(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||o.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return n=n||this._o.format,isDate(this._d)?this._o.toString?this._o.toString(this._d,n):e?t(this._d).format(n):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return isDate(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",fireEvent(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),isDate(t)){var n=this._o.minDate,r=this._o.maxDate;isDate(n)&&t<n?t=n:isDate(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),setToStartOfDay(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),fireEvent(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},clear:function(){this.setDate(null)},gotoDate:function(t){var e=!0;if(isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(t,e){var n,r=this.getDate()||new Date,i=24*parseInt(e)*60*60*1e3;"add"===t?n=new Date(r.valueOf()+i):"subtract"===t&&(n=new Date(r.valueOf()-i)),this.setDate(n)},adjustCalendars:function(){this.calendars[0]=adjustCalendar(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=adjustCalendar({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){t instanceof Date?(setToStartOfDay(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()):(this._o.minDate=o.minDate,this._o.minYear=o.minYear,this._o.minMonth=o.minMonth,this._o.startRange=o.startRange),this.draw()},setMaxDate:function(t){t instanceof Date?(setToStartOfDay(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth()):(this._o.maxDate=o.maxDate,this._o.maxYear=o.maxYear,this._o.maxMonth=o.maxMonth,this._o.endRange=o.endRange),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e,n=this._o,r=n.minYear,i=n.maxYear,o=n.minMonth,s=n.maxMonth,l="";this._y<=r&&(this._y=r,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(s)&&this._m>s&&(this._m=s));for(var c=0;c<n.numberOfMonths;c++)e="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2),l+='<div class="pika-lendar">'+renderTitle(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,e)+this.render(this.calendars[c].year,this.calendars[c].month,e)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&a((function(){n.trigger.focus()}),1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),n.bound&&n.field.setAttribute("aria-label",n.ariaLabel)}},adjustPosition:function(){var t,e,n,a,o,s,l,c,u,p,m,_;if(!this._o.container){if(this.el.style.position="absolute",e=t=this._o.trigger,n=this.el.offsetWidth,a=this.el.offsetHeight,o=r.innerWidth||i.documentElement.clientWidth,s=r.innerHeight||i.documentElement.clientHeight,l=r.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,m=!0,_=!0,"function"==typeof t.getBoundingClientRect)c=(p=t.getBoundingClientRect()).left+r.pageXOffset,u=p.bottom+r.pageYOffset;else for(c=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)c+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&c+n>o||this._o.position.indexOf("right")>-1&&c-n+t.offsetWidth>0)&&(c=c-n+t.offsetWidth,m=!1),(this._o.reposition&&u+a>s+l||this._o.position.indexOf("top")>-1&&u-a-t.offsetHeight>0)&&(u=u-a-t.offsetHeight,_=!1),this.el.style.left=c+"px",this.el.style.top=u+"px",addClass(this.el,m?"left-aligned":"right-aligned"),addClass(this.el,_?"bottom-aligned":"top-aligned"),removeClass(this.el,m?"right-aligned":"left-aligned"),removeClass(this.el,_?"top-aligned":"bottom-aligned")}},render:function(t,e,n){var r=this._o,i=new Date,a=getDaysInMonth(t,e),o=new Date(t,e,1).getDay(),s=[],l=[];setToStartOfDay(i),r.firstDay>0&&(o-=r.firstDay)<0&&(o+=7);for(var c=0===e?11:e-1,u=11===e?0:e+1,p=0===e?t-1:t,m=11===e?t+1:t,_=getDaysInMonth(p,c),v=a+o,b=v;b>7;)b-=7;v+=7-b;for(var S=!1,w=0,T=0;w<v;w++){var C=new Date(t,e,w-o+1),A=!!isDate(this._d)&&compareDates(C,this._d),P=compareDates(C,i),M=-1!==r.events.indexOf(C.toDateString()),I=w<o||w>=a+o,E=w-o+1,O=e,D=t,L=r.startRange&&compareDates(r.startRange,C),R=r.endRange&&compareDates(r.endRange,C),N=r.startRange&&r.endRange&&r.startRange<C&&C<r.endRange;I&&(w<o?(E=_+E,O=c,D=p):(E-=a,O=u,D=m));var F={day:E,month:O,year:D,hasEvent:M,isSelected:A,isToday:P,isDisabled:r.minDate&&C<r.minDate||r.maxDate&&C>r.maxDate||r.disableWeekends&&isWeekend(C)||r.disableDayFn&&r.disableDayFn(C),isEmpty:I,isStartRange:L,isEndRange:R,isInRange:N,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths,enableSelectionDaysInNextAndPreviousMonths:r.enableSelectionDaysInNextAndPreviousMonths};r.pickWholeWeek&&A&&(S=!0),l.push(renderDay(F)),7==++T&&(r.showWeekNumber&&l.unshift(renderWeek(w-o,e,t,r.firstWeekOfYearMinDays)),s.push(renderRow(l,r.isRTL,r.pickWholeWeek,S)),l=[],T=0,S=!1)}return renderTable(r,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(this._v=!0,this.draw(),removeClass(this.el,"is-hidden"),this._o.bound&&(addEvent(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;!1!==t&&(this._o.bound&&removeEvent(i,"click",this._onClick),this._o.container||(this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto"),addClass(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){var t=this._o;this.hide(),removeEvent(this.el,"mousedown",this._onMouseDown,!0),removeEvent(this.el,"touchend",this._onMouseDown,!0),removeEvent(this.el,"change",this._onChange),t.keyboardInput&&removeEvent(i,"keydown",this._onKeyChange),t.field&&(removeEvent(t.field,"change",this._onInputChange),t.bound&&(removeEvent(t.trigger,"click",this._onInputClick),removeEvent(t.trigger,"focus",this._onInputFocus),removeEvent(t.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},Pikaday}(a)}()},1474:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>Pt});var r=n(6885),i=n(4771);function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach((function(e){_defineProperty(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_extends.apply(this,arguments)}function _objectWithoutProperties(t,e){if(null==t)return{};var n,r,i=function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function userAgent(t){if(void 0!==r&&r.navigator)return!!navigator.userAgent.match(t)}var a=userAgent(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),o=userAgent(/Edge/i),s=userAgent(/firefox/i),l=userAgent(/safari/i)&&!userAgent(/chrome/i)&&!userAgent(/android/i),c=userAgent(/iP(ad|od|hone)/i),u=userAgent(/chrome/i)&&userAgent(/android/i),p={capture:!1,passive:!1};function on(t,e,n){t.addEventListener(e,n,!a&&p)}function off(t,e,n){t.removeEventListener(e,n,!a&&p)}function matches(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function getParentOrHost(t){return t.host&&t!==i&&t.host.nodeType?t.host:t.parentNode}function closest(t,e,n,r){if(t){n=n||i;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&matches(t,e):matches(t,e))||r&&t===n)return t;if(t===n)break}while(t=getParentOrHost(t))}return null}var m,_=/\s+/g;function toggleClass(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(_," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(_," ")}}function css(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return i.defaultView&&i.defaultView.getComputedStyle?n=i.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function matrix(t,e){var n="";if("string"==typeof t)n=t;else do{var i=css(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var a=r.DOMMatrix||r.WebKitCSSMatrix||r.CSSMatrix||r.MSCSSMatrix;return a&&new a(n)}function find(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function getWindowScrollingElement(){var t=i.scrollingElement;return t||i.documentElement}function getRect(t,e,n,i,o){if(t.getBoundingClientRect||t===r){var s,l,c,u,p,m,_;if(t!==r&&t.parentNode&&t!==getWindowScrollingElement()?(l=(s=t.getBoundingClientRect()).top,c=s.left,u=s.bottom,p=s.right,m=s.height,_=s.width):(l=0,c=0,u=r.innerHeight,p=r.innerWidth,m=r.innerHeight,_=r.innerWidth),(e||n)&&t!==r&&(o=o||t.parentNode,!a))do{if(o&&o.getBoundingClientRect&&("none"!==css(o,"transform")||n&&"static"!==css(o,"position"))){var v=o.getBoundingClientRect();l-=v.top+parseInt(css(o,"border-top-width")),c-=v.left+parseInt(css(o,"border-left-width")),u=l+s.height,p=c+s.width;break}}while(o=o.parentNode);if(i&&t!==r){var b=matrix(o||t),S=b&&b.a,w=b&&b.d;b&&(u=(l/=w)+(m/=w),p=(c/=S)+(_/=S))}return{top:l,left:c,bottom:u,right:p,width:_,height:m}}}function getContentRect(t){var e=getRect(t),n=parseInt(css(t,"padding-left")),r=parseInt(css(t,"padding-top")),i=parseInt(css(t,"padding-right")),a=parseInt(css(t,"padding-bottom"));return e.top+=r+parseInt(css(t,"border-top-width")),e.left+=n+parseInt(css(t,"border-left-width")),e.width=t.clientWidth-n-i,e.height=t.clientHeight-r-a,e.bottom=e.top+e.height,e.right=e.left+e.width,e}function isScrolledPast(t,e,n){for(var r=getParentAutoScrollElement(t,!0),i=getRect(t)[e];r;){var a=getRect(r)[n];if(!("top"===n||"left"===n?i>=a:i<=a))return r;if(r===getWindowScrollingElement())break;r=getParentAutoScrollElement(r,!1)}return!1}function getChild(t,e,n,r){for(var i=0,a=0,o=t.children;a<o.length;){if("none"!==o[a].style.display&&o[a]!==Sortable.ghost&&(r||o[a]!==Sortable.dragged)&&closest(o[a],n.draggable,t,!1)){if(i===e)return o[a];i++}a++}return null}function lastChild(t,e){for(var n=t.lastElementChild;n&&(n===Sortable.ghost||"none"===css(n,"display")||e&&!matches(n,e));)n=n.previousElementSibling;return n||null}function index(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Sortable.clone||e&&!matches(t,e)||n++;return n}function getRelativeScrollOffset(t){var e=0,n=0,r=getWindowScrollingElement();if(t)do{var i=matrix(t),a=i.a,o=i.d;e+=t.scrollLeft*a,n+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,n]}function getParentAutoScrollElement(t,e){if(!t||!t.getBoundingClientRect)return getWindowScrollingElement();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=css(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===i.body)return getWindowScrollingElement();if(r||e)return n;r=!0}}}while(n=n.parentNode);return getWindowScrollingElement()}function isRectEqual(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function throttle(t,e){return function(){if(!m){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),m=setTimeout((function(){m=void 0}),e)}}}function scrollBy(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function clone(t){var e=r.Polymer,n=r.jQuery||r.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}var v="Sortable"+(new Date).getTime();function AnimationStateManager(){var t,e=[];return{captureAnimationState:function captureAnimationState(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==css(t,"display")&&t!==Sortable.ghost){e.push({target:t,rect:getRect(t)});var n=_objectSpread2({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=matrix(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function addAnimationState(t){e.push(t)},removeAnimationState:function removeAnimationState(t){e.splice(function indexOfObject(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(e,{target:t}),1)},animateAll:function animateAll(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,a=0;e.forEach((function(t){var e=0,n=t.target,o=n.fromRect,s=getRect(n),l=n.prevFromRect,c=n.prevToRect,u=t.rect,p=matrix(n,!0);p&&(s.top-=p.f,s.left-=p.e),n.toRect=s,n.thisAnimationDuration&&isRectEqual(l,s)&&!isRectEqual(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(e=function calculateRealTime(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(u,l,c,r.options)),isRectEqual(s,o)||(n.prevFromRect=o,n.prevToRect=s,e||(e=r.options.animation),r.animate(n,u,s,e)),e&&(i=!0,a=Math.max(a,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),e=[]},animate:function animate(t,e,n,r){if(r){css(t,"transition",""),css(t,"transform","");var i=matrix(this.el),a=i&&i.a,o=i&&i.d,s=(e.left-n.left)/(a||1),l=(e.top-n.top)/(o||1);t.animatingX=!!s,t.animatingY=!!l,css(t,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function repaint(t){return t.offsetWidth}(t),css(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),css(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){css(t,"transition",""),css(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var b=[],S={initializeByDefault:!0},w={mount:function mount(t){for(var e in S)S.hasOwnProperty(e)&&!(e in t)&&(t[e]=S[e]);b.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),b.push(t)},pluginEvent:function pluginEvent(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";b.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](_objectSpread2({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](_objectSpread2({sortable:e},n)))}))},initializePlugins:function initializePlugins(t,e,n,r){for(var i in b.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var a=new r(t,e,t.options);a.sortable=t,a.options=t.options,t[i]=a,_extends(n,a.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);void 0!==a&&(t.options[i]=a)}},getEventProperties:function getEventProperties(t,e){var n={};return b.forEach((function(r){"function"==typeof r.eventProperties&&_extends(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function modifyOption(t,e,n){var r;return b.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function dispatchEvent(t){var e=t.sortable,n=t.rootEl,s=t.name,l=t.targetEl,c=t.cloneEl,u=t.toEl,p=t.fromEl,m=t.oldIndex,_=t.newIndex,b=t.oldDraggableIndex,S=t.newDraggableIndex,T=t.originalEvent,C=t.putSortable,A=t.extraEventProperties;if(e=e||n&&n[v]){var P,M=e.options,I="on"+s.charAt(0).toUpperCase()+s.substr(1);!r.CustomEvent||a||o?(P=i.createEvent("Event")).initEvent(s,!0,!0):P=new CustomEvent(s,{bubbles:!0,cancelable:!0}),P.to=u||n,P.from=p||n,P.item=l||n,P.clone=c,P.oldIndex=m,P.newIndex=_,P.oldDraggableIndex=b,P.newDraggableIndex=S,P.originalEvent=T,P.pullMode=C?C.lastPutMode:void 0;var E=_objectSpread2(_objectSpread2({},A),w.getEventProperties(s,e));for(var O in E)P[O]=E[O];n&&n.dispatchEvent(P),M[I]&&M[I].call(e,P)}}var T=["evt"],C=function pluginEvent(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=_objectWithoutProperties(n,T);w.pluginEvent.bind(Sortable)(t,e,_objectSpread2({dragEl:A,parentEl:P,ghostEl:M,rootEl:I,nextEl:E,lastDownEl:O,cloneEl:D,cloneHidden:L,dragStarted:q,putSortable:Y,activeSortable:Sortable.active,originalEvent:r,oldIndex:R,oldDraggableIndex:F,newIndex:N,newDraggableIndex:G,hideGhostForTarget:pt,unhideGhostForTarget:gt,cloneNowHidden:function cloneNowHidden(){L=!0},cloneNowShown:function cloneNowShown(){L=!1},dispatchSortableEvent:function dispatchSortableEvent(t){_dispatchEvent({sortable:e,name:t,originalEvent:r})}},i))};function _dispatchEvent(t){dispatchEvent(_objectSpread2({putSortable:Y,cloneEl:D,targetEl:A,rootEl:I,oldIndex:R,oldDraggableIndex:F,newIndex:N,newDraggableIndex:G},t))}var A,P,M,I,E,O,D,L,R,N,F,G,V,Y,z,$,H,B,W,U,q,X,Z,Q,K,J=!1,tt=!1,et=[],nt=!1,rt=!1,it=[],at=!1,ot=[],st=void 0!==i,lt=c,ct=o||a?"cssFloat":"float",ut=st&&!u&&!c&&"draggable"in i.createElement("div"),dt=function(){if(st){if(a)return!1;var t=i.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),ht=function _detectDirection(t,e){var n=css(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=getChild(t,0,e),a=getChild(t,1,e),o=i&&css(i),s=a&&css(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+getRect(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+getRect(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=r&&"none"===n[ct]||a&&"none"===n[ct]&&l+c>r)?"vertical":"horizontal"},ft=function _prepareGroup(t){function toFn(t,e){return function(n,r,i,a){var o=n.options.group.name&&r.options.group.name&&n.options.group.name===r.options.group.name;if(null==t&&(e||o))return!0;if(null==t||!1===t)return!1;if(e&&"clone"===t)return t;if("function"==typeof t)return toFn(t(n,r,i,a),e)(n,r,i,a);var s=(e?n:r).options.group.name;return!0===t||"string"==typeof t&&t===s||t.join&&t.indexOf(s)>-1}}var e={},n=t.group;n&&"object"==_typeof(n)||(n={name:n}),e.name=n.name,e.checkPull=toFn(n.pull,!0),e.checkPut=toFn(n.put),e.revertClone=n.revertClone,t.group=e},pt=function _hideGhostForTarget(){!dt&&M&&css(M,"display","none")},gt=function _unhideGhostForTarget(){!dt&&M&&css(M,"display","")};st&&!u&&i.addEventListener("click",(function(t){if(tt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),tt=!1,!1}),!0);var mt=function nearestEmptyInsertDetectEvent(t){if(A){var e=function _detectNearestEmptySortable(t,e){var n;return et.some((function(r){var i=r[v].options.emptyInsertThreshold;if(i&&!lastChild(r)){var a=getRect(r),o=t>=a.left-i&&t<=a.right+i,s=e>=a.top-i&&e<=a.bottom+i;return o&&s?n=r:void 0}})),n}((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[v]._onDragOver(n)}}},_t=function _checkOutsideTargetEl(t){A&&A.parentNode[v]._isOutsideThisEl(t.target)};function Sortable(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=_extends({},e),t[v]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function direction(){return ht(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function setData(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:r).parseInt(r.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Sortable.supportPointer&&"PointerEvent"in r&&!l,emptyInsertThreshold:5};for(var i in w.initializePlugins(this,t,n),n)!(i in e)&&(e[i]=n[i]);for(var a in ft(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&ut,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?on(t,"pointerdown",this._onTapStart):(on(t,"mousedown",this._onTapStart),on(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(on(t,"dragover",this),on(t,"dragenter",this)),et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),_extends(this,AnimationStateManager())}function _onMove(t,e,n,s,l,c,u,p){var m,_,b=t[v],S=b.options.onMove;return!r.CustomEvent||a||o?(m=i.createEvent("Event")).initEvent("move",!0,!0):m=new CustomEvent("move",{bubbles:!0,cancelable:!0}),m.to=e,m.from=t,m.dragged=n,m.draggedRect=s,m.related=l||e,m.relatedRect=c||getRect(e),m.willInsertAfter=p,m.originalEvent=u,t.dispatchEvent(m),S&&(_=S.call(b,m,u)),_}function _disableDraggable(t){t.draggable=!1}function _unsilent(){at=!1}function _generateId(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function _nextTick(t){return setTimeout(t,0)}function _cancelNextTick(t){return clearTimeout(t)}Sortable.prototype={constructor:Sortable,_isOutsideThisEl:function _isOutsideThisEl(t){this.el.contains(t)||t===this.el||(X=null)},_getDirection:function _getDirection(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,A):this.options.direction},_onTapStart:function _onTapStart(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,a=t.type,o=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(o||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,u=r.filter;if(function _saveInputCheckedState(t){ot.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&ot.push(r)}}(n),!A&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!l||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=closest(s,r.draggable,n,!1))&&s.animated||O===s)){if(R=index(s),F=index(s,r.draggable),"function"==typeof u){if(u.call(this,t,s,this))return _dispatchEvent({sortable:e,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),C("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=closest(c,r.trim(),n,!1))return _dispatchEvent({sortable:e,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),C("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!closest(c,r.handle,n,!1)||this._prepareDragStart(t,o,s)}}},_prepareDragStart:function _prepareDragStart(t,e,n){var r,i=this,l=i.el,c=i.options,u=l.ownerDocument;if(n&&!A&&n.parentNode===l){var p=getRect(n);if(I=l,P=(A=n).parentNode,E=A.nextSibling,O=n,V=c.group,Sortable.dragged=A,z={target:A,clientX:(e||t).clientX,clientY:(e||t).clientY},W=z.clientX-p.left,U=z.clientY-p.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,A.style["will-change"]="all",r=function dragStartFn(){C("delayEnded",i,{evt:t}),Sortable.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!s&&i.nativeDraggable&&(A.draggable=!0),i._triggerDragStart(t,e),_dispatchEvent({sortable:i,name:"choose",originalEvent:t}),toggleClass(A,c.chosenClass,!0))},c.ignore.split(",").forEach((function(t){find(A,t.trim(),_disableDraggable)})),on(u,"dragover",mt),on(u,"mousemove",mt),on(u,"touchmove",mt),on(u,"mouseup",i._onDrop),on(u,"touchend",i._onDrop),on(u,"touchcancel",i._onDrop),s&&this.nativeDraggable&&(this.options.touchStartThreshold=4,A.draggable=!0),C("delayStart",this,{evt:t}),!c.delay||c.delayOnTouchOnly&&!e||this.nativeDraggable&&(o||a))r();else{if(Sortable.eventCanceled)return void this._onDrop();on(u,"mouseup",i._disableDelayedDrag),on(u,"touchend",i._disableDelayedDrag),on(u,"touchcancel",i._disableDelayedDrag),on(u,"mousemove",i._delayedDragTouchMoveHandler),on(u,"touchmove",i._delayedDragTouchMoveHandler),c.supportPointer&&on(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,c.delay)}}},_delayedDragTouchMoveHandler:function _delayedDragTouchMoveHandler(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&r.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function _disableDelayedDrag(){A&&_disableDraggable(A),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function _disableDelayedDragEvents(){var t=this.el.ownerDocument;off(t,"mouseup",this._disableDelayedDrag),off(t,"touchend",this._disableDelayedDrag),off(t,"touchcancel",this._disableDelayedDrag),off(t,"mousemove",this._delayedDragTouchMoveHandler),off(t,"touchmove",this._delayedDragTouchMoveHandler),off(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function _triggerDragStart(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?on(i,"pointermove",this._onTouchMove):on(i,e?"touchmove":"mousemove",this._onTouchMove):(on(A,"dragend",this),on(I,"dragstart",this._onDragStart));try{i.selection?_nextTick((function(){i.selection.empty()})):r.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function _dragStarted(t,e){if(J=!1,I&&A){C("dragStarted",this,{evt:e}),this.nativeDraggable&&on(i,"dragover",_t);var n=this.options;!t&&toggleClass(A,n.dragClass,!1),toggleClass(A,n.ghostClass,!0),Sortable.active=this,t&&this._appendGhost(),_dispatchEvent({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function _emulateDragOver(){if($){this._lastX=$.clientX,this._lastY=$.clientY,pt();for(var t=i.elementFromPoint($.clientX,$.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint($.clientX,$.clientY))!==e;)e=t;if(A.parentNode[v]._isOutsideThisEl(t),e)do{if(e[v]){if(e[v]._onDragOver({clientX:$.clientX,clientY:$.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);gt()}},_onTouchMove:function _onTouchMove(t){if(z){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,a=M&&matrix(M,!0),o=M&&a&&a.a,s=M&&a&&a.d,l=lt&&K&&getRelativeScrollOffset(K),c=(i.clientX-z.clientX+r.x)/(o||1)+(l?l[0]-it[0]:0)/(o||1),u=(i.clientY-z.clientY+r.y)/(s||1)+(l?l[1]-it[1]:0)/(s||1);if(!Sortable.active&&!J){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(M){a?(a.e+=c-(H||0),a.f+=u-(B||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");css(M,"webkitTransform",p),css(M,"mozTransform",p),css(M,"msTransform",p),css(M,"transform",p),H=c,B=u,$=i}t.cancelable&&t.preventDefault()}},_appendGhost:function _appendGhost(){if(!M){var t=this.options.fallbackOnBody?i.body:I,e=getRect(A,!0,lt,!0,t),n=this.options;if(lt){for(K=t;"static"===css(K,"position")&&"none"===css(K,"transform")&&K!==i;)K=K.parentNode;K!==i.body&&K!==i.documentElement?(K===i&&(K=getWindowScrollingElement()),e.top+=K.scrollTop,e.left+=K.scrollLeft):K=getWindowScrollingElement(),it=getRelativeScrollOffset(K)}toggleClass(M=A.cloneNode(!0),n.ghostClass,!1),toggleClass(M,n.fallbackClass,!0),toggleClass(M,n.dragClass,!0),css(M,"transition",""),css(M,"transform",""),css(M,"box-sizing","border-box"),css(M,"margin",0),css(M,"top",e.top),css(M,"left",e.left),css(M,"width",e.width),css(M,"height",e.height),css(M,"opacity","0.8"),css(M,"position",lt?"absolute":"fixed"),css(M,"zIndex","100000"),css(M,"pointerEvents","none"),Sortable.ghost=M,t.appendChild(M),css(M,"transform-origin",W/parseInt(M.style.width)*100+"% "+U/parseInt(M.style.height)*100+"%")}},_onDragStart:function _onDragStart(t,e){var n=this,r=t.dataTransfer,a=n.options;C("dragStart",this,{evt:t}),Sortable.eventCanceled?this._onDrop():(C("setupClone",this),Sortable.eventCanceled||((D=clone(A)).removeAttribute("id"),D.draggable=!1,D.style["will-change"]="",this._hideClone(),toggleClass(D,this.options.chosenClass,!1),Sortable.clone=D),n.cloneId=_nextTick((function(){C("clone",n),Sortable.eventCanceled||(n.options.removeCloneOnHide||I.insertBefore(D,A),n._hideClone(),_dispatchEvent({sortable:n,name:"clone"}))})),!e&&toggleClass(A,a.dragClass,!0),e?(tt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(off(i,"mouseup",n._onDrop),off(i,"touchend",n._onDrop),off(i,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",a.setData&&a.setData.call(n,r,A)),on(i,"drop",n),css(A,"transform","translateZ(0)")),J=!0,n._dragStartId=_nextTick(n._dragStarted.bind(n,e,t)),on(i,"selectstart",n),q=!0,l&&css(i.body,"user-select","none"))},_onDragOver:function _onDragOver(t){var e,n,r,a,o=this.el,s=t.target,l=this.options,c=l.group,u=Sortable.active,p=V===c,m=l.sort,_=Y||u,b=this,S=!1;if(!at){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=closest(s,l.draggable,o,!0),dragOverEvent("dragOver"),Sortable.eventCanceled)return S;if(A.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||b._ignoreWhileAnimating===s)return completed(!1);if(tt=!1,u&&!l.disabled&&(p?m||(r=P!==I):Y===this||(this.lastPutMode=V.checkPull(this,u,A,t))&&c.checkPut(this,u,A,t))){if(a="vertical"===this._getDirection(t,s),e=getRect(A),dragOverEvent("dragOverValid"),Sortable.eventCanceled)return S;if(r)return P=I,capture(),this._hideClone(),dragOverEvent("revert"),Sortable.eventCanceled||(E?I.insertBefore(A,E):I.appendChild(A)),completed(!0);var w=lastChild(o,l.draggable);if(!w||function _ghostIsLast(t,e,n){var r=getRect(lastChild(n.el,n.options.draggable)),i=getContentRect(n.el),a=10;return e?t.clientX>i.right+a||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>i.bottom+a||t.clientX>r.right&&t.clientY>r.top}(t,a,this)&&!w.animated){if(w===A)return completed(!1);if(w&&o===t.target&&(s=w),s&&(n=getRect(s)),!1!==_onMove(I,o,A,e,s,n,t,!!s))return capture(),w&&w.nextSibling?o.insertBefore(A,w.nextSibling):o.appendChild(A),P=o,changed(),completed(!0)}else if(w&&function _ghostIsFirst(t,e,n){var r=getRect(getChild(n.el,0,n.options,!0)),i=getContentRect(n.el),a=10;return e?t.clientX<i.left-a||t.clientY<r.top&&t.clientX<r.right:t.clientY<i.top-a||t.clientY<r.bottom&&t.clientX<r.left}(t,a,this)){var T=getChild(o,0,l,!0);if(T===A)return completed(!1);if(n=getRect(s=T),!1!==_onMove(I,o,A,e,s,n,t,!1))return capture(),o.insertBefore(A,T),P=o,changed(),completed(!0)}else if(s.parentNode===o){n=getRect(s);var O,D,L,R=A.parentNode!==o,F=!function _dragElInRowColumn(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,a=n?t.width:t.height,o=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return r===o||i===s||r+a/2===o+l/2}(A.animated&&A.toRect||e,s.animated&&s.toRect||n,a),z=a?"top":"left",$=isScrolledPast(s,"top","top")||isScrolledPast(A,"top","top"),H=$?$.scrollTop:void 0;if(X!==s&&(D=n[z],nt=!1,rt=!F&&l.invertSwap||R),O=function _getSwapDirection(t,e,n,r,i,a,o,s){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,p=r?n.bottom:n.right,m=!1;if(!o)if(s&&Q<c*i){if(!nt&&(1===Z?l>u+c*a/2:l<p-c*a/2)&&(nt=!0),nt)m=!0;else if(1===Z?l<u+Q:l>p-Q)return-Z}else if(l>u+c*(1-i)/2&&l<p-c*(1-i)/2)return function _getInsertDirection(t){return index(A)<index(t)?1:-1}(e);if((m=m||o)&&(l<u+c*a/2||l>p-c*a/2))return l>u+c/2?1:-1;return 0}(t,s,n,a,F?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,rt,X===s),0!==O){var B=index(A);do{B-=O,L=P.children[B]}while(L&&("none"===css(L,"display")||L===M))}if(0===O||L===s)return completed(!1);X=s,Z=O;var W=s.nextElementSibling,U=!1,q=_onMove(I,o,A,e,s,n,t,U=1===O);if(!1!==q)return 1!==q&&-1!==q||(U=1===q),at=!0,setTimeout(_unsilent,30),capture(),U&&!W?o.appendChild(A):s.parentNode.insertBefore(A,U?W:s),$&&scrollBy($,0,H-$.scrollTop),P=A.parentNode,void 0===D||rt||(Q=Math.abs(D-getRect(s)[z])),changed(),completed(!0)}if(o.contains(A))return completed(!1)}return!1}function dragOverEvent(i,l){C(i,b,_objectSpread2({evt:t,isOwner:p,axis:a?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:m,fromSortable:_,target:s,completed,onMove:function onMove(n,r){return _onMove(I,o,A,e,n,getRect(n),t,r)},changed},l))}function capture(){dragOverEvent("dragOverAnimationCapture"),b.captureAnimationState(),b!==_&&_.captureAnimationState()}function completed(e){return dragOverEvent("dragOverCompleted",{insertion:e}),e&&(p?u._hideClone():u._showClone(b),b!==_&&(toggleClass(A,Y?Y.options.ghostClass:u.options.ghostClass,!1),toggleClass(A,l.ghostClass,!0)),Y!==b&&b!==Sortable.active?Y=b:b===Sortable.active&&Y&&(Y=null),_===b&&(b._ignoreWhileAnimating=s),b.animateAll((function(){dragOverEvent("dragOverAnimationComplete"),b._ignoreWhileAnimating=null})),b!==_&&(_.animateAll(),_._ignoreWhileAnimating=null)),(s===A&&!A.animated||s===o&&!s.animated)&&(X=null),l.dragoverBubble||t.rootEl||s===i||(A.parentNode[v]._isOutsideThisEl(t.target),!e&&mt(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),S=!0}function changed(){N=index(A),G=index(A,l.draggable),_dispatchEvent({sortable:b,name:"change",toEl:o,newIndex:N,newDraggableIndex:G,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function _offMoveEvents(){off(i,"mousemove",this._onTouchMove),off(i,"touchmove",this._onTouchMove),off(i,"pointermove",this._onTouchMove),off(i,"dragover",mt),off(i,"mousemove",mt),off(i,"touchmove",mt)},_offUpEvents:function _offUpEvents(){var t=this.el.ownerDocument;off(t,"mouseup",this._onDrop),off(t,"touchend",this._onDrop),off(t,"pointerup",this._onDrop),off(t,"touchcancel",this._onDrop),off(i,"selectstart",this)},_onDrop:function _onDrop(t){var e=this.el,n=this.options;N=index(A),G=index(A,n.draggable),C("drop",this,{evt:t}),P=A&&A.parentNode,N=index(A),G=index(A,n.draggable),Sortable.eventCanceled||(J=!1,rt=!1,nt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_cancelNextTick(this.cloneId),_cancelNextTick(this._dragStartId),this.nativeDraggable&&(off(i,"drop",this),off(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),l&&css(i.body,"user-select",""),css(A,"transform",""),t&&(q&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),M&&M.parentNode&&M.parentNode.removeChild(M),(I===P||Y&&"clone"!==Y.lastPutMode)&&D&&D.parentNode&&D.parentNode.removeChild(D),A&&(this.nativeDraggable&&off(A,"dragend",this),_disableDraggable(A),A.style["will-change"]="",q&&!J&&toggleClass(A,Y?Y.options.ghostClass:this.options.ghostClass,!1),toggleClass(A,this.options.chosenClass,!1),_dispatchEvent({sortable:this,name:"unchoose",toEl:P,newIndex:null,newDraggableIndex:null,originalEvent:t}),I!==P?(N>=0&&(_dispatchEvent({rootEl:P,name:"add",toEl:P,fromEl:I,originalEvent:t}),_dispatchEvent({sortable:this,name:"remove",toEl:P,originalEvent:t}),_dispatchEvent({rootEl:P,name:"sort",toEl:P,fromEl:I,originalEvent:t}),_dispatchEvent({sortable:this,name:"sort",toEl:P,originalEvent:t})),Y&&Y.save()):N!==R&&N>=0&&(_dispatchEvent({sortable:this,name:"update",toEl:P,originalEvent:t}),_dispatchEvent({sortable:this,name:"sort",toEl:P,originalEvent:t})),Sortable.active&&(null!=N&&-1!==N||(N=R,G=F),_dispatchEvent({sortable:this,name:"end",toEl:P,originalEvent:t}),this.save())))),this._nulling()},_nulling:function _nulling(){C("nulling",this),I=A=P=M=E=D=O=L=z=$=q=N=G=R=F=X=Z=Y=V=Sortable.dragged=Sortable.ghost=Sortable.clone=Sortable.active=null,ot.forEach((function(t){t.checked=!0})),ot.length=H=B=0},handleEvent:function handleEvent(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":A&&(this._onDragOver(t),function _globalDragOver(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function toArray(){for(var t,e=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)closest(t=n[r],a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||_generateId(t));return e},sort:function sort(t,e){var n={},r=this.el;this.toArray().forEach((function(t,e){var i=r.children[e];closest(i,this.options.draggable,r,!1)&&(n[t]=i)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(r.removeChild(n[t]),r.appendChild(n[t]))})),e&&this.animateAll()},save:function save(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function closest$1(t,e){return closest(t,e||this.options.draggable,this.el,!1)},option:function option(t,e){var n=this.options;if(void 0===e)return n[t];var r=w.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&ft(n)},destroy:function destroy(){C("destroy",this);var t=this.el;t[v]=null,off(t,"mousedown",this._onTapStart),off(t,"touchstart",this._onTapStart),off(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(off(t,"dragover",this),off(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),et.splice(et.indexOf(this.el),1),this.el=t=null},_hideClone:function _hideClone(){if(!L){if(C("hideClone",this),Sortable.eventCanceled)return;css(D,"display","none"),this.options.removeCloneOnHide&&D.parentNode&&D.parentNode.removeChild(D),L=!0}},_showClone:function _showClone(t){if("clone"===t.lastPutMode){if(L){if(C("showClone",this),Sortable.eventCanceled)return;A.parentNode!=I||this.options.group.revertClone?E?I.insertBefore(D,E):I.appendChild(D):I.insertBefore(D,A),this.options.group.revertClone&&this.animate(A,D),css(D,"display",""),L=!1}}else this._hideClone()}},st&&on(i,"touchmove",(function(t){(Sortable.active||J)&&t.cancelable&&t.preventDefault()})),Sortable.utils={on,off,css,find,is:function is(t,e){return!!closest(t,e,t,!1)},extend:function extend(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle,closest,toggleClass,clone,index,nextTick:_nextTick,cancelNextTick:_cancelNextTick,detectDirection:ht,getChild},Sortable.get=function(t){return t[v]},Sortable.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Sortable.utils=_objectSpread2(_objectSpread2({},Sortable.utils),t.utils)),w.mount(t)}))},Sortable.create=function(t,e){return new Sortable(t,e)},Sortable.version="1.15.1";var yt,vt,xt,bt,St,wt,Tt=[],Ct=!1;function clearAutoScrolls(){Tt.forEach((function(t){clearInterval(t.pid)})),Tt=[]}function clearPointerElemChangedInterval(){clearInterval(wt)}var kt=throttle((function(t,e,n,r){if(e.scroll){var i,a=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=getWindowScrollingElement(),u=!1;vt!==n&&(vt=n,clearAutoScrolls(),yt=e.scroll,i=e.scrollFn,!0===yt&&(yt=getParentAutoScrollElement(n,!0)));var p=0,m=yt;do{var _=m,b=getRect(_),S=b.top,w=b.bottom,T=b.left,C=b.right,A=b.width,P=b.height,M=void 0,I=void 0,E=_.scrollWidth,O=_.scrollHeight,D=css(_),L=_.scrollLeft,R=_.scrollTop;_===c?(M=A<E&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),I=P<O&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(M=A<E&&("auto"===D.overflowX||"scroll"===D.overflowX),I=P<O&&("auto"===D.overflowY||"scroll"===D.overflowY));var N=M&&(Math.abs(C-a)<=s&&L+A<E)-(Math.abs(T-a)<=s&&!!L),F=I&&(Math.abs(w-o)<=s&&R+P<O)-(Math.abs(S-o)<=s&&!!R);if(!Tt[p])for(var G=0;G<=p;G++)Tt[G]||(Tt[G]={});Tt[p].vx==N&&Tt[p].vy==F&&Tt[p].el===_||(Tt[p].el=_,Tt[p].vx=N,Tt[p].vy=F,clearInterval(Tt[p].pid),0==N&&0==F||(u=!0,Tt[p].pid=setInterval(function(){r&&0===this.layer&&Sortable.active._onTouchMove(St);var e=Tt[this.layer].vy?Tt[this.layer].vy*l:0,n=Tt[this.layer].vx?Tt[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Sortable.dragged.parentNode[v],n,e,t,St,Tt[this.layer].el)||scrollBy(Tt[this.layer].el,n,e)}.bind({layer:p}),24))),p++}while(e.bubbleScroll&&m!==c&&(m=getParentAutoScrollElement(m,!1)));Ct=u}}),30),At=function drop(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,a=t.activeSortable,o=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var c=n||a;s();var u=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,p=i.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(p)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function Revert(){}function Remove(){}Revert.prototype={startIndex:null,dragStart:function dragStart(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function onSpill(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=getChild(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:At},_extends(Revert,{pluginName:"revertOnSpill"}),Remove.prototype={onSpill:function onSpill(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:At},_extends(Remove,{pluginName:"removeOnSpill"});Sortable.mount(new function AutoScrollPlugin(){function AutoScroll(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return AutoScroll.prototype={dragStarted:function dragStarted(t){var e=t.originalEvent;this.sortable.nativeDraggable?on(i,"dragover",this._handleAutoScroll):this.options.supportPointer?on(i,"pointermove",this._handleFallbackAutoScroll):e.touches?on(i,"touchmove",this._handleFallbackAutoScroll):on(i,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function dragOverCompleted(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function drop(){this.sortable.nativeDraggable?off(i,"dragover",this._handleAutoScroll):(off(i,"pointermove",this._handleFallbackAutoScroll),off(i,"touchmove",this._handleFallbackAutoScroll),off(i,"mousemove",this._handleFallbackAutoScroll)),clearPointerElemChangedInterval(),clearAutoScrolls(),function cancelThrottle(){clearTimeout(m),m=void 0}()},nulling:function nulling(){St=vt=yt=Ct=wt=xt=bt=null,Tt.length=0},_handleFallbackAutoScroll:function _handleFallbackAutoScroll(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function _handleAutoScroll(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,c=i.elementFromPoint(r,s);if(St=t,e||this.options.forceAutoScrollFallback||o||a||l){kt(t,this.options,c,e);var u=getParentAutoScrollElement(c,!0);!Ct||wt&&r===xt&&s===bt||(wt&&clearPointerElemChangedInterval(),wt=setInterval((function(){var a=getParentAutoScrollElement(i.elementFromPoint(r,s),!0);a!==u&&(u=a,clearAutoScrolls()),kt(t,n.options,a,e)}),10),xt=r,bt=s)}else{if(!this.options.bubbleScroll||getParentAutoScrollElement(c,!0)===getWindowScrollingElement())return void clearAutoScrolls();kt(t,this.options,getParentAutoScrollElement(c,!1),!1)}}},_extends(AutoScroll,{pluginName:"scroll",initializeByDefault:!0})}),Sortable.mount(Remove,Revert);const Pt=Sortable},4280:(t,e,n)=>{var r={"./admin/entry.js":[5477,7729,4319,858,5175,1474,767,7391,2756,5477],"./app/entry-admin-panel.js":[4394,4394],"./app/entry.js":[2041,7729,5382,8025,4682,2041],"./app/modules/about-slider.js":[9086,9086],"./app/modules/ajax-links.js":[4682,7729,4682],"./app/modules/article.js":[2108,2108],"./app/modules/articles.js":[6564,6564],"./app/modules/awards-mob-slider.js":[8400,8400],"./app/modules/before-after-slider.js":[6985,6985],"./app/modules/certificates-slider.js":[5721,5721],"./app/modules/compare-slider.js":[1814,1814],"./app/modules/ct-request.js":[4726,4726],"./app/modules/custom-selection.js":[5517,5517],"./app/modules/employees-slider.js":[2251,2251],"./app/modules/equipment-slider.js":[7127,7127],"./app/modules/forecasting-slider.js":[7157,7157],"./app/modules/forms.js":[9996,5382,9996],"./app/modules/goals.js":[2935,2935],"./app/modules/guarantee-price.js":[3644,3644],"./app/modules/header-address.js":[2294,2294],"./app/modules/image-blur.js":[7330,7330],"./app/modules/image-popup.js":[4278,7729,4278],"./app/modules/image-reviews-slider.js":[3495,3495],"./app/modules/main-award-slider.js":[3320,3320],"./app/modules/main-slider.js":[271,271],"./app/modules/map.js":[7914,7729,7914],"./app/modules/modal-hash.js":[8670,7729,8670],"./app/modules/modal.js":[1109,7729,6322],"./app/modules/offer-service.js":[6126,6126],"./app/modules/ph-awards-slider.js":[6387,6387],"./app/modules/ph-prosthetics-slider.js":[1816,1816],"./app/modules/prostheses-slider.js":[897,897],"./app/modules/quiz.js":[6511,6511],"./app/modules/reviews-slider.js":[7026,7026],"./app/modules/ribbon.js":[2082,7729,2082],"./app/modules/scroll-to-top.js":[6595,6595],"./app/modules/scroll-to.js":[8261,8261],"./app/modules/search-map.js":[2819,2819],"./app/modules/sidebar-mobile.js":[2534,2534],"./app/modules/sidebar.js":[4126,4126],"./app/modules/slider-reviews.js":[3412,3412],"./app/modules/spoiler.js":[3096,3096],"./app/modules/tabs-by-id.js":[2418,2418],"./app/modules/tabs.js":[2436,2436],"./app/modules/tooltip.js":[5573,8025,5573],"./app/modules/video-popup.js":[1752,7729,1752],"./app/modules/video-reviews-slider.js":[7465,7465],"./app/modules/yandex-search.js":[9678,9678]};function webpackAsyncContext(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(1).map(n.e)).then((()=>n(i)))}webpackAsyncContext.keys=()=>Object.keys(r),webpackAsyncContext.id=4280,t.exports=webpackAsyncContext},8449:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Activities});var r=n(4967),i=n(2637),a=n(1721),o=n(4520),s=n(9755);class Activities extends r.default{_init(){return this.$list=s('[data-js="activities-list"]'),!!this.$list.length&&(new i.default({$wrapper:this.$list,namespace:this.constructor.name}),!0)}_bind(){return this._bindTo(this.$list,"show",((t,e)=>{let n=s(e.target);new a.default({route:n.data("js-show-url")})})),this._bindTo(this.$list.find('[data-js-activity="no-edit"]'),"click",(()=>{new o.default({type:"info",text:"Не найден объект редактирования"})})),!0}}},5668:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Affiliates});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Affiliates extends r.default{_init(){return this.$list=a('[data-js="affiliates-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"affiliate:created",(()=>{o.location.reload()})),this._bindTo(a(o),"affiliate:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.affiliate)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:affiliate:edit",{affiliate:n.id});new i.default({route:t.uri})}))})),!0}}},4773:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Employees});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Employees extends r.default{_init(){return this.$list=a('[data-js="employees-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"employee:created",(()=>{o.location.reload()})),this._bindTo(a(o),"employee:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.employee)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.fio),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:affiliate:employee:edit",{employee:n.id});new i.default({route:t.uri})}))})),!0}}},9989:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Professions});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Professions extends r.default{_init(){return this.$list=a('[data-js="professions-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"profession:created",(()=>{o.location.reload()})),this._bindTo(a(o),"profession:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.profession)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:affiliate:profession:edit",{profession:n.id});new i.default({route:t.uri})}))})),!0}}},7391:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Pages});var r=n(4967),i=n(2637),a=n(1721),o=n(3330),s=n(7864),l=n(3064),c=n(9755),u=n(6885);class Pages extends r.default{_init(){return this.$wrapper=c('[data-js="pages-list-wrapper"]'),this.$wallpaper_video=!1,!!this.$wrapper.length&&(this.create_page_route=c(".create-button").attr("href"),this.$tree=this.$wrapper.find(".tree"),this.data_js_item="page-item",this.Tree=new s.default({$tree:this.$tree,data_js_item:this.data_js_item}),new i.default({$wrapper:this.$wrapper,namespace:this.constructor.name}),!0)}_bind(){this._bindTo(c(u),"load",(()=>{let t=u.__storage.get("page-tree");t&&(c.isArray(t)||(t=[t]),c.each(t,((t,e)=>{let n=this.$wrapper.find(`[data-js-id=${e}]`);n.length?this.Tree.getDescendants(n,"page"):u[`interval-page-tree_${e}`]=setInterval((()=>{let t=this.$wrapper.find(`[data-js-id=${e}]`);t.length&&(this.Tree.getDescendants(t,"page"),clearInterval(u[`interval-page-tree_${e}`]))}),100)})))})),this._bindTo(c(u),"modal:opened",((t,e)=>{let n=e.$modal.find("form");this.initGenerateSlug(n)})),this._bindTo(c(u),"page:created",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.page)),r=this._nullSafe((()=>e.$modal)),i=r.find("form"),a=c("<span/>").html(i.find('input[name="h1"]').val()).text();n.parent_id||this.Tree.addRoot(n,a),r.close()})),this._bindTo(c(u),"page:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.page)),r=this._nullSafe((()=>e.$modal)),i=this.$wrapper.find(`[data-js-id="${n.id}"]`);if(r.close(null,(()=>{let t=this._route("admin:page:edit",{page:n.id});new a.default({route:t.uri})})),i.length){i.toggleClass("off",!n.published);let t=i.attr("class");i.replaceWith(this.Tree.getLiTpl(n,t)),i=this.$wrapper.find(`[data-js-id="${n.id}"]`);let e=i.closest("[data-js-sub-for]"),r=null;if(e.length){if(r=e.data("js-sub-for"),parseInt(n.parent_id)!==r){let t=this.$wrapper.find(`[data-js-id="${r}"]`),e=this.$wrapper.find(`[data-js-id="${n.parent_id}"]`);t.removeClass("opened"),this.Tree.getDescendants(t,"page"),e.length?this.Tree.getDescendants(e,"page"):this.Tree.addRoot(n,n.h1)}}else{let t=parseInt(n.parent_id);if(r=parseInt(r),!isNaN(t)&&t!==r){let t=this.$wrapper.find(`[data-js-id="${n.parent_id}"]`);this.Tree.getDescendants(t,"page")}}this.Tree.coloringList()}})),this._bindTo(this.$wrapper,"add:descendant",((t,e)=>{let n=c(e.target);this.Tree.addDescendant(n,this.create_page_route)})),this._bindTo(this.$wrapper,"edit",((t,e)=>{let n=c(e.target);new a.default({route:n.data("js-edit-url")})})),this._bindTo(this.$wrapper,"open",((t,e)=>{let n=c(e.target),r=this._route("admin:page:url",{page:n.data("js-id")});new o.default({url:r.uri,method:r.method,success:t=>{let e=this._nullSafe((()=>t.data.url));e&&u.open(e,"previeWin")}})})),this._bindTo(this.$wrapper,"clear:cache",((t,e)=>{let n=this._route("admin:cache:reset:selected");n&&new o.default({url:n.uri,method:n.method,data:{page_id:c(e.target).data("js-id")}})})),this._liveBindTo(`[data-js="${this.data_js_item}"]`,"click",(t=>{let e=c(t.target);return 2!==t.button&&(!!e.is(`[data-js="${this.data_js_item}"]`)&&void this.Tree.getDescendants(e,"page"))})),this._liveBindTo('[data-js="wallpaper-video-delete"]',"click",(t=>{this.deleteOrRestoreWallpaperVideo(c(t.target))}));let t=this._getHashParams(),e=this._nullSafe((()=>t.edit_page));return e&&l.default.call(e),!0}initGenerateSlug(t){let e=t.find('[name="h1"]'),n=t.find('[name="slug"]'),r=t.find('[name="v_parent_id"]');if(!n.length)return!1;let submit=()=>{let t=c("<span/>").html(e.val()).text(),i=e.data("js-get-slug-url"),a=r.val();if(!c.trim(t))return!1;a&&(i=`${i}/${a}`),n.prop("disabled",!0),new o.default({url:i,data:{name:t},success:t=>{let e=this._nullSafe((()=>t.data.slug));e&&(e=e.replace(/\/$/,"")),n.val(e),n.trigger("change"),n.prop("disabled",!1)}})};if(c.trim(e.val()))return!1;this._bindTo(e,"keyup change",this._debounce(submit)),this._bindTo(r,"select-result",this._debounce(submit))}deleteOrRestoreWallpaperVideo(t){let e=t.closest('[data-js="wallpaper-video-delete-wrapper"]'),n=e.find("input");return t.is('[data-js="wallpaper-video-delete"]')&&0==this.$wallpaper_video?(this.$wallpaper_video=!0,t.text("Восстановить"),e.addClass("deleted"),e.prev("video").css({opacity:"0.5"}),n.val(1),!1):(this.$wallpaper_video=!1,t.text("Удалить"),e.removeClass("deleted"),e.prev("video").css({opacity:"1"}),n.val(0),!1)}}},1588:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Reviews});var r=n(4967),i=n(1721),a=n(3064),o=n(9755),s=n(6885);class Reviews extends r.default{_init(){return this.$list=o('[data-js="reviews-list"]'),!!this.$list.length}_bind(){let t=this._getHashParams(),e=this._nullSafe((()=>t.edit_review));return e&&a.default.call(e),this._bindTo(o(s),"review:created",(()=>{s.location.reload()})),this._bindTo(o(s),"review:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.review)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&(a.eq(1).attr("title",n.text),a.eq(1).text(n.short_text),a.eq(2).text(n.type),a.eq(3).text(n.published?"Да":"Нет"),a.eq(4).text(n.spam?"Да":"Нет"),a.eq(5).text(n.date)),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:review:edit",{review:n.id});new i.default({route:t.uri})}))})),!0}}},58:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Redirects});var r=n(4967),i=n(9755),a=n(6885);class Redirects extends r.default{_init(){return this.$list=i('[data-js="redirects-list"]'),!!this.$list.length}_bind(){return this._bindTo(i(a),"redirect:created",(()=>{a.location.reload()})),this._bindTo(i(a),"redirect:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.redirect));if(n){let t=this.$list.find(`[data-js-id="${n.id}"]`);t.length&&(t.html(""),t.append(i("<td/>").text(n.from)),t.append(i("<td/>").text(n.to)),t.append(i("<td/>").text(n.code)),t.append(i("<td/>").text(n.enabled?"Да":"Нет")))}e.$modal&&e.$modal.length&&e.$modal.close()})),!0}}},1611:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>OfferForService});var r=n(4967),i=n(3330),a=(n(1109),n(9755));class OfferForService extends r.default{_init(){return this.$wrapper=a('[data-js="offer-for-service"]'),!!this.$wrapper.length&&(this.$search=this.$wrapper.find('[data-js="search-input-result"]'),this.$container=this.$wrapper.find('[data-js-offer-for-service="container"]'),this.$select=this.$container.find('[name="custom_fields[offer_for_service]"]'),!0)}_bind(){return this._bindTo(this.$search,"select-result",(()=>{this.getOffers()})),this.getOffers(),!0}getOffers(){let t=parseInt(a.trim(this.$search.val()));if(this.$select.html(""),this.$select.addClass("hidden"),isNaN(t))return!1;let e=this._route("admin:service:offers",{service_id:t});new i.default({url:e.uri,success:t=>{let e=this._nullSafe((()=>t.data.offers));e&&e.length&&(a.each(e,((t,e)=>{let n=a("<option/>",{value:e.id}).html(`${e.name} – ${e.price_string}`),r=this.$container.attr("data-js-offer-for-service-id");r&&e.id==r&&n.attr("selected","selected"),this.$select.append(n)})),this.$select.removeClass("hidden"))}})}}},8588:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Offers});var r=n(4967),i=n(1721),a=n(3064),o=n(9755),s=n(6885);class Offers extends r.default{_init(){return this.$list=o('[data-js="offers-list"]'),!!this.$list.length}_bind(){this._bindTo(o(s),"offer:created",(()=>{s.location.reload()})),this._bindTo(o(s),"offer:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.offer)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:service:offer:edit",{offer:n.id});new i.default({route:t.uri})}))}));let t=this._getHashParams(),e=this._nullSafe((()=>t.edit_offer));return e&&a.default.call(e),!0}}},5903:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Services});var r=n(4967),i=n(1721),a=n(3064),o=n(9755),s=n(6885);class Services extends r.default{_init(){return this.$list=o('[data-js="services-list"]'),!!this.$list.length}_bind(){this._bindTo(o(s),"service:created",(()=>{s.location.reload()})),this._bindTo(o(s),"service:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.service)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:service:edit",{service:n.id});new i.default({route:t.uri})}))}));let t=this._getHashParams(),e=this._nullSafe((()=>t.edit_service));return e&&a.default.call(e),!0}}},9700:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>HtmlSliders});var r=n(4967),i=n(9875),a=n(767),o=n(2637),s=n(3330),l=n(1721),c=n(9755),u=n(6885);class HtmlSliders extends r.default{_init(){return this.$slider_list=c('[data-js="html-sliders-list"]'),new o.default({$wrapper:this.$slider_list,namespace:this.constructor.name}),!!this.$slider_list.length}_bind(){return this._liveBindTo('[data-js="slide-delete"]',"click",(t=>{this.deleteOrRestoreSlide(c(t.target))})),this._liveBindTo('[data-js="slide-restore"]',"click",(t=>{this.deleteOrRestoreSlide(c(t.target))})),this._bindTo(c(u),"modal:opened",((t,e)=>{let n=this._nullSafe((()=>e.$modal));this.initAddSlides(n)})),this._bindTo(c(u),"html_slider:created",((t,e)=>{u.location.reload()})),this._bindTo(c(u),"html_slider:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.html_slider)),r=this._nullSafe((()=>e.$modal)),i=this.$slider_list.find(`[data-js-id="${n.id}"]`).find("td");i.length&&i.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:widget:html-slider:edit",{html_slider:n.id});new l.default({route:t.uri})}))})),this._bindTo(this.$slider_list,"clear:cache",((t,e)=>{let n=c(e.target),r=this._route("admin:html-slider:cache:clear",{html_slider:n.data("js-id")});new s.default({url:r.uri,method:r.method})})),!0}deleteOrRestoreSlide(t){let e=t.closest('[data-js="slide-delete-wrapper"]'),n=e.find("input");return t.is('[data-js="slide-delete"]')?(e.addClass("deleted"),n.val(1),!1):t.is('[data-js="slide-restore"]')?(e.removeClass("deleted"),n.val(0),!1):this}initAddSlides(t){let e=t.find('[data-js="html-sliders__file-input-add"]'),n=t.find("tbody");this._bindTo(e,"click",(()=>{let e=n.find("tr").last(),r=e.clone();r.removeAttr("style");let o=i.default.guid();r.find('[data-js-id="_html-sliders-content-0"]').attr("data-js-id",`_html-sliders-content-${o}`),r.find("#_html-sliders-content-0").attr("id",`_html-sliders-content-${o}`),r.find("fieldset").each(((t,e)=>{let n=i.default.guid(),r=c(e),a=r.find(":regex(for,^_html-sliders-)"),o=r.find(":regex(id,^_html-sliders-)"),s=r.find(".html-sliders-editor"),l=/^_html-sliders-(.+?)-(\d+)$/gi.exec(a.attr("for"));l&&(a.attr("for",`_html-sliders-${l[1]}-${n}"`),o.attr("id",`_html-sliders-${l[1]}-${n}"`),s.attr("data-js-id",`_html-sliders-${l[1]}-${n}"`))})),e.prev().find(":input").each(((t,e)=>{c(e);if(/^child_custom_fields\[/gi.test(e.name)){let t=/^child_custom_fields\[(\d+)\](.+?)$/gi.exec(e.name),n=parseInt(t[1]);r.find(`[name="child_custom_fields[0]${t[2]}"]`).attr("name",`child_custom_fields[${n+1}]${t[2]}`),r.find(`[data-js-name="child_custom_fields[0]${t[2]}"]`).attr("data-js-name",`child_custom_fields[${n+1}]${t[2]}`),r.find('[name="slides[]"]').attr("name",`slides[${n+1}]`),r.find('[name="slide_position[]"]').attr("name",`slide_position[${n+1}]`),r.find('[name="slides_for_delete[]"]').attr("name",`slides_for_delete[${n+1}]`)}})),r.insertBefore(e);let s=r.closest("form").find('[name="template_id"]').find("option:selected").data("cf-field");r.find(`[data-js-custom-field-options="${s}"]`).show(),c(u).trigger("image-preview:update"),c(u).trigger("image-select:init"),c("select[multiple]").chosen({search_contains:!0,no_results_text:"Не найдено соответствий запросу:",placeholder_text_multiple:"Выберите или начните вбивать…"}),new a.default({$scroll_element:t})}))}}},8668:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ImageSliders});var r=n(4967),i=n(2637),a=n(3330),o=n(1721),s=n(9755),l=n(6885);class ImageSliders extends r.default{_init(){return this.$slider_list=s('[data-js="image-sliders-list"]'),new i.default({$wrapper:this.$slider_list,namespace:this.constructor.name}),!!this.$slider_list.length}_bind(){return this._liveBindTo('[data-js="slide-delete"]',"click",(t=>{this.deleteOrRestoreSlide(s(t.target))})),this._liveBindTo('[data-js="slide-restore"]',"click",(t=>{this.deleteOrRestoreSlide(s(t.target))})),this._bindTo(s(l),"modal:opened",((t,e)=>{let n=this._nullSafe((()=>e.$modal));this.initAddSlides(n)})),this._bindTo(s(l),"image_slider:created",((t,e)=>{l.location.reload()})),this._bindTo(s(l),"image_slider:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.image_slider)),r=this._nullSafe((()=>e.$modal)),i=this.$slider_list.find(`[data-js-id="${n.id}"]`).find("td");i.length&&i.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:widget:image-slider:edit",{image_slider:n.id});new o.default({route:t.uri})}))})),this._bindTo(this.$slider_list,"clear:cache",((t,e)=>{let n=s(e.target),r=this._route("admin:image-slider:cache:clear",{image_slider:n.data("js-id")});new a.default({url:r.uri,method:r.method})})),this._bindTo(this.$slider_list,"create:similar",((t,e)=>{let n=s(e.target),r=this._route("admin:image-slider:create:similar",{image_slider:n.data("js-id")});new o.default({route:r.uri})})),!0}deleteOrRestoreSlide(t){let e=t.closest('[data-js="slide-delete-wrapper"]'),n=e.find("input");return t.is('[data-js="slide-delete"]')?(e.addClass("deleted"),n.val(1),!1):t.is('[data-js="slide-restore"]')?(e.removeClass("deleted"),n.val(0),!1):this}initAddSlides(t){let e=t.find('[data-js="image-sliders__file-input-add"]'),n=t.find("tbody");this._bindTo(e,"click",(()=>{let t=n.find("tr").last(),e=t.clone();e.removeAttr("style"),e.insertBefore(t)}))}}},3633:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Taxonomy});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Taxonomy extends r.default{_init(){return this.$list=a('[data-js="tags-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"tag:created",(()=>{o.location.reload()})),this._bindTo(a(o),"tag:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.tag)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.name),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:taxonomy:edit",{tag:n.id});new i.default({route:t.uri})}))})),!0}}},9198:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Templates});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Templates extends r.default{_init(){return this.$list=a('[data-js="templates-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"template:created",(()=>{o.location.reload()})),this._bindTo(a(o),"template:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.template)),r=this._nullSafe((()=>e.$modal)),o=this.$list.find(`[data-js-id="${n.id}"]`);o.length&&(o.html(""),o.append(a("<td/>").text(n.name)),o.append(a("<td/>").text(n.for)),o.append(a("<td/>").text(n.description))),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:template:edit",{template:n.id});new i.default({route:t.uri})}))})),!0}}},9116:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Variables});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Variables extends r.default{_init(){return this.$list=a('[data-js="variables-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"variable:created",(()=>{o.location.reload()})),this._bindTo(a(o),"variable:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.variable)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.key}"]`).find("td");a.length&&(a.attr("title",n.value),a.text(n.description)),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:variable:edit",{variable:n.key});new i.default({route:t.uri})}))})),!0}}},1838:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Works});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Works extends r.default{_init(){return this.$list=a('[data-js="works-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"work:created",(()=>{o.location.reload()})),this._bindTo(a(o),"work:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.work)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.id}"]`).find("td");a.length&&a.text(n.title),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:work:edit",{work:n.id});new i.default({route:t.uri})}))})),!0}}},4967:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Base});var r=n(5547),i=n(6885),a=n(9755),o=n(4771);void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&t.length>1?t[1].trim():""},set:function(t){}});class Base{constructor(t={}){try{i.__log||(i.__log=r.default),this._construct(t)}catch(t){console.error(t)}}_construct(t={}){return this.options=t,this.initialized=this._init(),this.initialized&&(this.binded=this._bind()),this}_init(){return!0}_bind(){return!0}_bindTo(t,e,n){t.each(((t,r)=>{let i=a(r);if(!i.length||!e)return;let o=this._parseEventName(e);i.off(o).on(o,((t,e)=>{a.isFunction(n)&&n(t,e)}))}))}_onTwoFingersTap(t,e){let n="touchstart";t.each(((t,r)=>{let i=a(r);i.length&&i.off(`${n}.${this.constructor.name}`).on(`${n}.${this.constructor.name}`,((t,n)=>{t.touches.length>1&&a.isFunction(e)&&e(t,n)}))}))}_liveBindTo(t,e,n){if(!a.trim(t)||!e)return;let r=this._parseEventName(e);a(o,i).off(r,t).on(r,t,((t,e)=>{a.isFunction(n)&&n(t,e)}))}_putCursorToEndOnFocus(t){if(!t.length)return!1;this._bindTo(t,"focus",(t=>{t.target.value=t.target.value}))}_unbindFrom(t,e){t.each(((t,n)=>{let r=a(n);if(!r.length||!e)return;let i=this._parseEventName(e);r.off(i)}))}_scrollTo(t,e=0,n=null,r=300,i="swing"){if(!t.length)return!1;if(t.is(".scrolled"))return!1;let o;t.addClass("scrolled"),o=parseInt(t.offset().top)-e,a("html, body").animate({scrollTop:o},r,i,(()=>{})).promise().then((()=>{a.isFunction(n)&&n(),t.removeClass("scrolled")}))}_debounce(t,e=150,n=this){let r=null,i=null;const later=()=>t.apply(n,i);return function(){i=arguments,clearTimeout(r),r=setTimeout(later,e)}}_nullSafe(t){let e;try{e=t()}catch(t){}return e}static _nullSafe(t){let e;try{e=t()}catch(t){}return e}_isObject(t){return t instanceof Object}_plural(t,e){return e[t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]}_price(t,e=" ",n=0,r=0,i="."){let a="\\d(?=(\\d{"+(r||3)+"})+"+(n>0?"\\D":"$")+")",o=t.toFixed(Math.max(0,~~n));return(i?o.replace(".",i):o).replace(new RegExp(a,"g"),"$&"+(e||","))}_getHashParams(){let t,e={},n=/\+/g,r=/([^&;=]+)=?([^&;]*)/g,a=i.location.hash.substring(1),d=function(t){return decodeURIComponent(t.replace(n," "))};for(;t=r.exec(a);)e[d(t[1])]=d(t[2]);return e}removeHashParams(){history.pushState("",o.title,i.location.pathname+i.location.search)}_route(...t){let e,n=t.slice(),r=n.shift(),o=this._nullSafe((()=>i.App||i.Admin)).routes;if(void 0!==o[r])return e=a.extend({},o[r]),a.each(n,((t,n)=>{let r=Object.keys(n);a.each(r,((t,r)=>{e.uri=e.uri.replace(`{${r}}`,n[r])}))})),e.uri=location.origin+"/"+e.uri,e}_diffDays(t,e){let n=new Date(t),r=new Date(e).getTime()-n.getTime();return Math.ceil(r/864e5)}_with(t){return t}_parseEventName(t){let e=t.split(" "),n=`${t}.${this.constructor.name}`;return e.length>1&&(n=[],a.each(e,((t,e)=>{n.push(`${e}.${this.constructor.name}`)})),n=n.join(" ")),n}_copyObj(t){return Object.assign({},t)}_objSize(t){let e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}_isTouchDevice(){let t=" -webkit- -moz- -o- -ms- ".split(" ");return!!("ontouchstart"in i||i.DocumentTouch&&o instanceof DocumentTouch)||(t=>i.matchMedia(t).matches)(["(",t.join("touch-enabled),("),"heartz",")"].join(""))}_triggerVanillaEvent(t,e){let n;"function"==typeof Event?n=new Event(e):(n=o.createEvent("Event"),n.initEvent(e,!0,!0)),t.dispatchEvent(n)}_number_format(t,e,n,r){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");let i=isFinite(+t)?+t:0,a=isFinite(+e)?Math.abs(e):0,o=void 0===r?",":r,s=void 0===n?".":n,l="";return l=(a?function(t,e){if(-1===(""+t).indexOf("e"))return+(Math.round(t+"e+"+e)+"e-"+e);var n=(""+t).split("e"),r="";return+n[1]+e>0&&(r="+"),(+(Math.round(+n[0]+"e"+r+(+n[1]+e))+"e-"+e)).toFixed(e)}(i,a).toString():""+Math.round(i)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(l[1]||"").length<a&&(l[1]=l[1]||"",l[1]+=new Array(a-l[1].length+1).join("0")),l.join(s)}_updateQueryStringParameter(t,e){let n=i.location.href,r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==n.indexOf("?")?"&":"?";return n.match(r)?n.replace(r,`$1${t}=${e}$2`):`${n}${a}${t}=${e}`}_ellipsis(t,e=50){return t.length>e?t.substring(0,e)+"…":t}static _importCB(t,e,n){let r=new t.default(e);a.isFunction(n)&&n(r),Base._isAdmin&&console.log(`%c Модуль ⁅ ${t.default.name} ⁆ загружен `,"background-color: #bb7308; color: white; font-size: 12px; padding: 2px;")}_loadModule(t,e={},n){Base._loadModule(t,e,n)}_loadModuleIf(t,e,n={},r){(t=a.isFunction(t)?t():a(t).length)&&this._loadModule(e,n,r)}static _loadModule(t,e={},r){n(4280)(`./${t}.js`).then((t=>Base._importCB(t,e,r))).catch((t=>console.error(t)))}_loadSynergineModule(t,e,n={},r){Base._loadSynergineModule(t,e,n,r)}_loadSynergineModuleIf(t,e,n,r={},i){(t=a.isFunction(t)?t():a(t).length)&&this._loadSynergineModule(e,n,r,i)}static _loadSynergineModule(t,e,r={},i){n(1210)(`./${t}/src/js/${e}.js`).then((t=>Base._importCB(t,r,i))).catch((t=>console.error(t)))}static _isAdmin(){return!!a(".admin-panel").length}}},767:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>AceEditor});var r=n(4967),i=n(9875),a=n(1721),o=n(9755),s=n(4771);class AceEditor extends r.default{_init(){return this.$wrappers=o('[data-js="ace-editor-wrapper"]'),!!this.$wrappers.length&&(this.options.$scroll_element=this.options.$scroll_element||!1,this.initEditor(),!0)}initEditor(){let t=o("[data-js-ace-scripts]");if(t.length){let e=t.data("js-ace-scripts"),n=o("body");o.each(e,(function(t,e){n.append(o("<script/>",{src:e,type:"text/javascript",charset:"utf-8"}))})),t.remove()}this.$wrappers.each(((t,e)=>{let n=o(e),r=n.find('[data-js="ace-editor"]');if(!r.attr("data-ace-initialized")&&r.is(":visible")){let t=n.find('[data-js="ace-editor-panel"]'),e=t.find("[data-js-ace-button]"),a=n.find('textarea[data-js="ace-editor-textarea"]'),l=t.data("js-ace-mode"),c=t.data("js-ace-action-url"),u=i.default.guid();r.attr("id",u),a.hide();let p=new ace.edit(`${u}`);if(this._bindTo(e,"click",(t=>{this.triggerButton(o(t.target),c,p)})),p.setShowPrintMargin(!1),p.setTheme("ace/theme/chrome"),p.session.setMode(l),p.setOptions({enableEmmet:!0,scrollPastEnd:!0}),p.session.setWrapLimitRange(100,180),p.session.setUseWrapMode(!0),p.$blockScrolling=1/0,"ace/mode/json"==l){let t=p.session.getValue();t&&(t=JSON.stringify(JSON.parse(t),null,4),p.session.setValue(t))}p.on("change",(()=>{a.val(p.getValue()),a.trigger("change")}));let getBefore=function(t,e,n){if(!t[e])return!1;let r=t[e].length;if(n<0){if(!t[e-=1])return!1;r=t[e].length,n=r-1}let i=t[e].charAt(n);return/^\s+$/.test(i)||!o.trim(i)?getBefore(t,e,n-1):i},getAfter=function(t,e,n){if(!t[e])return!1;if(n>t[e].length&&(e+=1,n=0),!t[e])return!1;let r=t[e].charAt(n);return/^\s+$/.test(r)||!o.trim(r)?getAfter(t,e,n+1):r};p.getBeforeAndAfterOfCursor=()=>{let t=p.getCursorPosition(),e=p.session.getLines(0,p.session.getLength());return{before:getBefore(e,t.row,t.column-1),after:getAfter(e,t.row,t.column)}},r.append(o("<a/>",{href:"javascript:void(0);",title:"Для переключения Alt+F","data-js":"ace-toggle-fullscreen"}));let m=r.find('[data-js="ace-toggle-fullscreen"]'),_=r.closest(".modal"),toggleFullScreen=()=>{r.toggleClass("fullscreen"),t.toggleClass("fullscreen"),r.is(".fullscreen")?(_.css("overflow-y","hidden"),r.css({"margin-top":Math.round(t.outerHeight())})):(_.css("overflow-y","auto"),r.css({"margin-top":0})),p.resize(),this.options.$scroll_element&&this.options.$scroll_element.scrollTop(0)};this._bindTo(m,"click",toggleFullScreen),this._bindTo(o(s),"keydown keypress",(t=>{if(t.altKey&&("f"===t.key||"а"===t.key||402===t.which||247===t.which))return t.preventDefault(),toggleFullScreen(),!1})),r.attr("data-ace-initialized",!0)}}))}triggerButton(t,e,n){let r=t.data("js-ace-button");new a.default({route:e,data:{action:r},callback:e=>{this.modalOpened(e,t,r,n);let i=e.find('[data-js="ace-button"]');this._bindTo(i,"click",(t=>{let i=o(t.target);this.handleClick(e,r,n,i)}))}})}modalOpened(t,e,n,r){if(!0==("image"===n)){let n=e.data("js-ace-model");t.find('[name="model"]').val(n)}}handleClick(t,e,n,r){switch(!0){case"variable"===e:let i=`v("${o.trim(t.find('[name="variable_key"]').val())||""}")`;this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(i=`{!! ${i} !!}`),n.insert(i),t.close();break;case"link-to-page"===e:let a,s=o.trim(t.find('[name="page_id"]').val()),l=t.find(`[data-search-element-id="${s}"]`),c=o.trim(l.data("search-element-uuid")),u=o.trim(l.data("search-element-h1")).toLowerCase(),p=o.trim(t.find('[name="title"]').val()),m=o.trim(t.find('[name="classes"]').val()).toLowerCase(),_=!!t.find('[name="as_tag"]').prop("checked");if(!c)return!1;if(u=p||u,_){let e=t.find('[name="target_blank"]').prop("checked")?'target="_blank"':"";a=m?`<a href="{{ page_url("${c}") }}" class="${m}" ${e}>${u}</a>`:`<a href="{{ page_url("${c}") }}" ${e}>${u}</a>`}else a=`page_url("${c}")`,this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(a=`{!! ${a} !!}`);n.insert(a),t.close();break;case"image"===e:this._bindTo(t,"form:done",((e,r)=>{let i,a=this._nullSafe((()=>r.notification.data)),s=a.length>1?"\n":"",l=t.find('[name="ace_as"]').val(),c=t.find('[name="ha"]').get(0).checked;c=c?', "ha" => true':"",o.each(a,((t,e)=>{switch(!0){case"as_path"===l:i=`"${e}"`;break;case"as_link"===l:i=`uploads("${e}")`,this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(i=`{!! ${i} !!}`);break;case"as_tag"===l:i=`<img src="{{ uploads("${e}") }}" alt="" />${s}`;break;case"as_pimg"===l:i=`uploads("${e}", ["pimg" => true${c}])`,this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(i=`{!! ${i} !!}`);break;case"as_pimg_bg"===l:i=`uploads("${e}", ["pimgbg" => true${c}])`,this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(i=`{!! ${i} !!}`)}n.insert(i)})),t.close()}));break;case"video"===e:this._bindTo(t,"form:done",((e,r)=>{let i,a=this._nullSafe((()=>r.notification.data)),s=(a.length,t.find('[name="ace_as"]').val());o.each(a,((t,e)=>{switch(!0){case"as_path"===s:console.log(e),i=`"${e}"`;break;case"as_link"===s:i=`uploads("${e}")`,this.checkIfWrapperNeeded(n.getBeforeAndAfterOfCursor())&&(i=`{!! ${i} !!}`)}n.insert(i)})),t.close()}));break;case"preset"===e:let v=r.closest(".page-preset"),b=o.trim(v.find('[data-js="page-preset"]').val())||"";n.insert(b),t.close();break;case"uuid"===e:let S=o.trim(t.find('[name="uuid"]').val())||"";n.insert(S),t.close();break;case"pusher"===e:let w,T=o.trim(t.find('[name="margin_top"]').val())||null,C=o.trim(t.find('[name="margin_bottom"]').val())||null,A=t.find('[name="divider"]').prop("checked");switch(!0){case!!T&&!C:w=A?`@divider(${T})`:`@pusher(${T})`;break;case!!T&&!!C:w=`@divider(${T}, ${C})`;break;case!T&&!C||!!C&&!T:w=A?"@divider":"@pusher"}n.insert(w),t.close()}}checkIfWrapperNeeded(t){return">"!==t.before&&","!==t.after&&","!==t.before&&")"!==t.after&&","!==t.before&&"]"!==t.after}}},1721:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>AdminModal});var r=n(4967),i=n(9875),a=n(767),o=n(4520),s=n(7249),l=n(6467),c=n(1720),u=n(5962),p=n(1611),m=(n(858),n(9755)),_=n(6885);class AdminModal extends r.default{_init(){return this.$modal=null,this.$close=null,this.$overlay=null,this.$form=null,this.options.route=this.options.route||null,this.options.data=this.options.data||{},this.options.callback=this.options.callback||null,this.old_title=m("html").find("title").text(),!0}_bind(){this._bindTo(m("body"),"keydown",((t,e)=>{let n=m(".modal.animation_open");if(!n.length)return!1;n.length>1&&(n=n.last());let r=n.find("form");if(t.ctrlKey&&("q"===t.key||"й"===t.key)||"Escape"===t.key){t.preventDefault();let e=n.find('[data-js="ace-editor"]');if(e.length&&e.is(".fullscreen")){let t=e.filter(".fullscreen");t.find('[data-js="ace-toggle-fullscreen"]').trigger("click");let n=parseInt(t.offset().top)-80;return m(".modal").animate({scrollTop:n},0),!1}return this.close(n),!1}return r.length&&t.ctrlKey&&("s"===t.key||"ы"===t.key)?(t.preventDefault(),r.submit(),!1):void 0}));let t=new s.default;return m.ajax({url:this.options.route,data:this.options.data,success:(t,e,n)=>{let r=this._nullSafe((()=>t.view)),s=this._nullSafe((()=>t.notification));if(s&&new o.default(s),r){let t=m(r),e=i.default.guid(),n=m("html"),o=m("body");t.attr("id",e),o.append(t),this.$modal=m(`#${e}`),this.$close=this.$modal.find(".modal__close"),this.$overlay=this.$modal.find(".modal__overlay");let s=m.trim(this.$modal.find(".modal__title").text());if(n.find("title").text(s),this.$modal.addClass("animation_open"),this._bindTo(this.$overlay,"click",(()=>this.close(this.$modal))),this._bindTo(this.$close,"click",(()=>this.close(this.$modal))),this.$modal.close=(t,e)=>this.close(t||this.$modal,e),n.css({"overflow-y":"hidden"}),this.$form=this.$modal.find("form"),this.$form.length){new u.default,new l.default,new c.default,new p.default,m(_).trigger("modal:with-form:appended",{$modal:this.$modal}),this._bindTo(this.$form.find(":input"),"change",(()=>{m(_).trigger("modal:form:changed",{$modal:this.$modal})})),m("select[multiple]").chosen({search_contains:!0,no_results_text:"Не найдено соответствий запросу:",placeholder_text_multiple:"Выберите или начните вбивать…"}),this._bindTo(this.$form,"form:done",((t,e)=>{this.$form.is("[data-js-fire]")&&m(_).trigger(this.$form.data("js-fire"),{response:e,$modal:this.$modal,event:t})})),new a.default({$scroll_element:this.$modal});let t={};this.$form.find(":input").each(((e,n)=>{let r=m(n).attr("name");/^custom_fields\[/.test(r)&&(t[r]?t[r]+=1:t[r]=1)}))}m(_).trigger("modal:opened",{$modal:this.$modal})}m.isFunction(this.options.callback)&&this.options.callback(this.$modal)},error:(t,e,n)=>{let r=this._nullSafe((()=>t.responseJSON.notification));if(r){new o.default(r);let e=this._nullSafe((()=>t.responseJSON.notification.data.trace));this._nullSafe((()=>t.responseJSON.notification.data.full_error));e&&console.table(e)}m.isFunction(this.options.callback)&&this.options.callback(this.$modal)},complete:(e,n)=>{t.remove()}}),!0}close(t,e){let n=m("html");t.removeClass("animation_open").addClass("animation_close"),n.find("title").text(this.old_title),setTimeout((()=>{t.remove(),m(".modal").length||n.css({"overflow-y":"auto"}),this.removeHashParams(),m.isFunction(e)&&e()}),200)}}},3064:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>AjaxLinks});var r=n(4967),i=n(1721),a=n(7249),o=n(9755);class AjaxLinks extends r.default{_init(){return this.ajax_links='[data-js="ajax-link"]',!0}_bind(){return this._liveBindTo(this.ajax_links,"click",(t=>{t.preventDefault();let e=o(t.currentTarget);e.prop("disabled",!0);let n=e.attr("href")?e.attr("href"):e.data("js-href"),r=new a.default;return new i.default({route:n,callback:()=>{e.prop("disabled",!1),r.remove()}}),!1})),!0}static call(t,e=null){return!!o.trim(t)&&(new i.default({route:t,callback:()=>{o.isFunction(e)&&e()}}),!0)}}},683:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>AjaxUpload});var r=n(4967),i=n(4520),a=n(7249),o=n(9755),s=n(6885);class AjaxUpload extends r.default{_init(){return this.$form=null,this.$fields=null,this.$submit=null,this.options.animation_class=this.options.animation_class||"a_shake",this.options.error_class=this.options.error_class||"form__error",this.options.speed=this.options.speed||700,this.options.success=this.options.success||this.success,this.options.error=this.options.error||this.error,this.options.complete=this.options.complete||this.complete,this.options.show_notifications=!1!==this.options.show_notifications,!0}_bind(){return this._liveBindTo("form","submit",(t=>{if(t.stopPropagation(),t.preventDefault(),this.$form=o(t.target).closest("form"),this.$fields=this.$form.find(":input"),this.$submit=this.$form.find('[type="submit"]'),!this.$form.is("[data-js-ajax-upload]"))return!1;if(this.$form.find(".form__require-error").length)return!1;let e=new FormData;this.$fields.each(((t,n)=>{let r=o(n);if(r.closest("tr").length&&!r.closest("tr").is(":visible"))return!0;if(/^custom_fields\[/gi.test(n.name)||/^child_custom_fields\[/gi.test(n.name)){let t=r.closest("[data-js-custom-field-options]");if(t.length&&!t.is(":visible"))return!0}if(n.files)o.each(n.files,((t,r)=>{e.append(n.name,r)}));else if(n.type&&"checkbox"===n.type)e.append(n.name,n.checked?"bool::true":"bool::false");else if(/\[]$/.test(n.name)&&n.options)if(r.is("select[multiple]")){let t=r.next(".chosen-container");if(t.length){let i=t.find(".search-choice a");i.length?i.each(((t,i)=>{let a=r.find(`option:eq(${o(i).data("option-array-index")})`);e.append(n.name,a.val())})):e.append(n.name,null)}}else{let t=this.getSelectValues(n);o.each(t,((t,r)=>{e.append(n.name,r)}))}else e.append(n.name,n.value)})),this.disableButton();let n=new a.default;return this.$form.find(".form__error").remove(),o.ajax({url:this.$form.attr("action"),type:this.$form.attr("method"),data:e,cache:!1,dataType:"json",processData:!1,contentType:!1,beforeSend:(t,e)=>{"post"===e.type.toLowerCase()&&o.ajax({url:this._route("app:refresh-csrf").uri,type:"GET",dataType:"json",async:!1,success:t=>{let n=this._nullSafe((()=>t.token));o('meta[name="token"]').attr("content",n),o('input[name="_token"]').val(n),e.data.set("_token",n)}})},success:(t,e,n)=>{let r=this._nullSafe((()=>t.notification));r&&this.options.show_notifications&&new i.default(r);let a=this._nullSafe((()=>t.redirect_url));a&&(s.location.href=a),this.$form.trigger("form:done",t),this.options.success(t,e,n,this),this.enableButton()},error:(t,e,n)=>{let r=this._nullSafe((()=>t.responseJSON.form_errors));r&&this.formErrors(r),this.enableButton();let a=this._nullSafe((()=>t.responseJSON.notification));if(a){new i.default(a);let e=this._nullSafe((()=>t.responseJSON.notification.data.trace));this._nullSafe((()=>t.responseJSON.notification.data.full_error));e&&console.table(e)}this.options.error(t,e,this)},complete:(t,e)=>{n.remove(),this.options.complete(t,e,this)}}),!1})),!0}disableButton(){this.$submit&&this.$submit.prop("disabled",!0)}enableButton(){this.$submit&&this.$submit.prop("disabled",!1)}success(t,e,n,r){return r.options.$form&&r.options.$form.get(0).reset(),this}error(t,e,n,r){return this}complete(t,e,n){return this}formErrors(t){return this.$form?(o.each(t,((t,e)=>{o.isArray(e)&&(e=e.join(", ")),t.match(/\.(\d+)$/)&&(t=t.replace(/\.\d+$/,""));let n=this.$form.find(`[name="${t}[]"]`),r=n.length?n:this.$form.find(`input[name="${t}"], textarea[name="${t}"]`),i=r.get(0);if(r.prev().is('[data-js="ace-editor"]')){let t=r.prev();t.next().is(`.${this.options.error_class}`)||(o("<div/>",{class:this.options.error_class}).html(e).insertAfter(t),this._bindTo(r,"change",(t=>{let e=o(t.target).prev();e.is(`.${this.options.error_class}`)&&e.remove()})))}else if(n.length){let t=r.next();t.next().is(`.${this.options.error_class}`)||(o("<div/>",{class:this.options.error_class}).html(e).insertAfter(t),this._bindTo(r,"change",(t=>{let e=o(t.target).next();e.next().is(`.${this.options.error_class}`)&&e.next().remove()}))),this.options.animation_class&&(t.addClass(`${this.options.animation_class}`),setTimeout((()=>{o(i).next().removeClass(this.options.animation_class)}),this.options.speed))}else if(!r.next().is(`.${this.options.error_class}`)){let t=r.is("textarea")?"form__error_textarea":"";o("<div/>",{class:`${this.options.error_class} ${t}`}).html(e).insertAfter(r),this._bindTo(r,"change",(t=>{let e=o(t.target).next();e.is(`.${this.options.error_class}`)&&e.remove()}))}this.options.animation_class&&(r.addClass(`${this.options.animation_class}`),setTimeout((()=>{o(i).removeClass(this.options.animation_class)}),this.options.speed))})),this):this}getSelectValues(t){let e,n=[],r=t&&t.options;if(r)for(let t=0,i=r.length;t<i;t++)e=r[t],e.selected&&n.push(e.value||e.text);return n}}},2637:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ContextMenu});var r=n(4967),i=n(9755),a=n(4771),o=n(6885);class ContextMenu extends r.default{_init(){return!(!this.options.$wrapper||!this.options.$wrapper.length)&&(this.options.namespace=this.options.namespace||null,this.$menu=this.options.$wrapper.find('[data-js="context-menu"]'),!!this.$menu.length&&(this.menu_open_selector="context-menu_active",this.task_item_selector='[data-js-context-menu="item"]',this.link_selector='[data-js-context-menu="link"]',this.$item_in_context=null,this.$link_in_context=null,this.menu_state=0,!0))}_bind(){return this.contextListener(),this.clickListener(),this.keyupListener(),this.resizeListener(),!0}contextListener(){let callback=t=>{this.$item_in_context=this.clickInsideElement(t,this.task_item_selector),this.$item_in_context?(t.preventDefault(),this.toggleMenuOn(),this.positionMenu(t)):(this.$item_in_context=null,this.toggleMenuOff())};this._bindTo(i(a),"contextmenu",callback),this._onTwoFingersTap(i(a),callback)}clickListener(){this._bindTo(i(a),"click",(t=>{if(this.$link_in_context=this.clickInsideElement(t,this.link_selector),this.$link_in_context)t.preventDefault(),this.menuItemListener();else{1===(t.which||t.button)&&this.toggleMenuOff()}}))}menuItemListener(){let t=this.options.namespace?`.${this.options.namespace}`:"";this.options.$wrapper.trigger(`${this.$link_in_context.attr("data-js-action")}${t}`,{target:this.$item_in_context}),this.toggleMenuOff()}keyupListener(){this._bindTo(i(o),"keyup",(t=>{27===t.keyCode&&this.toggleMenuOff()}))}resizeListener(){this._bindTo(i(o),"resize",(t=>{this.toggleMenuOff()}))}toggleMenuOn(){i("[data-context-menu-target]").each(((t,e)=>{i(e).removeAttr("data-context-menu-target")})),this.$item_in_context.attr("data-context-menu-target",!0),1!==this.menu_state&&(this.menu_state=1,this.$menu.addClass(this.menu_open_selector))}toggleMenuOff(){this.$item_in_context&&this.$item_in_context.removeAttr("data-context-menu-target"),0!==this.menu_state&&(this.menu_state=0,this.$menu.removeClass(this.menu_open_selector))}positionMenu(t){let e=this.getPosition(t),n=e.x,r=e.y,i=this.$menu.get(0).offsetWidth+4,a=o.innerWidth;a-n<i?this.$menu.css({left:a-i}):this.$menu.css({left:n}),this.$menu.css({top:r})}clickInsideElement(t,e){let n=i(t.target);if(n.is(e))return n;let r=n.closest(e);return!!r.length&&r}getPosition(t=o.event){let e,n;return t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+a.body.scrollLeft+a.documentElement.scrollLeft,n=t.clientY+a.body.scrollTop+a.documentElement.scrollTop),{x:e,y:n}}}},3166:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ImagePreview});var r=n(4967),i=n(4520),a=n(9755),o=n(6885);class ImagePreview extends r.default{_bind(){return this._liveBindTo('[data-js="image-preview"]',"change",(t=>{this.readURL(t.currentTarget)})),this._bindTo(a(o),"modal:opened",(()=>{this.updatePickSizes()})),this._bindTo(a(o),"image-preview:update",(()=>{this.updatePickSizes()})),!0}readURL(t){let e,n=a(t),r=n.closest(".image-placeholder");if(r.length||(r=n.next(".image-placeholder")),e=r.find("video").length>0?r.find("video"):r.find("img"),t.files&&t.files[0]){let r=new FileReader,a=t.files[0].type;if("image/jpg"!==a&&"image/jpeg"!==a&&"image/png"!==a&&"image/bmp"!==a&&"image/svg+xml"!==a&&"image/webp"!==a&&"video/mp4"!==a&&"video/x-m4v"!==a)return t.value="",new i.default({type:"info",text:"Разрешён только .jpg, .png, .bmp, .svg .webp и .mp4 формат"}),!1;r.onload=t=>{this._bindTo(e,"load",(()=>{n.css({width:e.width(),height:e.height()})})),e.attr("src",t.target.result)},r.readAsDataURL(t.files[0])}}updatePickSizes(){a(".image-placeholder").each(((t,e)=>{let n,r=a(e),i=r.find('input[type="file"]');n=r.find("video").length>0?r.find("video"):r.find("img"),this.updateSizes(i,n),this._bindTo(n,"load",(()=>{this.updateSizes(i,n)}))}))}updateSizes(t,e){setTimeout((()=>{t.css({width:e.width(),height:e.height()})}),500)}}},7249:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Loader});var r=n(4967),i=n(9755);class Loader extends r.default{_init(){return this.$loader=i('[data-js="ajax-loader"]'),this.$loader.length||(this.$loader=this.create()),!0}create(){let t=i("<div/>",{class:"ajax-loader","data-js":"ajax-loader"}),e=i("<div/>",{class:"ajax-loader__wrapper"}),n=i("<div/>",{class:"ajax-loader__dots"}),r=i("<div/>",{class:"ajax-loader__roller"}),a=i("body");return t.append(e),n.append(r),n.append(r.clone()),e.append(n),e.append(n.clone()),e.append(n.clone()),a.append(t),t.addClass("opened"),a.addClass("blurred"),i('[data-js="ajax-loader"]')}remove(){i("body").removeClass("blurred"),this.$loader.remove()}}},4520:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Notification});var r=n(4967),i=n(9755),a=n(6885);class Notification extends r.default{_init(){let t=i("body");return this.options.type=this.options.type||"notification_info",this.options.text=this.options.text||null,this.options.timeout=this.options.timeout||1e4,this.$wrapper=t.find(".notifications"),this.$wrapper.length||(t.append(i("<div/>",{class:"notifications"})),this.$wrapper=t.find(".notifications")),this.setUpTemplate()}_bind(){return!!this.initialized&&(this._bindTo(this.$template.find(".notification__close"),"click",(()=>{this.close(!0)})),setTimeout((()=>{this.close(!0)}),this.options.timeout),!0)}setUpTemplate(){if(this.$wrapper.find(`#notification-${this.getId()}`).length)return this.playSound(),!1;let t=i("<div/>",{class:"notification__close"}),e=i("<div/>",{class:"notification__text"}).html(this.options.text);this.$template=i("<div/>",{class:`notification notification_${this.options.type}`}),this.$template.append(t),this.$template.append(e);let n=this.$wrapper.find(".notification");return n.length>=3&&n.first().get(0).close(),this.$template.attr("id",`notification-${this.getId()}`),this.$wrapper.append(this.$template),this.$template.get(0).close=this.close.bind(this),setTimeout((()=>{this.$template.addClass("notification_show"),this.playSound()}),50),!0}playSound(){try{let t=new Audio(`/sounds/${this.options.type}.mp3`),e=a.__storage.get("notification-volume",30);t.volume=e/100;let n=t.play();void 0!==n&&n.then((()=>{})).catch((t=>{}))}catch(t){a.__log.error(t)}}close(t=!1){t?this.$template.removeClass("notification_show"):setTimeout((()=>{this.$template.removeClass("notification_show")}),200),setTimeout((()=>{this.$template.remove()}),400)}getId(){let t,e,n,r=this.options.text,i=0;if(0===r.length)return i;for(t=0,n=r.length;t<n;t++)e=r.charCodeAt(t),i=e+(i<<6)+(i<<16)-i;return i}}},7757:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>SearchInput});var r=n(4967),i=n(3330),a=n(9755),o=n(6885);class SearchInput extends r.default{_init(){return this.selector='[data-js="search-input"]',this.selector_input_result='[data-js="search-input-result"]',this.selector_set_model='[data-js-search-input="set-model"]',this.selector_result="search-input__result",!0}_bind(){return this._liveBindTo(this.selector_set_model,"change",(t=>{let e=a(t.target),n=e.find("option:selected"),r=e.closest('[data-js-search-input-set-model="wrapper"]'),i=n.data("js-search-input-field"),o=e.val(),s=this._route("admin:search-input",{model:o,field:i}),l=r.find("[data-js-search-input-url]");"null"===o?l.closest("fieldset").hide():l.closest("fieldset").show(),l.data("js-search-input-url",s.uri)})),this._liveBindTo(this.selector,"focus",(t=>{this.getResult(t).show();let e=a(t.target),n=e.closest(".search-input"),r=n.find(`.${this.selector_result}`),i=r.find("[data-search-element]"),s=n.find(this.selector_input_result),l=r.find(".search-input__placeholder");this._bindTo(a(o),"search-input:single-item",((t,n)=>{let r=this._nullSafe((()=>n.$result_wrapper)),i=this._nullSafe((()=>n.text)),o=this._nullSafe((()=>n.id)),l=a.trim(e.val());if(i&&o&&l&&i===l){r.find(`[data-search-element-id="${o}"]`).length&&s.val(o)}})),this._bindTo(e,"keypress",(t=>{if(13===t.keyCode)return t.preventDefault(),this.selectResult(i.filter(".active"),e,s,r),!1})),this._bindTo(e,"change",(t=>{a.trim(e.val())||s.trigger("select-result")})),this._bindTo(e,"keydown",(t=>{9===t.keyCode&&r.hide()})),this._bindTo(e,"keyup",this._debounce((t=>{let n=a(t.target),o=n.val();return 13!==t.keyCode&&(a.trim(o)||s.val(""),i=r.find("[data-search-element]"),this.navigate(t,i)?(t.preventDefault(),!1):(o.length||(r.find("[data-search-element]").remove(),l.text("Введите текст для поиска").show()),!(!a.trim(o)||o.length<3)&&(this.url=n.data("js-search-input-url"),void this.search(o,l,r,e))))})))})),this._liveBindTo(`.${this.selector_result} li`,"click",(t=>{let e=a(t.currentTarget),n=e.closest(".search-input"),r=n.find("> input:first-child"),i=n.find(`.${this.selector_result}`),o=n.find(this.selector_input_result);return!(!i||!i.length)&&(!e.is(".search-input__placeholder")&&void this.selectResult(e,r,o,i))})),this._liveBindTo("body","click",(t=>{let e=a(t.target);if(e.closest(".search-input__result").length||e.is(this.selector)){if(e.is(this.selector)){let t=e.closest(".search-input").find(".search-input__result");a(`.${this.selector_result}`).hide(),t.show()}}else a(`.${this.selector_result}`).hide()})),!0}getResult(t){let e,n=a(t.target).closest(".search-input");return n.find(`.${this.selector_result}`).length?e=n.find(`.${this.selector_result}`):(n.append(a("<ul/>",{class:this.selector_result})),e=n.find(`.${this.selector_result}`),e.append(a("<li/>",{class:"search-input__placeholder"}).text("Введите текст для поиска"))),e}selectResult(t,e,n,r){if(!t.length){let e=r.find("li[data-search-element-id]");1===e.length&&(t=e)}e.val(t.text());let i=n.data("js-search-input-result-key");i=i||"id",n.val(t.data(`search-element-${i}`)),e.trigger("select-result"),n.trigger("select-result"),t.trigger("select-result"),r.hide(),this.openEditResourceWindow(r,e,n)}search(t,e,n,r){e.text("Поиск…").show();let s,l,c=e.closest(".modal");return c.length&&(l=c.find('[data-js="ace-button"]')),this.url.match(/Synergine:Page:Models:Page/gi)?n.closest(".search-input").addClass("search-input_page-search"):n.closest(".search-input").removeClass("search-input_page-search"),new i.default({url:this.url,data:{query:t},error_class:"form__error_admin",success:r=>{let i=this._nullSafe((()=>r.data.list));n.find("[data-search-element]").remove(),i.length?(e.hide(),i.forEach((e=>{let r=this._nullSafe((()=>e._text)),s=this._nullSafe((()=>e._id));if(r){r=a("<span/>").html(r).html();let i=r.replace(new RegExp(`(${t})`,"gi"),'<span class="hl">$1</span>'),o={"data-search-element":!0};a.each(e,((t,e)=>{"_text"!==t&&"_id"!==t&&(o[`data-search-element-${t}`]=e,o["data-search-element-id"]=s)})),n.append(a("<li/>",o).html(i))}1===i.length&&a(o).trigger("search-input:single-item",{$result_wrapper:n,text:r,id:s})})),s=n.find("[data-search-element]"),this.enableButton(l)):(e.text("Ничего не найдено").show(),this.disableButton(l)),n.show()},complete:(t,e)=>{}}),s}navigate(t,e){let n=t.keyCode;if(40!==n&&38!==n)return!1;let r,i=e.filter(".active");return e.removeClass("active"),40===n?r=!i.length||i.is(":last-child")?e.eq(0):i.next():38===n&&(!i.length||i.is(":first-child")?r=e.last():(r=i.prev(),r.is(".search-input__placeholder")&&(r=e.last()))),r.addClass("active"),!0}enableButton(t){t&&t.length&&t.prop("disabled",!1)}disableButton(t){t&&t.length&&t.prop("disabled",!0)}openEditResourceWindow(t,e,n){let r=e.data("js-search-input-edit-route"),i=e.data("js-search-input-edit-field");if(r&&i){let a=n.val(),o={},s=t.closest(".search-input").find('[data-js="ajax-link"]');o[i]=a;let l=this._route(r,o);s.attr("href",l.uri),"javascript:void(0);"!==s.attr("href")&&(s.trigger("click"),s.attr("href","javascript:void(0);"),e.val(""),n.val(""))}}}},5962:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>SelectDate});var r=n(4967),i=n(4319),a=n.n(i),o=n(9755);class SelectDate extends r.default{_init(){if(this.$pickers=o('[data-js="pikaday"]'),!this.$pickers.length)return!1;this.pickers=[],this.is_range=this.$pickers.closest('[data-js-pikaday="range"]').length;return this.options=Object.assign({format:"DD.MM.YYYY",theme:"synergy-theme",yearRange:[2010,2025],firstDay:1,i18n:{previousMonth:"<",nextMonth:">",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]}},this.options),!0}_bind(){return this.$pickers.filter(":not(.pika-initialized)").each(((t,e)=>{let n=o(e),r=Object.assign({field:e},this.options);this.is_range&&0===t&&(r.onSelect=t=>{this._diffDays(t,this.pickers[1].getDate())<0&&this.pickers[1].setDate(t),this.pickers[1].setMinDate(t)});let i=new(a())(r);this.pickers.push(i),n.addClass("pika-initialized")})),!0}}},7864:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Tree});var r=n(4967),i=n(3330),a=n(1721),o=n(6885),s=n(9755);class Tree extends r.default{_init(){return!(!this.options.$tree||!this.options.data_js_item)&&(this.coloringList(),!0)}addPageToLsTree(t,e){let n=o.__storage.get(t,[]);n.includes(e)||(e=[e],n=n.concat(e),o.__storage.set(t,n))}removePageFromLsTree(t,e){let n=o.__storage.get(t,[]);if(n.includes(e)){let r=n.indexOf(e);!1!==r&&n.splice(r,1),o.__storage.set(t,n)}}getDescendants(t,e="trash"){let n=t.data("js-id"),r=t.data("js-descendants-url"),a=s(`[data-js-sub-for="${n}"]`);return!t.is(".in-progress")&&(t.is(".opened")?(a.html(""),t.removeClass("opened"),this.coloringList(),this.removePageFromLsTree(`${e}-tree`,n),!1):(a.html(""),t.addClass("opened"),t.addClass("in-progress"),this.addPageToLsTree(`${e}-tree`,n),void new i.default({url:r,success:r=>{let i=this._nullSafe((()=>r.data.tree));if(i){let e=a.length?a:this.getUlTpl(n);s.each(i,((t,n)=>{this.options.$tree.find(`[data-js-id=${n.id}]`).remove();let r="";!1===this._nullSafe((()=>n.published))&&(r="off"),e.append(this.getLiTpl(n,r))})),e.insertAfter(t),this.coloringList(),t.addClass("tree__item_with-descendants opened")}else this.removePageFromLsTree(`${e}-tree`,n),t.removeClass("tree__item_with-descendants opened");setTimeout((()=>{t.removeClass("in-progress")}),600)}})))}addDescendant(t,e){let n=t.data("js-id");new a.default({route:e,data:{parent_id:n},callback:e=>{this._bindTo(e,"form:done",(()=>{t.addClass("tree__item_with-descendants"),this.getDescendants(t)}))}})}addRoot(t,e="a"){let n,r,i=this.options.$tree.find(" > li"),a="";!1===this._nullSafe((()=>t.published))&&(a="off");let o=this.getLiTpl(t,a);i.each(((t,i)=>{if(r)return!0;let a=s(i),o=s.trim(a.text()).toLowerCase(),l=s.trim(e).toLowerCase();(Number.isInteger(o)||o>l)&&(n=a,r=!0)})),n?o.insertBefore(n):this.options.$tree.append(o),this.coloringList()}getUlTpl(t){return s("<ul/>",{class:"tree__sub","data-js-sub-for":t})}getLiTpl(t,e=""){let n=s("<li/>",{"data-js-context-menu":"item","data-js":this.options.data_js_item,"data-js-id":t.id,"data-js-page-descendants":t.descendants_count,"data-js-edit-url":t.edit_url,"data-js-descendants-url":t.descendants_url}),r=t.name||t.h1;return n.html(s("<span/>").html(r).text()),n.prepend(s("<div/>",{class:"tree__pusher"})),t.descendants_count&&n.addClass("tree__item_with-descendants"),e&&n.addClass(e),n}coloringList(){this.options.$tree.find("li").each(((t,e)=>{let n=s(e),r=n.position().left,i=n.find(".tree__pusher");r?i.length?i.css({width:r,left:-r}):n.prepend(s("<div/>",{class:"tree__pusher"}).css({width:r,left:-r})):i.length&&i.css({width:0,left:0}),t%2==0?s(e).removeClass("odd even").addClass("odd"):s(e).removeClass("odd even").addClass("even")}))}}},4419:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>AjaxForms});var r=n(4967),i=n(3330),a=n(5392),o=n(1109),s=n(9755);class AjaxForms extends r.default{_init(){return this.button_text=this.options.button_text||"Отправка…",this.$block=this.options.$block||null,this.$block?this.$forms=this.$block.find('[data-js="ajax-form"]'):this.$forms=s('[data-js="ajax-form"]'),!!this.$forms.length}_bind(){let t,e,n,r,l,c;return this.$forms.each(((u,p)=>{t=s(p),new a.default({$block:s(p)}),this._bindTo(t,"submit",(t=>{t.preventDefault(),e=s(t.target),n=e.find(":input"),r=e.find('[type="submit"]'),c=s.trim(r.text()),e.find(".form__error").remove(),l=r.data("ajax-form-button-text")?r.data("ajax-form-button-text"):this.button_text,this.setButtonText(r,l),r.prop("disabled",!0);let a=e.data("js-ajax-form-not-reset"),u=new FormData;return n.each(((t,e)=>{if(e.files)s.each(e.files,((t,n)=>{u.append(e.name,n)}));else if(e.type&&"checkbox"===e.type)u.append(e.name,e.checked?"bool::true":"bool::false");else if(/\[]$/.test(e.name)&&e.options){let t=this.getSelectValues(e);s.each(t,((t,n)=>{u.append(e.name,n)}))}else u.append(e.name,e.value)})),new i.default({$form:e,data:u,cache:!1,processData:!1,contentType:!1,success:t=>{a||(e.get(0).reset(),e.find(":input").trigger("blur"),e.find("textarea").trigger("change"));let n=e.closest(".modal"),r=this._nullSafe((()=>t.view));n.length&&!r&&n.magnificPopup("close"),r&&new o.default({$target:s(r)})},complete:(t,n)=>{this.setButtonText(r,c),e.trigger("form:complete",t,n)}}),!1}))})),!0}setButtonText(t,e){let n=t.find("span");n.length?n.text(e):t.text(e)}getSelectValues(t){let e,n=[],r=t&&t.options;if(r)for(let t=0,i=r.length;t<i;t++)e=r[t],e.selected&&n.push(e.value||e.text);return n}}},3330:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Ajax});var r=n(4967),i=n(4520),a=n(9755),o=n(6885);class Ajax extends r.default{_init(){return this.$form=this.options.$form||null,this.$form?(this.url=this.options.url||this.$form.attr("action")||null,this.type=this.options.type||this.$form.attr("method")||"GET",this.data=this.options.data||this.$form.serialize()||{},this.$submit=this.options.$button||this.$form.find('[type="submit"]')):(this.url=this.options.url||null,this.type=this.options.type||this.options.method||"GET",this.data=this.options.data||{},this.$submit=this.options.$button||null),this.data_type=this.options.data_type||"json",this.animation_class=this.options.animation_class||"a_shake",this.error_class=this.options.error_class||"form__error",this.speed=this.options.speed||700,this.cache=void 0===this.options.cache||this.options.cache,this.processData=void 0===this.options.processData||this.options.processData,this.contentType=void 0!==this.options.contentType?this.options.contentType:"application/x-www-form-urlencoded; charset=UTF-8",this.custom_success=this.options.success||this.success,this.custom_error=this.options.error||this.error,this.custom_complete=this.options.complete||this.complete,this.show_notifications=!1!==this.options.show_notifications,!0}_bind(){return this.disableButton(),a.ajax({url:this.url,type:this.type,data:this.data,dataType:this.data_type,cache:this.cache,processData:this.processData,contentType:this.contentType,beforeSend:(t,e)=>{"post"===e.type.toLowerCase()&&a.ajax({url:this._route("app:refresh-csrf").uri,type:"GET",dataType:"json",async:!1,success:t=>{let n=this._nullSafe((()=>t.token));a('meta[name="token"]').attr("content",n),a('input[name="_token"]').val(n),this.data instanceof FormData?e.data.set("_token",n):e.data+="&"+a.param({_token:n})}})},success:(t,e,n)=>{this.$form&&this.$form.length&&this.$form.trigger("form:done",t);let r=this._nullSafe((()=>t.redirect_url));if(r)return o.location.replace(r),!1;if(this.show_notifications){let e=this._nullSafe((()=>t.notification));e&&new i.default(e)}let s=this._nullSafe((()=>t.view));s&&a(o).trigger("ajax:view",a(s));let l=this._nullSafe((()=>t.form_errors));l&&this.formErrors(l),this.custom_success(t,e,n,this),this.enableButton()},error:(t,e,n)=>{this.custom_error(t,e,n,this);let r=this._nullSafe((()=>t.responseJSON.form_errors));r&&this.formErrors(r),this.enableButton()},complete:(t,e)=>{this.enableButton(),this.custom_complete(t,e,this)}}),!0}success(t,e,n,r){return r.options.$form&&r.options.$form.get(0).reset(),this}error(t,e,n,r){return this}complete(t,e,n){return this}formErrors(t){return this.$form?(a.each(t,((t,e)=>{a.isArray(e)&&(e=e.join(", ")),t.match(/\.(\d+)$/)&&(t=t.replace(/\.\d+$/,""));let n=this.$form.find(`[name="${t}[]"]`),r=n.length?n:this.$form.find(`input[name="${t}"], textarea[name="${t}"]`),i=r.get(0);if(r.prev().is('[data-js="ace-editor"]')){let t=r.prev();a("<div/>",{class:this.error_class}).html(e).insertAfter(t),this._bindTo(r,"change",(t=>{let e=a(t.target).prev();e.is(`.${this.error_class}`)&&e.remove()}))}else r.next().is(`.${this.error_class}`)||(a("<div/>",{class:this.error_class}).html(e).insertAfter(r),this._bindTo(r,"keyup",(t=>{if(13===t.which)return!1;let e=a(t.target).next();e.is(`.${this.error_class}`)&&e.remove()})));this.animation_class&&(r.addClass(`${this.animation_class}`),setTimeout((()=>{a(i).removeClass(this.animation_class)}),this.speed))})),this.$form.trigger("form:error",t),this):this}disableButton(){this.$submit&&this.$submit.prop("disabled",!0)}enableButton(){this.$submit&&this.$submit.prop("disabled",!1)}}},5392:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Inputs});var i=n(4967),a=n(9755),o=n(6885),s=n(4771),l=n(9755);class Inputs extends i.default{_init(){return this.$block=this.options.$block||null,this.$block?this.$inputs=this.$block.find(":input"):this.$inputs=a(":input"),!!this.$inputs.length}_bind(){this.afterGrowPluginInit(),this.$inputs.each(((t,e)=>{let n=a(e);this._bindTo(a(o),"load",(()=>{n.each(((t,e)=>{let n=a(e),r=n.closest(".input__wrapper");a.trim(n.val())&&r.addClass("focused")}))})),this._bindTo(n,"focus",(t=>{a(t.target).closest(".input__wrapper").addClass("focused")})),this._bindTo(n,"blur",(t=>{let e=a(t.target),n=e.closest(".input__wrapper");a.trim(e.val())||n.removeClass("focused")}))})),this.$inputs.filter("textarea").css({overflow:"hidden"}).autoGrow()}afterGrowPluginInit(){!function(t){t.fn.autoGrow=function(e){return this.filter("textarea").each((function(){let n=this,i=t(n),a=i.height(),l=t.extend({preGrowCallback:null,postGrowCallback:null},e),c=t("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:i.width(),fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),lineHeight:i.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(s.body),update=function(t){let e=n.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&#xa0;").replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(t){return function(t,e){for(let n=0,r="";n<e;n++)r+=t;return r}("&#xa0;",t.length-1)+" "}));t&&t.data&&"keydown"===t.data.event&&13===t.keyCode&&(e+="<br />"),c.css("width",i.width()),c.html(e+"...");let o=Math.max(c.height()+0,a);null!==l.preGrowCallback&&(o=l.preGrowCallback(i,c,o,a)),i.height(o),null!==l.postGrowCallback&&l.postGrowCallback(i)};i.change(update).keyup(update).keydown({event:"keydown"},update),t(o).resize(update),update()}))}}(l)}}},6417:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>IntInputs});var r=n(4967),i=n(9755);class IntInputs extends r.default{_bind(){return this._liveBindTo('[data-js="int-input"]',"keyup change",(t=>{let e=i(t.target),n=e.val().replace(/[^0-9]/g,"");n&&(n=parseInt(n),n>1e7&&(n=1e7)),e.val(n)})),!0}}},5547:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Logger});class Logger{static info(t){t=JSON.stringify(t),console.info("%c "+(t+" "),"background-color: aqua; color: black; font-size: 12px; padding: 2px;")}static warn(t){t=JSON.stringify(t),console.warn("%c "+(t+" "),"background-color: yellow; color: black; font-size: 12px; padding: 2px;")}static error(t){t=JSON.stringify(t),console.error("%c "+(t+" "),"background-color: red; color: white; font-size: 12px; padding: 2px;")}static ok(t){t=JSON.stringify(t),console.log("%c "+(t+" "),"background-color: green; color: white; font-size: 12px; padding: 2px;")}}},2440:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ReCaptcha});var r=n(4967),i=n(9755),a=n(6885);class ReCaptcha extends r.default{_init(){return this.$recaptcha=i(".g-recaptcha"),this.$script=i("[data-js-recaptcha]"),this.$recaptcha.length&&!this.$script.length}_bind(){return a.onloadReCaptcha=()=>{this._liveBindTo(i("form"),"form:error",((t,e)=>{(!e["g-recaptcha-response"]||this._objSize(e)>1)&&grecaptcha.reset()}))},i("head").append(i("<script/>",{src:"https://www.google.com/recaptcha/api.js?onload=onloadReCaptcha","data-js-recaptcha":"true",async:"",defer:""})),!0}}},5938:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Storage});var r=n(6885);class Storage{constructor(t={}){try{this.dummy="_",this.is_support=this.isSupportLocalStorage(),r.__storage=this}catch(t){console.error(t)}}isSupportLocalStorage(){try{return localStorage.setItem(this.dummy,this.dummy),localStorage.removeItem(this.dummy),!0}catch(t){return!1}}set(t,e){if(!this.is_support)return!1;try{localStorage.setItem(t,JSON.stringify(e))}catch(t){0}}get(t,e=null){if(!this.is_support)return!1;let n;try{n=JSON.parse(localStorage.getItem(t))}catch(t){n=e}return n||e}remove(t){if(!this.is_support)return!1;localStorage.removeItem(t)}flush(){if(!this.is_support)return!1;localStorage.clear()}}},9875:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>UUID});var r=n(4967);class UUID extends r.default{_init(){return!0}static guid(){return this.s4()+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+"-"+this.s4()+this.s4()+this.s4()}static s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}},9649:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>YearInputs});var r=n(4967),i=n(9755);class YearInputs extends r.default{_bind(){return this._liveBindTo('[data-js="year-input"]',"keyup change",(t=>{let e=i(t.target),n=e.val().replace(/[^0-9]/g,""),r=this._with(new Date).getFullYear();if(n)switch(n=parseInt(n),!0){case/^\d{4,}$/g.test(n)&&n<1930:n=1930;break;case/^\d{4,}$/g.test(n)&&n>r:n=r}e.val(n)})),!0}}},2756:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Admin});var r=n(4967),i=n(2440),a=n(3064),o=n(683),s=n(7757),l=n(3166),c=n(4520),u=n(4558),p=n(4584),m=n(6417),_=n(9649),v=n(5938),b=n(9516),S=n(9718),w=n(3184),T=n(1377),C=n(4466),A=n(9279),P=n(2405),M=n(1418),I=n(5200),E=n(4419),O=n(9116),D=n(7391),L=n(9198),R=n(8449),N=n(5668),F=n(4773),G=n(9989),V=n(8668),Y=n(9700),z=n(5903),$=n(8588),H=n(1838),B=n(1588),W=n(58),U=n(3633),q=n(9755),X=n(9755);void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){var t=/function\s([^(]{1,})\(/.exec(this.toString());return t&&t.length>1?t[1].trim():""},set:function(t){}}),q.expr[":"].regex=function(t,e,n){let r=n[3].split(","),i=/^(data|css):/,a={method:r[0].match(i)?r[0].split(":")[0]:"attr",property:r.shift().replace(i,"")};return new RegExp(r.join("").replace(/^\s+|\s+$/g,""),"ig").test(q(t)[a.method](a.property))};class Admin extends r.default{_init(){let t=n(6885);return t.jQuery=X,t.$=X,this.$=X,this.routes=n(9323),this.routes=X.extend(this.routes,n(5201)),new i.default,new v.default,new a.default,new o.default,new s.default,new u.default,new l.default,new m.default,new _.default,new p.default,new b.default,new S.default,new w.default,new T.default,new C.default,new P.default,new M.default,new E.default,new O.default,new D.default,new L.default,new R.default,new N.default,new F.default,new G.default,new V.default,new Y.default,new z.default,new $.default,new H.default,new B.default,new W.default,new I.default,new A.default,new U.default,this.hotKeys(),this.notifications(),console.log("Admin panel initiated..."),!0}hotKeys(){let t=X("body");this._bindTo(t,"keydown",(t=>{let e=X('[data-js="ajax-link"]').filter(".create-button"),n=X(".modal");if(t.altKey&&("n"===t.key||"т"===t.key)&&e.length&&!n.length)return t.preventDefault(),e.get(0).click(),!1}))}notifications(){let t=X("body").find("[data-js-notification_immediately]");t.length&&t.each(((t,e)=>{new c.default(X(e).data("js-notification_immediately"))}))}}},9718:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Admins});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Admins extends r.default{_init(){return this.$list=a('[data-js="admins-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"admin:created",(()=>{o.location.reload()})),this._bindTo(a(o),"admin:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.admin)),r=this._nullSafe((()=>e.response.notification.data.role)),a=this._nullSafe((()=>e.$modal)),o=this.$list.find(`[data-js-id="${n.id}"]`).find("td");o.length&&(o.eq(0).text(n.fio),o.eq(1).text(n.login),o.eq(2).text(r),o.eq(3).text(n.ban?"Да":"Нет")),a&&a.length&&a.close(null,(()=>{let t=this._route("admin:admin:edit",{admin:n.id});new i.default({route:t.uri})}))})),!0}}},4466:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Backups});var r=n(4967),i=n(3330),a=n(7249),o=n(9755),s=n(6885);class Backups extends r.default{_init(){return this.$list=o('[data-js="backups-list"]'),!!this.$list.length}_bind(){return this._bindTo(o('[data-js-backups-list="delete"]'),"click",(t=>(t.preventDefault(),new i.default({url:o(t.target).attr("href"),method:"post",success:t=>{let e=this._nullSafe((()=>t.notification.data.file_name));this.$list.find(`[data-js-backups-list-id="${e}"]`).remove()}}),!1))),this._bindTo(o('[data-js-backups-list="create"]'),"click",(t=>{t.preventDefault();let e=new a.default;return new i.default({url:o(t.target).attr("href"),method:"POST",success:t=>{e.remove(),s.location.reload()}}),!1})),!0}}},5200:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Chunks});var r=n(4967),i=n(1721),a=n(3064),o=n(9755),s=n(6885);class Chunks extends r.default{_init(){return this.$list=o('[data-js="chunks-list"]'),!!this.$list.length}_bind(){this._bindTo(o(s),"chunk:created",(()=>{s.location.reload()})),this._bindTo(o(s),"chunk:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.chunk)),r=this._nullSafe((()=>e.$modal)),a=this.$list.find(`[data-js-id="${n.name}"]`).find("td");a.length&&(a.eq(0).text(n.name),a.eq(1).text(n.description)),r&&r.length&&r.close(null,(()=>{let t=this._route("admin:chunk:edit",{chunk:n.name});new i.default({route:t.uri})}))}));let t=this._getHashParams(),e=this._nullSafe((()=>t.edit_chunk));return e&&a.default.call(e),!0}}},1418:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>CpuLoad});var r=n(4967),i=n(3330),a=n(9755);class CpuLoad extends r.default{_init(){return this.$load=a("[data-js-cpu-load]"),!!this.$load.length}_bind(){return setInterval((()=>{new i.default({url:this._route("admin:cpu-load").uri,success:t=>{let e=this._nullSafe((()=>t.data.load));this.$load.text(e)}})}),5e3),!0}}},6467:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>CustomFields});var r=n(4967),i=n(767),a=n(9755),o=n(6885);class CustomFields extends r.default{_init(){return this.$cf=a('[data-js="custom-field-options"]'),!!this.$cf.length}_bind(){this._bindTo(a(o),"modal:with-form:appended",(()=>{this.showOldCustomFields()}));let t={};return this.$cf.each(((e,n)=>{let r=a(n),i=r.data("js-custom-field-options-name"),o=r.closest("form").find(`[name="${i}"]`),s=this.getField(o);t[i]={name:i,$current:r,$target:o,field:s},r.is(":visible")&&this.selectOption(r,s)})),a.each(t,((t,e)=>{this._bindTo(e.$target,"change",(t=>{let n=this.getField(a(t.currentTarget));this.selectOption(e.$current,n),this.showOldCustomFields()}))})),!0}getField(t){return t.find("option:selected").data("cf-field")}selectOption(t,e){let n;n=t.data("js-cf-nested")?t.find("> [data-js-custom-field-options]"):a('[data-js="custom-field-options"]:not([data-js-cf-nested]) > [data-js-custom-field-options]'),n.hide(),n.filter(`:regex(data:js-custom-field-options,^${e}:|:${e}:|^${e}$|:${e}$)`).show(),a(o).trigger("image-preview:update"),a(o).trigger("image-select:init"),a("select[multiple]").chosen({search_contains:!0,no_results_text:"Не найдено соответствий запросу:",placeholder_text_multiple:"Выберите или начните вбивать…"}),new i.default({$scroll_element:n.closest(".modal")})}showOldCustomFields(){let t=a("[data-model-fields]").data("model-fields"),e=this._nullSafe((()=>t.fields));this._objSize(e)&&a.each(e,((t,e)=>{let n=this.$cf.find(`[name="custom_fields[${t}]"]`),r=this.$cf.find(`[name="custom_fields[${t}][cf_data][]"]`),i=this.$cf.find(`[name="custom_fields[${t}][]"]`),showRoot=t=>{let e=a(t).closest("[data-js-custom-field-options]");e.closest("[data-js-cf-nested]").length||e.show()};n.each(((t,e)=>showRoot(e))),r.each(((t,e)=>showRoot(e))),i.each(((t,e)=>showRoot(e)))}))}}},9516:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Dashboard});var r=n(4967),i=n(9755),a=n(6885);class Dashboard extends r.default{_init(){return this.$dashboard=i('[data-js="dashboard"]'),!!this.$dashboard.length}_bind(){return a.c3=n(5175).Z,a.d3=n(7693),this.initReviewsChart(),!0}initReviewsChart(){let t=this.$dashboard.find('[data-js-dashboard-graph="review"]');if(!t.length)return!1;a.c3.generate({bindto:t.find(".dashboard-chart").get(0),size:{height:200},padding:{right:20},data:{x:"x",url:t.data("js-dashboard-graph-url"),mimeType:"json",keys:{x:"date",value:["count","published","spam","reply"]},names:{count:"Всего",published:"Опубликовано",spam:"Спам",reply:"Отвечены"},colors:{count:"#1f77b4",published:"#2ca02c",spam:"#d62728",reply:"#ff7f0e"},type:"bar"},bar:{width:{ratio:.5}},axis:{x:{type:"timeseries",tick:{format:"%d.%m.%y"}},y:{tick:{format:d3.format("d")},label:{text:"Количество",position:"outer-middle"}}}})}}},4584:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Dataset});var r=n(4967),i=n(1474),a=n(767),o=n(9755),s=n(6885);class Dataset extends r.default{_init(){return!0}_bind(){return this._liveBindTo('[data-js="item-delete"]',"click",(t=>{this.deleteOrRestore(o(t.target))})),this._liveBindTo('[data-js="item-restore"]',"click",(t=>{this.deleteOrRestore(o(t.target))})),this._bindTo(o(s),"modal:opened",((t,e)=>{let n=this._nullSafe((()=>e.$modal));this.initSortable(n),this.initAddItems(n)})),!0}deleteOrRestore(t){let e=t.closest('[data-js="dataset-delete-wrapper"]'),n=e.find("input");return t.is('[data-js="item-delete"]')?(e.addClass("deleted"),n.val(1),!1):t.is('[data-js="item-restore"]')?(e.removeClass("deleted"),n.val(0),!1):this}initSortable(t){t.find(".dataset__items").each(((t,e)=>{let n=o(e),r=n.find('[data-js="ace-editor-wrapper"]');i.ZP.create(e,{handle:".dataset__item__move",onStart:()=>{n.find("textarea").prop("disabled",!0),r.length&&(r.css({"pointer-events":"none",opacity:.4}),r.find(".ace_gutter-layer").css({"pointer-events":"none"}))},onEnd:()=>{n.find("textarea").prop("disabled",!1),r.length&&(r.css({"pointer-events":"initial",opacity:1}),r.find(".ace_gutter-layer").css({"pointer-events":"auto"}))}})}))}initAddItems(t){let e=t.find('[data-js="dataset__add-item"]'),n=t.find(".dataset__items");this._bindTo(e,"click",(()=>{let e=n.find("> *").last(),r=e.clone();r.find(":input").val(""),r.removeAttr("style"),r.insertBefore(e),new a.default({$scroll_element:t})}))}}},1377:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Errors});var r=n(4967),i=n(9755),a=n(6885);class Errors extends r.default{_init(){return this.$list=i('[data-js="errors-list"]'),!!this.$list.length}_bind(){return this._bindTo(i(a),"error:resolved",((t,e)=>{a.location.reload()})),!0}}},1720:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ImageSelect});var r=n(4967),i=(n(8796),n(9755)),a=n(6885);class ImageSelect extends r.default{_init(){return this.selector='[data-js="image-select"]',!0}_bind(){return this.initSelectors(),this._bindTo(i(a),"image-select:init",(()=>{this.initSelectors()})),!0}initSelectors(){i(this.selector).each(((t,e)=>{let n=i(e);!n.data("dd-slick:inited")&&n.closest("[data-js-custom-field-options]").is(":visible")&&(n.ddslick({data:n.data("js-image-select-data"),width:400,height:285,imagePosition:"right",selectText:"Выберите изображение",onSelected:t=>{t.selectedItem.closest(".dd-container").next("select").find(`option[value="${t.selectedData.value}"]`).attr("selected",!0),n.trigger("change")}}),n.data("dd-slick:inited",!0))}))}}},9279:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>ImagesSet});var r=n(4967),i=(n(1721),n(9755)),a=n(6885);class ImagesSet extends r.default{_init(){return!0}_bind(){return this._liveBindTo('[data-js-images-set="add-image"]',"click",(t=>{t.preventDefault();let e=i(t.currentTarget),n=e.closest('[data-js="images-set"]'),r=n.data("js-images-set-image-placeholder"),o=n.data("js-images-set-name"),s=n.find(".image-placeholder").length,l=`<div class="image-placeholder">\n                            <input name="custom_fields[${o}][cf_image][${s}]" type="file" accept="image/*" data-js="image-preview"/>\n                            <img src="${r}" alt=""/>\n                            <div class="delete-images-set-wrapper">\n                                <a href="javascript:void(0);" class="images-set__delete" data-js-images-set="delete" title="Удалить">⤬</a>\n                                <input class="images-set__delete-input" type="text" name="custom_fields[${o}][cf_image_delete][${s}]" value="0"/>\n                                <input class="images-set__delete-position"\n                                       type="text"\n                                       name="custom_fields[${o}][cf_image_position][${s}]"\n                                       value="${s+1}"\n                                       title="Позиция"\n                                />\n                            </div>\n                         </div>`;e.before(l),i(a).trigger("image-preview:update"),i(a).trigger("image-select:init")})),this._liveBindTo('[data-js-images-set="delete"]',"click",(t=>{let e=i(t.currentTarget),n=e.next();if(0==n.val()){let t=e.closest(".image-placeholder");t.find('[data-js="image-preview"]').next("img").attr("src").match(/admin\/image\.svg/g)?t.remove():(n.val(1),e.text("↺"),e.addClass("active"),e.attr("title","Восстановить"))}else n.val(0),e.text("⤬"),e.removeClass("active"),e.attr("title","Удалить")})),!0}}},4558:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Sidebar});var r=n(4967),i=n(9755);class Sidebar extends r.default{_init(){return this.$wrapper=i('[data-js="sidebar-wrapper"]'),this.$tree_link=this.$wrapper.find('[data-js="sidebar-tree-link"]'),!!this.$wrapper.length}_bind(){return this._bindTo(this.$tree_link,"click",(t=>{i(t.target).closest(".sidebar-menu__root").toggleClass("opened")})),!0}}},2405:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Sort});var r=n(4967),i=n(9755),a=n(6885);class Sort extends r.default{_init(){return this.$sort=i("[data-js-sort]"),!!this.$sort.length}_bind(){return this._bindTo(this.$sort,"click",(t=>{let e,n=i(t.target),r=n.data("js-sort"),o=n.data("js-sort-asc"),s=n.data("js-sort-desc");switch(!0){case s&&!o:e="asc",n.removeAttr("data-js-sort-desc"),n.attr("data-js-sort-asc",!0),n.data("js-sort-desc",!1),n.data("js-sort-asc",!0);break;case!s&&o:e="desc",n.removeAttr("data-js-sort-asc"),n.attr("data-js-sort-desc",!0),n.data("js-sort-asc",!1),n.data("js-sort-desc",!0);break;default:e="asc",n.attr("data-js-sort-asc",!0)}r="desc"===e?`${r}:`:r,a.location.href=this._updateQueryStringParameter("sort",r)})),!0}}},3184:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>Users});var r=n(4967),i=n(1721),a=n(9755),o=n(6885);class Users extends r.default{_init(){return this.$list=a('[data-js="users-list"]'),!!this.$list.length}_bind(){return this._bindTo(a(o),"user:created",(()=>{o.location.reload()})),this._bindTo(a(o),"user:updated",((t,e)=>{let n=this._nullSafe((()=>e.response.notification.data.user)),r=this._nullSafe((()=>e.response.notification.data.avatar)),a=this._nullSafe((()=>e.response.notification.data.social)),o=this._nullSafe((()=>e.response.notification.data.reviews)),s=this._nullSafe((()=>e.response.notification.data.type)),l=this._nullSafe((()=>e.$modal)),c=this.$list.find(`[data-js-id="${n.id}"]`).find("td");c.length&&(c.eq(0).find("img").attr("src",r),c.eq(1).text(n.name?n.name:'<span style="color: #ff3835;">Не указано</span>'),c.eq(2).text(a),c.eq(3).text(o),c.eq(4).html(s)),l&&l.length&&l.close(null,(()=>{let t=this._route("admin:user:edit",{user:n.id});new i.default({route:t.uri})}))})),!0}}},8796:(t,e,n)=>{!function(t){t.fn.ddslick=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exists."):e.init.apply(this,arguments)};var e={},n={data:[],keepJSONItemsOnTop:!1,width:260,height:null,background:"#eee",selectText:"",defaultSelectedIndex:null,truncateDescription:!0,imagePosition:"left",showSelectedHTML:!0,clickOffToClose:!0,embedCSS:!0,onSelected:function(){}};function j(t,e){var n=t.data("ddslick"),r=t.find(".dd-selected"),i=r.siblings(".dd-selected-value"),a=(t.find(".dd-options"),r.siblings(".dd-pointer"),t.find(".dd-option").eq(e)),o=a.closest("li"),s=n.settings,l=n.settings.data[e];t.find(".dd-option").removeClass("dd-option-selected"),a.addClass("dd-option-selected"),n.selectedIndex=e,n.selectedItem=o,n.selectedData=l,s.showSelectedHTML?r.html((l.imageSrc?'<img class="dd-selected-image'+("right"==s.imagePosition?" dd-image-right":"")+'" src="'+l.imageSrc+'" />':"")+(l.text?'<label class="dd-selected-text">'+l.text+"</label>":"")+(l.description?'<small class="dd-selected-description dd-desc'+(s.truncateDescription?" dd-selected-description-truncated":"")+'" >'+l.description+"</small>":"")):r.html(l.text),i.val(l.value),n.original.val(l.value),t.data("ddslick",n),k(t),function g(t){var e=t.find(".dd-select").css("height"),n=t.find(".dd-selected-description"),r=t.find(".dd-selected-image");n.length<=0&&r.length>0&&t.find(".dd-selected-text").css("lineHeight",parseInt(e)-17+"px")}(t),"function"==typeof s.onSelected&&s.onSelected.call(this,n)}function f(e){var n=e.find(".dd-select"),r=n.siblings(".dd-options"),i=n.find(".dd-pointer"),a=r.is(":visible");t(".dd-click-off-close").not(r).slideUp(50),t(".dd-pointer").removeClass("dd-pointer-up"),a?(r.slideUp("fast"),i.removeClass("dd-pointer-up")):(r.slideDown("fast"),i.addClass("dd-pointer-up")),function h(e){e.find(".dd-option").each((function(){var n=t(this),r=n.css("height"),i=n.find(".dd-option-description"),a=e.find(".dd-option-image");i.length<=0&&a.length>0&&n.find(".dd-option-text").css("lineHeight",parseInt(r)-17+"px")}))}(e)}function k(t){t.find(".dd-options").slideUp(50),t.find(".dd-pointer").removeClass("dd-pointer-up").removeClass("dd-pointer-up")}e.init=function(e){e=t.extend({},n,e);return t("#css-ddslick").length<=0&&e.embedCSS&&t('<style id="css-ddslick" type="text/css">.dd-select{ border-radius:2px; border:solid 1px #ccc; position:relative; cursor:pointer;}.dd-desc { color:#aaa; display:block; overflow: hidden; font-weight:normal; line-height: 1.4em; }.dd-selected{ overflow:hidden; display:block; padding:10px; padding-right: 30px; font-weight:bold;}.dd-pointer{ width:0; height:0; position:absolute; right:10px; top:50%; margin-top:-3px;}.dd-pointer-down{ border:solid 5px transparent; border-top:solid 5px #000; }.dd-pointer-up{border:solid 5px transparent !important; border-bottom:solid 5px #000 !important; margin-top:-8px;}.dd-options{ border:solid 1px #ccc; border-top:none; list-style:none; box-shadow:0px 1px 5px #ddd; display:none; position:absolute; z-index:2000; margin:0; padding:0;background:#fff; overflow:auto;}.dd-option{padding:10px; display:block; border-bottom:solid 1px #ddd; overflow:hidden; text-decoration:none; color:#333; cursor:pointer;-webkit-transition: all 0.25s ease-in-out; -moz-transition: all 0.25s ease-in-out;-o-transition: all 0.25s ease-in-out;-ms-transition: all 0.25s ease-in-out; }.dd-options > li:last-child > .dd-option{ border-bottom:none;}.dd-option:hover{ background:#f3f3f3; color:#000;}.dd-selected-description-truncated { text-overflow: ellipsis; white-space:nowrap; }.dd-option-selected { background:#f6f6f6; }.dd-option-image, .dd-selected-image { vertical-align:middle; float:left; margin-right:5px; max-width:64px;}.dd-image-right { float:right; margin-right:15px; margin-left:5px;}.dd-container{ position:relative;}​ .dd-selected-text { font-weight:bold}​</style>').appendTo("head"),this.each((function(){var n=t(this);if(!n.data("ddslick")){var r=[];e.data;n.find("option").each((function(){var e=t(this),n=e.data();r.push({text:t.trim(e.text()),value:e.val(),selected:e.is(":selected"),description:n.description,imageSrc:n.imagesrc})})),e.keepJSONItemsOnTop?t.merge(e.data,r):e.data=t.merge(r,e.data);var i=n,a=t("<div></div>");n.replaceWith(a),(n=a).addClass("dd-container").append('<div class="dd-select"><input class="dd-selected-value" type="hidden" /><a class="dd-selected"></a><span class="dd-pointer dd-pointer-down"></span></div>').append('<ul class="dd-options"></ul>');r=n.find(".dd-select");var o=n.find(".dd-options");o.css({width:e.width}),r.css({width:e.width,background:e.background}),n.css({width:e.width}),null!=e.height&&o.css({height:e.height,overflow:"auto"}),t.each(e.data,(function(t,n){n.selected&&(e.defaultSelectedIndex=t),o.append('<li><a class="dd-option">'+(n.value?' <input class="dd-option-value" type="hidden" value="'+n.value+'" />':"")+(n.imageSrc?' <img class="dd-option-image'+("right"==e.imagePosition?" dd-image-right":"")+'" src="'+n.imageSrc+'" />':"")+(n.text?' <label class="dd-option-text">'+n.text+"</label>":"")+(n.description?' <small class="dd-option-description dd-desc">'+n.description+"</small>":"")+"</a></li>")}));var s={settings:e,original:i,selectedIndex:-1,selectedItem:null,selectedData:null};if(n.data("ddslick",s),e.selectText.length>0&&null==e.defaultSelectedIndex)n.find(".dd-selected").html(e.selectText);else{var l=null!=e.defaultSelectedIndex&&e.defaultSelectedIndex>=0&&e.defaultSelectedIndex<e.data.length?e.defaultSelectedIndex:0;j(n,l)}n.find(".dd-select").on("click.ddslick",(function(){f(n)})),n.find(".dd-option").on("click.ddslick",(function(){j(n,t(this).closest("li").index())})),e.clickOffToClose&&(o.addClass("dd-click-off-close"),n.on("click.ddslick",(function(t){t.stopPropagation()})),t("body").on("click",(function(){t(".dd-click-off-close").slideUp(50).siblings(".dd-select").find(".dd-pointer").removeClass("dd-pointer-up")})))}}))},e.select=function(e){return this.each((function(){void 0!==e.index&&j(t(this),e.index)}))},e.open=function(){return this.each((function(){var e=t(this);e.data("ddslick")&&f(e)}))},e.close=function(){return this.each((function(){var e=t(this);e.data("ddslick")&&k(e)}))},e.destroy=function(){return this.each((function(){var e=t(this),n=e.data("ddslick");if(n){var r=n.original;e.removeData("ddslick").unbind(".ddslick").replaceWith(r)}}))}}(n(9755))},1210:(t,e,n)=>{var r={"./core/apps/activity/src/js/admin/activities.js":[8449,9,7729,4319,858,767,8449],"./core/apps/affiliate/src/js/admin/affiliates.js":[5668,9,7729,4319,858,767,5668],"./core/apps/affiliate/src/js/admin/employees.js":[4773,9,7729,4319,858,767,4773],"./core/apps/affiliate/src/js/admin/professions.js":[9989,9,7729,4319,858,767,9989],"./core/apps/page/src/js/admin/pages.js":[7391,9,7729,4319,858,767,7391],"./core/apps/page/src/js/app/load-more.js":[30,9,30],"./core/apps/review/src/js/admin/reviews.js":[1588,9,7729,4319,858,767,1588],"./core/apps/router/src/js/admin/redirects.js":[58,9,58],"./core/apps/service/src/js/admin/offer-for-service.js":[1611,9,7729,1611],"./core/apps/service/src/js/admin/offers.js":[8588,9,7729,4319,858,767,8588],"./core/apps/service/src/js/admin/services.js":[5903,9,7729,4319,858,767,5903],"./core/apps/slider/src/js/admin/html-sliders.js":[9700,9,7729,4319,858,767,9700],"./core/apps/slider/src/js/admin/image-sliders.js":[8668,9,7729,4319,858,767,8668],"./core/apps/taxonomy/src/js/admin/taxonomy.js":[3633,9,7729,4319,858,767,3633],"./core/apps/template/src/js/admin/templates.js":[9198,9,7729,4319,858,767,9198],"./core/apps/variable/src/js/admin/variables.js":[9116,9,7729,4319,858,767,9116],"./core/apps/work/src/js/admin/works.js":[1838,9,7729,4319,858,767,1838],"./core/src/js/_core/_base-controller.js":[4967,9],"./core/src/js/_core/admin/ace-editor.js":[767,9,7729,4319,858,767],"./core/src/js/_core/admin/admin-modal.js":[1721,9,7729,4319,858,767],"./core/src/js/_core/admin/ajax-links.js":[3064,9,7729,4319,858,767,3064],"./core/src/js/_core/admin/ajax-upload.js":[683,9,683],"./core/src/js/_core/admin/context-menu.js":[2637,9,2637],"./core/src/js/_core/admin/image-preview.js":[3166,9,3166],"./core/src/js/_core/admin/loader.js":[7249,9,7249],"./core/src/js/_core/admin/notification.js":[4520,9],"./core/src/js/_core/admin/search-input.js":[7757,9,7757],"./core/src/js/_core/admin/select-date.js":[5962,9,4319,5962],"./core/src/js/_core/admin/tree.js":[7864,9,7729,4319,858,767,7864],"./core/src/js/_core/ajax-forms.js":[4419,9,7729,6322],"./core/src/js/_core/ajax.js":[3330,9],"./core/src/js/_core/app/dev-grid.js":[2807,9,2807],"./core/src/js/_core/inputs.js":[5392,9,5392],"./core/src/js/_core/int-inputs.js":[6417,9,6417],"./core/src/js/_core/logger.js":[5547,9],"./core/src/js/_core/re-captcha.js":[2440,9,2440],"./core/src/js/_core/storage.js":[5938,9,5938],"./core/src/js/_core/uuid.js":[9875,9,9875],"./core/src/js/_core/year-inputs.js":[9649,9,9649],"./core/src/js/admin/admin.js":[2756,9,7729,4319,858,5175,1474,767,7391,2756],"./core/src/js/admin/modules/admins.js":[9718,9,7729,4319,858,767,9718],"./core/src/js/admin/modules/backups.js":[4466,9,4466],"./core/src/js/admin/modules/chunks.js":[5200,9,7729,4319,858,767,5200],"./core/src/js/admin/modules/cpu-load.js":[1418,9,1418],"./core/src/js/admin/modules/custom-fields.js":[6467,9,7729,4319,858,767],"./core/src/js/admin/modules/dashboard.js":[9516,9,5175,9516],"./core/src/js/admin/modules/dataset.js":[4584,9,7729,4319,858,1474,767,4584],"./core/src/js/admin/modules/errors.js":[1377,9,1377],"./core/src/js/admin/modules/image-select.js":[1720,9,1720],"./core/src/js/admin/modules/images-set.js":[9279,9,7729,4319,858,767,9279],"./core/src/js/admin/modules/sidebar.js":[4558,9,4558],"./core/src/js/admin/modules/sort.js":[2405,9,2405],"./core/src/js/admin/modules/users.js":[3184,9,7729,4319,858,767,3184],"./core/src/js/admin/vendor/dd-slick.js":[8796,7,8796],"./core/src/js/app/admin-panel.js":[5779,9,5779],"./core/src/js/app/app.js":[2058,9,7729,4682,2058]};function webpackAsyncContext(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((()=>n.t(i,16|e[1])))}webpackAsyncContext.keys=()=>Object.keys(r),webpackAsyncContext.id=1210,t.exports=webpackAsyncContext},4771:t=>{"use strict";t.exports=document},6885:t=>{"use strict";t.exports=window},9323:t=>{"use strict";t.exports=JSON.parse('{"admin:activity:list":{"method":"GET","uri":"admin/activity"},"admin:activity:show":{"method":"GET","uri":"admin/activity/{activity}"},"admin:variable:list":{"method":"GET","uri":"admin/variables"},"admin:variable:create":{"method":"GET","uri":"admin/variables/create"},"admin:variable:store":{"method":"POST","uri":"admin/variables"},"admin:variable:edit":{"method":"GET","uri":"admin/variables/{variable}/edit"},"admin:variable:update":{"method":"POST","uri":"admin/variables/{variable}"},"admin:template:list":{"method":"GET","uri":"admin/templates"},"admin:template:create":{"method":"GET","uri":"admin/templates/create"},"admin:template:store":{"method":"POST","uri":"admin/templates"},"admin:template:edit":{"method":"GET","uri":"admin/templates/{template}/edit"},"admin:template:update":{"method":"POST","uri":"admin/templates/{template}"},"admin:redirect:list":{"method":"GET","uri":"admin/redirects"},"admin:redirect:create":{"method":"GET","uri":"admin/redirects/create"},"admin:redirect:store":{"method":"POST","uri":"admin/redirects"},"admin:redirect:edit":{"method":"GET","uri":"admin/redirects/{redirect}/edit"},"admin:redirect:update":{"method":"POST","uri":"admin/redirects/{redirect}"},"admin:affiliate:list":{"method":"GET","uri":"admin/affiliates"},"admin:affiliate:create":{"method":"GET","uri":"admin/affiliates/create"},"admin:affiliate:store":{"method":"POST","uri":"admin/affiliates"},"admin:affiliate:edit":{"method":"GET","uri":"admin/affiliates/{affiliate}/edit"},"admin:affiliate:update":{"method":"POST","uri":"admin/affiliates/{affiliate}"},"admin:affiliate:employee:list":{"method":"GET","uri":"admin/employees"},"admin:affiliate:employee:create":{"method":"GET","uri":"admin/employees/create"},"admin:affiliate:employee:store":{"method":"POST","uri":"admin/employees"},"admin:affiliate:employee:edit":{"method":"GET","uri":"admin/employees/{employee}/edit"},"admin:affiliate:employee:update":{"method":"POST","uri":"admin/employees/{employee}"},"admin:affiliate:profession:list":{"method":"GET","uri":"admin/professions"},"admin:affiliate:profession:create":{"method":"GET","uri":"admin/professions/create"},"admin:affiliate:profession:store":{"method":"POST","uri":"admin/professions"},"admin:affiliate:profession:edit":{"method":"GET","uri":"admin/professions/{profession}/edit"},"admin:affiliate:profession:update":{"method":"POST","uri":"admin/professions/{profession}"},"admin:widget:image-slider:list":{"method":"GET","uri":"admin/image-sliders"},"admin:widget:image-slider:create":{"method":"GET","uri":"admin/image-sliders/create"},"admin:widget:image-slider:store":{"method":"POST","uri":"admin/image-sliders"},"admin:widget:image-slider:edit":{"method":"GET","uri":"admin/image-sliders/{image_slider}/edit"},"admin:widget:image-slider:update":{"method":"POST","uri":"admin/image-sliders/{image_slider}"},"admin:image-slider:cache:clear":{"method":"POST","uri":"admin/image-sliders/{image_slider}/clear-cache"},"admin:image-slider:create:similar":{"method":"GET","uri":"admin/image-sliders/{image_slider}/create:similar"},"admin:widget:html-slider:list":{"method":"GET","uri":"admin/html-sliders"},"admin:widget:html-slider:create":{"method":"GET","uri":"admin/html-sliders/create"},"admin:widget:html-slider:store":{"method":"POST","uri":"admin/html-sliders"},"admin:widget:html-slider:edit":{"method":"GET","uri":"admin/html-sliders/{html_slider}/edit"},"admin:widget:html-slider:update":{"method":"POST","uri":"admin/html-sliders/{html_slider}"},"admin:html-slider:cache:clear":{"method":"POST","uri":"admin/html-sliders/{html_slider}/clear-cache"},"admin:service:list":{"method":"GET","uri":"admin/services"},"admin:service:create":{"method":"GET","uri":"admin/services/create"},"admin:service:store":{"method":"POST","uri":"admin/services"},"admin:service:edit":{"method":"GET","uri":"admin/services/{service}/edit"},"admin:service:update":{"method":"POST","uri":"admin/services/{service}"},"admin:service:search-section-page":{"method":"GET","uri":"admin/services/search-section-page/{field}"},"admin:service:search-page":{"method":"GET","uri":"admin/services/search-page/{field}"},"admin:service:offers":{"method":"GET","uri":"admin/services/offers/{service_id}"},"admin:service:offer:list":{"method":"GET","uri":"admin/offers"},"admin:service:offer:create":{"method":"GET","uri":"admin/offers/create"},"admin:service:offer:store":{"method":"POST","uri":"admin/offers"},"admin:service:offer:edit":{"method":"GET","uri":"admin/offers/{offer}/edit"},"admin:service:offer:update":{"method":"POST","uri":"admin/offers/{offer}"},"admin:offer:search-section-page":{"method":"GET","uri":"admin/offers/search-section-page/{field}"},"admin:offer:search-page":{"method":"GET","uri":"admin/offers/search-page/{field}"},"admin:offer:search-service":{"method":"GET","uri":"admin/offers/search-service/{field}"},"admin:login:page":{"method":"GET","uri":"admin/vojti"},"admin:login":{"method":"POST","uri":"admin/vojti"},"admin:logout":{"method":"GET","uri":"admin/vyjti"},"admin:index":{"method":"GET","uri":"admin"},"admin:cpu-load":{"method":"GET","uri":"admin/cpu-load"},"admin:cache:reset":{"method":"GET","uri":"admin/cache/reset"},"admin:cache:reset:selected":{"method":"POST","uri":"admin/cache/reset"},"admin:ace:action":{"method":"GET","uri":"admin/ace-actions"},"admin:search-input":{"method":"GET","uri":"admin/search-input/{model}/{field}"},"admin:upload:image":{"method":"POST","uri":"admin/upload/image"},"admin:upload:video":{"method":"POST","uri":"admin/upload/video"},"admin:site-tree":{"method":"GET","uri":"admin/site-tree"},"admin:admin:list":{"method":"GET","uri":"admin/admins"},"admin:admin:create":{"method":"GET","uri":"admin/admins/create"},"admin:admin:store":{"method":"POST","uri":"admin/admins"},"admin:admin:edit":{"method":"GET","uri":"admin/admins/{admin}/edit"},"admin:admin:update":{"method":"POST","uri":"admin/admins/{admin}"},"admin:error:list":{"method":"GET","uri":"admin/error"},"admin:error:show":{"method":"GET","uri":"admin/error/{error}"},"admin:error:resolve":{"method":"POST","uri":"admin/error/{error}"},"admin:backups:list":{"method":"GET","uri":"admin/backups"},"admin:backups:create":{"method":"POST","uri":"admin/backups/create"},"admin:backups:download":{"method":"GET","uri":"admin/backups/download/{file_name}"},"admin:backups:delete":{"method":"POST","uri":"admin/backups/delete/{file_name}"},"admin:user:list":{"method":"GET","uri":"admin/users"},"admin:user:create":{"method":"GET","uri":"admin/users/create"},"admin:user:store":{"method":"POST","uri":"admin/users"},"admin:user:edit":{"method":"GET","uri":"admin/users/{user}/edit"},"admin:user:update":{"method":"POST","uri":"admin/users/{user}"},"admin:chunk:list":{"method":"GET","uri":"admin/chunks"},"admin:chunk:create":{"method":"GET","uri":"admin/chunks/create"},"admin:chunk:store":{"method":"POST","uri":"admin/chunks"},"admin:chunk:edit":{"method":"GET","uri":"admin/chunks/{chunk}/edit"},"admin:chunk:update":{"method":"POST","uri":"admin/chunks/{chunk}"},"admin:integration:list":{"method":"GET","uri":"admin/integrations"},"admin:integration:create":{"method":"GET","uri":"admin/integrations/create"},"admin:integration:store":{"method":"POST","uri":"admin/integrations"},"admin:integration:edit":{"method":"GET","uri":"admin/integrations/{integration}/edit"},"admin:integration:update":{"method":"POST","uri":"admin/integrations/{integration}"},"admin:work:list":{"method":"GET","uri":"admin/works"},"admin:work:create":{"method":"GET","uri":"admin/works/create"},"admin:work:store":{"method":"POST","uri":"admin/works"},"admin:work:edit":{"method":"GET","uri":"admin/works/{work}/edit"},"admin:work:update":{"method":"POST","uri":"admin/works/{work}"},"admin:work:search-section-page":{"method":"GET","uri":"admin/works/search-section-page/{field}"},"admin:work:search-page":{"method":"GET","uri":"admin/works/search-page/{field}"},"admin:review:list":{"method":"GET","uri":"admin/reviews"},"admin:review:create":{"method":"GET","uri":"admin/reviews/create"},"admin:review:store":{"method":"POST","uri":"admin/reviews"},"admin:review:edit":{"method":"GET","uri":"admin/reviews/{review}/edit"},"admin:review:update":{"method":"POST","uri":"admin/reviews/{review}"},"admin:review:search-bot-user":{"method":"GET","uri":"admin/reviews/search-bot-user/{field}"},"admin:review:dashboard:statistic":{"method":"GET","uri":"admin/reviews/dashboard/statistic"},"admin:taxonomy:list":{"method":"GET","uri":"admin/taxonomy"},"admin:taxonomy:create":{"method":"GET","uri":"admin/taxonomy/create"},"admin:taxonomy:store":{"method":"POST","uri":"admin/taxonomy"},"admin:taxonomy:edit":{"method":"GET","uri":"admin/taxonomy/{tag}/edit"},"admin:taxonomy:update":{"method":"POST","uri":"admin/taxonomy/{tag}"},"admin:opinions:list":{"method":"GET","uri":"admin/opinions"},"admin:opinions:create":{"method":"GET","uri":"admin/opinions/create"},"admin:opinions:store":{"method":"POST","uri":"admin/opinions"},"admin:opinions:edit":{"method":"GET","uri":"admin/opinions/{review}/edit"},"admin:opinions:update":{"method":"POST","uri":"admin/opinions/{review}"},"admin:page:list":{"method":"GET","uri":"admin/pages"},"admin:page:create":{"method":"GET","uri":"admin/pages/create"},"admin:page:store":{"method":"POST","uri":"admin/pages"},"admin:page:edit":{"method":"GET","uri":"admin/pages/{page}/edit"},"admin:page:update":{"method":"POST","uri":"admin/pages/{page}"},"admin:page:descendants":{"method":"GET","uri":"admin/pages/{page}/descendants"},"admin:page:slug:generate":{"method":"GET","uri":"admin/pages/slug/generate/{parent_id}/{v_parent_id?}"},"admin:page:url":{"method":"GET","uri":"admin/pages/{page}/url"},"admin:page:fire-update-event":{"method":"GET","uri":"admin/pages/{page}/fire-update-event"}}')},5201:t=>{"use strict";t.exports=JSON.parse('{"app:facebook:capi":{"method":"POST","uri":"facebook/capi"},"app:banned":{"method":"GET","uri":"vash-akkaunt-zablokirovan"},"app:refresh-csrf":{"method":"GET","uri":"refresh-csrf"},"app:sitemap":{"method":"GET","uri":"sitemap.xml"},"app:sitemap:pages":{"method":"GET","uri":"pages-sitemap.xml"},"app:logout":{"method":"GET","uri":"user/vyjti"},"app:quiz:get-view":{"method":"GET","uri":"quiz/{view}"},"app:feedback:quiz":{"method":"POST","uri":"feedback/quiz"},"app:feedback:appointment":{"method":"POST","uri":"feedback/appointment"},"app:feedback:with-message":{"method":"POST","uri":"feedback/with-message"},"app:modal-views:info-modal":{"method":"GET","uri":"modal-views/{view}/{folder?}"}}')}},t=>{var e;e=5477,t(t.s=e)}]);