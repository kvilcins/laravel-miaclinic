"use strict";(self.webpackChunksynergine=self.webpackChunksynergine||[]).push([[9996,5392],{9996:(t,e,r)=>{r.r(e),r.d(e,{default:()=>u});var n=r(4967),o=r(5392),i=r(5382),a=r.n(i),s=r(9755),l=r(6885);function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _toPropertyKey(t){var e=function _toPrimitive(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function _callSuper(t,e,r){return e=_getPrototypeOf(e),function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(e,r||[],_getPrototypeOf(t).constructor):e.apply(t,r))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}var u=function(t){function Forms(){return function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,Forms),_callSuper(this,Forms,arguments)}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(Forms,t),function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Forms,[{key:"_init",value:function _init(){return this.$forms=s('[data-js="ajax-form"]'),!0}},{key:"_bind",value:function _bind(){var t=this;return this.$forms.each((function(e,r){t.initForm(s(r))})),this._bindTo(s(l),"modal:opened",(function(e,r){t.initForm(s('[data-js="ajax-form"]'))})),this._bindTo(s(l),"ajax:content",(function(e,r){t.initForm(s(r).closest('[data-js="ajax-form"]'))})),!0}},{key:"initForm",value:function initForm(t){if(this._bindTo(t,"submit",(function(t){t.preventDefault();var e=s(t.target).find('input[name="id"]'),r=e.val().replace(/[^0-9]/g,"").length;r<11&&0!=r&&e.after('<div class="form__error">Некорректный телефон</div>')})),t.length){l.call_value&&t.append('<input type="hidden" name="session_id" value="'+l.call_value+'">'),t.append('<input type="hidden" name="page_url" value="'+l.location.href+'">');new(a())({mask:"+7 (h99) - 999 - 99 - 99",showMaskOnHover:!1,definitions:{h:{validator:"[0-6-9]",cardinality:1}}}).mask(".input_phone"),new o.default}}}]),Forms}(n.default)},5392:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Inputs});var o=n(4967),i=n(9755),a=n(6885),s=n(4771),l=n(9755);class Inputs extends o.default{_init(){return this.$block=this.options.$block||null,this.$block?this.$inputs=this.$block.find(":input"):this.$inputs=i(":input"),!!this.$inputs.length}_bind(){this.afterGrowPluginInit(),this.$inputs.each(((t,e)=>{let r=i(e);this._bindTo(i(a),"load",(()=>{r.each(((t,e)=>{let r=i(e),n=r.closest(".input__wrapper");i.trim(r.val())&&n.addClass("focused")}))})),this._bindTo(r,"focus",(t=>{i(t.target).closest(".input__wrapper").addClass("focused")})),this._bindTo(r,"blur",(t=>{let e=i(t.target),r=e.closest(".input__wrapper");i.trim(e.val())||r.removeClass("focused")}))})),this.$inputs.filter("textarea").css({overflow:"hidden"}).autoGrow()}afterGrowPluginInit(){!function(t){t.fn.autoGrow=function(e){return this.filter("textarea").each((function(){let n=this,o=t(n),i=o.height(),l=t.extend({preGrowCallback:null,postGrowCallback:null},e),u=t("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:o.width(),fontSize:o.css("fontSize"),fontFamily:o.css("fontFamily"),fontWeight:o.css("fontWeight"),lineHeight:o.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(s.body),update=function(t){let e=n.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n$/,"<br/>&#xa0;").replace(/\n/g,"<br/>").replace(/ {2,}/g,(function(t){return function(t,e){for(let r=0,n="";r<e;r++)n+=t;return r}("&#xa0;",t.length-1)+" "}));t&&t.data&&"keydown"===t.data.event&&13===t.keyCode&&(e+="<br />"),u.css("width",o.width()),u.html(e+"...");let a=Math.max(u.height()+0,i);null!==l.preGrowCallback&&(a=l.preGrowCallback(o,u,a,i)),o.height(a),null!==l.postGrowCallback&&l.postGrowCallback(o)};o.change(update).keyup(update).keydown({event:"keydown"},update),t(a).resize(update),update()}))}}(l)}}}}]);