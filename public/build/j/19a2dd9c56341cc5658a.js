"use strict";(self.webpackChunksynergine=self.webpackChunksynergine||[]).push([[30],{30:(e,t,a)=>{a.r(t),a.d(t,{default:()=>LoadMore});var r=a(4967),d=a(3330),l=a(9755),n=a(6885);class LoadMore extends r.default{_init(){return this.$load_more=l('[data-js="load-more"]'),this.text=this.options.text||"Загрузка…",!!this.$load_more.length}_bind(){return this.$load_more.each(((e,t)=>{let a=l(t),r=a.find('[data-js-load-more="content"]'),s=a.find('[data-js-load-more="link"]');this._bindTo(s,"click",(e=>{if(e.preventDefault(),s.prop("disabled"))return!1;let t=l.trim(s.text());s.addClass("load-more-loading");let a=s.data("js-load-more-text")?s.data("js-load-more-text"):this.text;return this.setLinkText(s,a),new d.default({url:s.attr("href"),$button:s,success:e=>{let t=this._nullSafe((()=>e.data.view)),a=this._nullSafe((()=>e.data.next));t&&(r.append(l(t)),l(n).trigger("load-more:rendered"),this._triggerVanillaEvent(n,"load-more:rendered:vanilla")),a?s.attr("href",a):s.hide(),r.attr("data-js-load-more-shown",!0)},complete:()=>{s.removeClass("load-more-loading"),this.setLinkText(s,t)}}),!1}))})),!0}setLinkText(e,t){let a=e.find("span");a.length?a.text(t):e.text(t)}}}}]);