"use strict";(self.webpackChunksynergine=self.webpackChunksynergine||[]).push([[9279],{9279:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ImagesSet});var i=a(4967),s=(a(1721),a(9755)),l=a(6885);class ImagesSet extends i.default{_init(){return!0}_bind(){return this._liveBindTo('[data-js-images-set="add-image"]',"click",(e=>{e.preventDefault();let t=s(e.currentTarget),a=t.closest('[data-js="images-set"]'),i=a.data("js-images-set-image-placeholder"),n=a.data("js-images-set-name"),d=a.find(".image-placeholder").length,g=`<div class="image-placeholder">\n                            <input name="custom_fields[${n}][cf_image][${d}]" type="file" accept="image/*" data-js="image-preview"/>\n                            <img src="${i}" alt=""/>\n                            <div class="delete-images-set-wrapper">\n                                <a href="javascript:void(0);" class="images-set__delete" data-js-images-set="delete" title="Удалить">⤬</a>\n                                <input class="images-set__delete-input" type="text" name="custom_fields[${n}][cf_image_delete][${d}]" value="0"/>\n                                <input class="images-set__delete-position"\n                                       type="text"\n                                       name="custom_fields[${n}][cf_image_position][${d}]"\n                                       value="${d+1}"\n                                       title="Позиция"\n                                />\n                            </div>\n                         </div>`;t.before(g),s(l).trigger("image-preview:update"),s(l).trigger("image-select:init")})),this._liveBindTo('[data-js-images-set="delete"]',"click",(e=>{let t=s(e.currentTarget),a=t.next();if(0==a.val()){let e=t.closest(".image-placeholder");e.find('[data-js="image-preview"]').next("img").attr("src").match(/admin\/image\.svg/g)?e.remove():(a.val(1),t.text("↺"),t.addClass("active"),t.attr("title","Восстановить"))}else a.val(0),t.text("⤬"),t.removeClass("active"),t.attr("title","Удалить")})),!0}}}}]);